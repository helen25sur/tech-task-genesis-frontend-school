var uh=Object.defineProperty;var ch=(e,r,o)=>r in e?uh(e,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[r]=o;var Cs=(e,r,o)=>(ch(e,typeof r!="symbol"?r+"":r,o),o);(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const h of document.querySelectorAll('link[rel="modulepreload"]'))c(h);new MutationObserver(h=>{for(const p of h)if(p.type==="childList")for(const E of p.addedNodes)E.tagName==="LINK"&&E.rel==="modulepreload"&&c(E)}).observe(document,{childList:!0,subtree:!0});function o(h){const p={};return h.integrity&&(p.integrity=h.integrity),h.referrerPolicy&&(p.referrerPolicy=h.referrerPolicy),h.crossOrigin==="use-credentials"?p.credentials="include":h.crossOrigin==="anonymous"?p.credentials="omit":p.credentials="same-origin",p}function c(h){if(h.ep)return;h.ep=!0;const p=o(h);fetch(h.href,p)}})();function _o(e,r){const o=Object.create(null),c=e.split(",");for(let h=0;h<c.length;h++)o[c[h]]=!0;return r?h=>!!o[h.toLowerCase()]:h=>!!o[h]}function Ao(e){if(lt(e)){const r={};for(let o=0;o<e.length;o++){const c=e[o],h=Ht(c)?gh(c):Ao(c);if(h)for(const p in h)r[p]=h[p]}return r}else{if(Ht(e))return e;if(Mt(e))return e}}const fh=/;(?![^(]*\))/g,dh=/:([^]+)/,hh=/\/\*.*?\*\//gs;function gh(e){const r={};return e.replace(hh,"").split(fh).forEach(o=>{if(o){const c=o.split(dh);c.length>1&&(r[c[0].trim()]=c[1].trim())}}),r}function wa(e){let r="";if(Ht(e))r=e;else if(lt(e))for(let o=0;o<e.length;o++){const c=wa(e[o]);c&&(r+=c+" ")}else if(Mt(e))for(const o in e)e[o]&&(r+=o+" ");return r.trim()}const vh="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",mh=_o(vh);function uc(e){return!!e||e===""}const zt=e=>Ht(e)?e:e==null?"":lt(e)||Mt(e)&&(e.toString===hc||!ft(e.toString))?JSON.stringify(e,cc,2):String(e),cc=(e,r)=>r&&r.__v_isRef?cc(e,r.value):Bn(r)?{[`Map(${r.size})`]:[...r.entries()].reduce((o,[c,h])=>(o[`${c} =>`]=h,o),{})}:fc(r)?{[`Set(${r.size})`]:[...r.values()]}:Mt(r)&&!lt(r)&&!gc(r)?String(r):r,It={},Un=[],Er=()=>{},ph=()=>!1,yh=/^on[^a-z]/,Ra=e=>yh.test(e),ko=e=>e.startsWith("onUpdate:"),rr=Object.assign,Lo=(e,r)=>{const o=e.indexOf(r);o>-1&&e.splice(o,1)},Eh=Object.prototype.hasOwnProperty,bt=(e,r)=>Eh.call(e,r),lt=Array.isArray,Bn=e=>xa(e)==="[object Map]",fc=e=>xa(e)==="[object Set]",ft=e=>typeof e=="function",Ht=e=>typeof e=="string",wo=e=>typeof e=="symbol",Mt=e=>e!==null&&typeof e=="object",dc=e=>Mt(e)&&ft(e.then)&&ft(e.catch),hc=Object.prototype.toString,xa=e=>hc.call(e),bh=e=>xa(e).slice(8,-1),gc=e=>xa(e)==="[object Object]",Ro=e=>Ht(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,ca=_o(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Da=e=>{const r=Object.create(null);return o=>r[o]||(r[o]=e(o))},Th=/-(\w)/g,Ir=Da(e=>e.replace(Th,(r,o)=>o?o.toUpperCase():"")),Sh=/\B([A-Z])/g,Xn=Da(e=>e.replace(Sh,"-$1").toLowerCase()),Ia=Da(e=>e.charAt(0).toUpperCase()+e.slice(1)),Os=Da(e=>e?`on${Ia(e)}`:""),Si=(e,r)=>!Object.is(e,r),Ps=(e,r)=>{for(let o=0;o<e.length;o++)e[o](r)},pa=(e,r,o)=>{Object.defineProperty(e,r,{configurable:!0,enumerable:!1,value:o})},_h=e=>{const r=parseFloat(e);return isNaN(r)?e:r};let Wl;const Ah=()=>Wl||(Wl=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});let hr;class kh{constructor(r=!1){this.detached=r,this._active=!0,this.effects=[],this.cleanups=[],this.parent=hr,!r&&hr&&(this.index=(hr.scopes||(hr.scopes=[])).push(this)-1)}get active(){return this._active}run(r){if(this._active){const o=hr;try{return hr=this,r()}finally{hr=o}}}on(){hr=this}off(){hr=this.parent}stop(r){if(this._active){let o,c;for(o=0,c=this.effects.length;o<c;o++)this.effects[o].stop();for(o=0,c=this.cleanups.length;o<c;o++)this.cleanups[o]();if(this.scopes)for(o=0,c=this.scopes.length;o<c;o++)this.scopes[o].stop(!0);if(!this.detached&&this.parent&&!r){const h=this.parent.scopes.pop();h&&h!==this&&(this.parent.scopes[this.index]=h,h.index=this.index)}this.parent=void 0,this._active=!1}}}function Lh(e,r=hr){r&&r.active&&r.effects.push(e)}function wh(){return hr}const xo=e=>{const r=new Set(e);return r.w=0,r.n=0,r},vc=e=>(e.w&nn)>0,mc=e=>(e.n&nn)>0,Rh=({deps:e})=>{if(e.length)for(let r=0;r<e.length;r++)e[r].w|=nn},xh=e=>{const{deps:r}=e;if(r.length){let o=0;for(let c=0;c<r.length;c++){const h=r[c];vc(h)&&!mc(h)?h.delete(e):r[o++]=h,h.w&=~nn,h.n&=~nn}r.length=o}},$s=new WeakMap;let di=0,nn=1;const zs=30;let gr;const Sn=Symbol(""),qs=Symbol("");class Do{constructor(r,o=null,c){this.fn=r,this.scheduler=o,this.active=!0,this.deps=[],this.parent=void 0,Lh(this,c)}run(){if(!this.active)return this.fn();let r=gr,o=tn;for(;r;){if(r===this)return;r=r.parent}try{return this.parent=gr,gr=this,tn=!0,nn=1<<++di,di<=zs?Rh(this):$l(this),this.fn()}finally{di<=zs&&xh(this),nn=1<<--di,gr=this.parent,tn=o,this.parent=void 0,this.deferStop&&this.stop()}}stop(){gr===this?this.deferStop=!0:this.active&&($l(this),this.onStop&&this.onStop(),this.active=!1)}}function $l(e){const{deps:r}=e;if(r.length){for(let o=0;o<r.length;o++)r[o].delete(e);r.length=0}}let tn=!0;const pc=[];function Qn(){pc.push(tn),tn=!1}function Jn(){const e=pc.pop();tn=e===void 0?!0:e}function sr(e,r,o){if(tn&&gr){let c=$s.get(e);c||$s.set(e,c=new Map);let h=c.get(o);h||c.set(o,h=xo()),yc(h)}}function yc(e,r){let o=!1;di<=zs?mc(e)||(e.n|=nn,o=!vc(e)):o=!e.has(gr),o&&(e.add(gr),gr.deps.push(e))}function Gr(e,r,o,c,h,p){const E=$s.get(e);if(!E)return;let S=[];if(r==="clear")S=[...E.values()];else if(o==="length"&&lt(e)){const b=Number(c);E.forEach((k,_)=>{(_==="length"||_>=b)&&S.push(k)})}else switch(o!==void 0&&S.push(E.get(o)),r){case"add":lt(e)?Ro(o)&&S.push(E.get("length")):(S.push(E.get(Sn)),Bn(e)&&S.push(E.get(qs)));break;case"delete":lt(e)||(S.push(E.get(Sn)),Bn(e)&&S.push(E.get(qs)));break;case"set":Bn(e)&&S.push(E.get(Sn));break}if(S.length===1)S[0]&&Xs(S[0]);else{const b=[];for(const k of S)k&&b.push(...k);Xs(xo(b))}}function Xs(e,r){const o=lt(e)?e:[...e];for(const c of o)c.computed&&zl(c);for(const c of o)c.computed||zl(c)}function zl(e,r){(e!==gr||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}const Dh=_o("__proto__,__v_isRef,__isVue"),Ec=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(wo)),Ih=Io(),Ch=Io(!1,!0),Oh=Io(!0),ql=Ph();function Ph(){const e={};return["includes","indexOf","lastIndexOf"].forEach(r=>{e[r]=function(...o){const c=kt(this);for(let p=0,E=this.length;p<E;p++)sr(c,"get",p+"");const h=c[r](...o);return h===-1||h===!1?c[r](...o.map(kt)):h}}),["push","pop","shift","unshift","splice"].forEach(r=>{e[r]=function(...o){Qn();const c=kt(this)[r].apply(this,o);return Jn(),c}}),e}function Fh(e){const r=kt(this);return sr(r,"has",e),r.hasOwnProperty(e)}function Io(e=!1,r=!1){return function(c,h,p){if(h==="__v_isReactive")return!e;if(h==="__v_isReadonly")return e;if(h==="__v_isShallow")return r;if(h==="__v_raw"&&p===(e?r?Qh:Ac:r?_c:Sc).get(c))return c;const E=lt(c);if(!e){if(E&&bt(ql,h))return Reflect.get(ql,h,p);if(h==="hasOwnProperty")return Fh}const S=Reflect.get(c,h,p);return(wo(h)?Ec.has(h):Dh(h))||(e||sr(c,"get",h),r)?S:Jt(S)?E&&Ro(h)?S:S.value:Mt(S)?e?kc(S):Pi(S):S}}const Mh=bc(),Nh=bc(!0);function bc(e=!1){return function(o,c,h,p){let E=o[c];if(Hn(E)&&Jt(E)&&!Jt(h))return!1;if(!e&&(!ya(h)&&!Hn(h)&&(E=kt(E),h=kt(h)),!lt(o)&&Jt(E)&&!Jt(h)))return E.value=h,!0;const S=lt(o)&&Ro(c)?Number(c)<o.length:bt(o,c),b=Reflect.set(o,c,h,p);return o===kt(p)&&(S?Si(h,E)&&Gr(o,"set",c,h):Gr(o,"add",c,h)),b}}function Uh(e,r){const o=bt(e,r);e[r];const c=Reflect.deleteProperty(e,r);return c&&o&&Gr(e,"delete",r,void 0),c}function Bh(e,r){const o=Reflect.has(e,r);return(!wo(r)||!Ec.has(r))&&sr(e,"has",r),o}function Kh(e){return sr(e,"iterate",lt(e)?"length":Sn),Reflect.ownKeys(e)}const Tc={get:Ih,set:Mh,deleteProperty:Uh,has:Bh,ownKeys:Kh},jh={get:Oh,set(e,r){return!0},deleteProperty(e,r){return!0}},Gh=rr({},Tc,{get:Ch,set:Nh}),Co=e=>e,Ca=e=>Reflect.getPrototypeOf(e);function qi(e,r,o=!1,c=!1){e=e.__v_raw;const h=kt(e),p=kt(r);o||(r!==p&&sr(h,"get",r),sr(h,"get",p));const{has:E}=Ca(h),S=c?Co:o?Fo:_i;if(E.call(h,r))return S(e.get(r));if(E.call(h,p))return S(e.get(p));e!==h&&e.get(r)}function Xi(e,r=!1){const o=this.__v_raw,c=kt(o),h=kt(e);return r||(e!==h&&sr(c,"has",e),sr(c,"has",h)),e===h?o.has(e):o.has(e)||o.has(h)}function Qi(e,r=!1){return e=e.__v_raw,!r&&sr(kt(e),"iterate",Sn),Reflect.get(e,"size",e)}function Xl(e){e=kt(e);const r=kt(this);return Ca(r).has.call(r,e)||(r.add(e),Gr(r,"add",e,e)),this}function Ql(e,r){r=kt(r);const o=kt(this),{has:c,get:h}=Ca(o);let p=c.call(o,e);p||(e=kt(e),p=c.call(o,e));const E=h.call(o,e);return o.set(e,r),p?Si(r,E)&&Gr(o,"set",e,r):Gr(o,"add",e,r),this}function Jl(e){const r=kt(this),{has:o,get:c}=Ca(r);let h=o.call(r,e);h||(e=kt(e),h=o.call(r,e)),c&&c.call(r,e);const p=r.delete(e);return h&&Gr(r,"delete",e,void 0),p}function Zl(){const e=kt(this),r=e.size!==0,o=e.clear();return r&&Gr(e,"clear",void 0,void 0),o}function Ji(e,r){return function(c,h){const p=this,E=p.__v_raw,S=kt(E),b=r?Co:e?Fo:_i;return!e&&sr(S,"iterate",Sn),E.forEach((k,_)=>c.call(h,b(k),b(_),p))}}function Zi(e,r,o){return function(...c){const h=this.__v_raw,p=kt(h),E=Bn(p),S=e==="entries"||e===Symbol.iterator&&E,b=e==="keys"&&E,k=h[e](...c),_=o?Co:r?Fo:_i;return!r&&sr(p,"iterate",b?qs:Sn),{next(){const{value:A,done:y}=k.next();return y?{value:A,done:y}:{value:S?[_(A[0]),_(A[1])]:_(A),done:y}},[Symbol.iterator](){return this}}}}function Xr(e){return function(...r){return e==="delete"?!1:this}}function Hh(){const e={get(p){return qi(this,p)},get size(){return Qi(this)},has:Xi,add:Xl,set:Ql,delete:Jl,clear:Zl,forEach:Ji(!1,!1)},r={get(p){return qi(this,p,!1,!0)},get size(){return Qi(this)},has:Xi,add:Xl,set:Ql,delete:Jl,clear:Zl,forEach:Ji(!1,!0)},o={get(p){return qi(this,p,!0)},get size(){return Qi(this,!0)},has(p){return Xi.call(this,p,!0)},add:Xr("add"),set:Xr("set"),delete:Xr("delete"),clear:Xr("clear"),forEach:Ji(!0,!1)},c={get(p){return qi(this,p,!0,!0)},get size(){return Qi(this,!0)},has(p){return Xi.call(this,p,!0)},add:Xr("add"),set:Xr("set"),delete:Xr("delete"),clear:Xr("clear"),forEach:Ji(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(p=>{e[p]=Zi(p,!1,!1),o[p]=Zi(p,!0,!1),r[p]=Zi(p,!1,!0),c[p]=Zi(p,!0,!0)}),[e,o,r,c]}const[Vh,Yh,Wh,$h]=Hh();function Oo(e,r){const o=r?e?$h:Wh:e?Yh:Vh;return(c,h,p)=>h==="__v_isReactive"?!e:h==="__v_isReadonly"?e:h==="__v_raw"?c:Reflect.get(bt(o,h)&&h in c?o:c,h,p)}const zh={get:Oo(!1,!1)},qh={get:Oo(!1,!0)},Xh={get:Oo(!0,!1)},Sc=new WeakMap,_c=new WeakMap,Ac=new WeakMap,Qh=new WeakMap;function Jh(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Zh(e){return e.__v_skip||!Object.isExtensible(e)?0:Jh(bh(e))}function Pi(e){return Hn(e)?e:Po(e,!1,Tc,zh,Sc)}function eg(e){return Po(e,!1,Gh,qh,_c)}function kc(e){return Po(e,!0,jh,Xh,Ac)}function Po(e,r,o,c,h){if(!Mt(e)||e.__v_raw&&!(r&&e.__v_isReactive))return e;const p=h.get(e);if(p)return p;const E=Zh(e);if(E===0)return e;const S=new Proxy(e,E===2?c:o);return h.set(e,S),S}function Kn(e){return Hn(e)?Kn(e.__v_raw):!!(e&&e.__v_isReactive)}function Hn(e){return!!(e&&e.__v_isReadonly)}function ya(e){return!!(e&&e.__v_isShallow)}function Lc(e){return Kn(e)||Hn(e)}function kt(e){const r=e&&e.__v_raw;return r?kt(r):e}function wc(e){return pa(e,"__v_skip",!0),e}const _i=e=>Mt(e)?Pi(e):e,Fo=e=>Mt(e)?kc(e):e;function Rc(e){tn&&gr&&(e=kt(e),yc(e.dep||(e.dep=xo())))}function xc(e,r){e=kt(e);const o=e.dep;o&&Xs(o)}function Jt(e){return!!(e&&e.__v_isRef===!0)}function tr(e){return Dc(e,!1)}function tg(e){return Dc(e,!0)}function Dc(e,r){return Jt(e)?e:new rg(e,r)}class rg{constructor(r,o){this.__v_isShallow=o,this.dep=void 0,this.__v_isRef=!0,this._rawValue=o?r:kt(r),this._value=o?r:_i(r)}get value(){return Rc(this),this._value}set value(r){const o=this.__v_isShallow||ya(r)||Hn(r);r=o?r:kt(r),Si(r,this._rawValue)&&(this._rawValue=r,this._value=o?r:_i(r),xc(this))}}function or(e){return Jt(e)?e.value:e}const ng={get:(e,r,o)=>or(Reflect.get(e,r,o)),set:(e,r,o,c)=>{const h=e[r];return Jt(h)&&!Jt(o)?(h.value=o,!0):Reflect.set(e,r,o,c)}};function Ic(e){return Kn(e)?e:new Proxy(e,ng)}var Cc;class ig{constructor(r,o,c,h){this._setter=o,this.dep=void 0,this.__v_isRef=!0,this[Cc]=!1,this._dirty=!0,this.effect=new Do(r,()=>{this._dirty||(this._dirty=!0,xc(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!h,this.__v_isReadonly=c}get value(){const r=kt(this);return Rc(r),(r._dirty||!r._cacheable)&&(r._dirty=!1,r._value=r.effect.run()),r._value}set value(r){this._setter(r)}}Cc="__v_isReadonly";function ag(e,r,o=!1){let c,h;const p=ft(e);return p?(c=e,h=Er):(c=e.get,h=e.set),new ig(c,h,p||!h,o)}function rn(e,r,o,c){let h;try{h=c?e(...c):e()}catch(p){Oa(p,r,o)}return h}function br(e,r,o,c){if(ft(e)){const p=rn(e,r,o,c);return p&&dc(p)&&p.catch(E=>{Oa(E,r,o)}),p}const h=[];for(let p=0;p<e.length;p++)h.push(br(e[p],r,o,c));return h}function Oa(e,r,o,c=!0){const h=r?r.vnode:null;if(r){let p=r.parent;const E=r.proxy,S=o;for(;p;){const k=p.ec;if(k){for(let _=0;_<k.length;_++)if(k[_](e,E,S)===!1)return}p=p.parent}const b=r.appContext.config.errorHandler;if(b){rn(b,null,10,[e,E,S]);return}}sg(e,o,h,c)}function sg(e,r,o,c=!0){console.error(e)}let Ai=!1,Qs=!1;const Qt=[];let Rr=0;const jn=[];let jr=null,pn=0;const Oc=Promise.resolve();let Mo=null;function Pc(e){const r=Mo||Oc;return e?r.then(this?e.bind(this):e):r}function og(e){let r=Rr+1,o=Qt.length;for(;r<o;){const c=r+o>>>1;ki(Qt[c])<e?r=c+1:o=c}return r}function No(e){(!Qt.length||!Qt.includes(e,Ai&&e.allowRecurse?Rr+1:Rr))&&(e.id==null?Qt.push(e):Qt.splice(og(e.id),0,e),Fc())}function Fc(){!Ai&&!Qs&&(Qs=!0,Mo=Oc.then(Nc))}function lg(e){const r=Qt.indexOf(e);r>Rr&&Qt.splice(r,1)}function ug(e){lt(e)?jn.push(...e):(!jr||!jr.includes(e,e.allowRecurse?pn+1:pn))&&jn.push(e),Fc()}function eu(e,r=Ai?Rr+1:0){for(;r<Qt.length;r++){const o=Qt[r];o&&o.pre&&(Qt.splice(r,1),r--,o())}}function Mc(e){if(jn.length){const r=[...new Set(jn)];if(jn.length=0,jr){jr.push(...r);return}for(jr=r,jr.sort((o,c)=>ki(o)-ki(c)),pn=0;pn<jr.length;pn++)jr[pn]();jr=null,pn=0}}const ki=e=>e.id==null?1/0:e.id,cg=(e,r)=>{const o=ki(e)-ki(r);if(o===0){if(e.pre&&!r.pre)return-1;if(r.pre&&!e.pre)return 1}return o};function Nc(e){Qs=!1,Ai=!0,Qt.sort(cg);const r=Er;try{for(Rr=0;Rr<Qt.length;Rr++){const o=Qt[Rr];o&&o.active!==!1&&rn(o,null,14)}}finally{Rr=0,Qt.length=0,Mc(),Ai=!1,Mo=null,(Qt.length||jn.length)&&Nc()}}function fg(e,r,...o){if(e.isUnmounted)return;const c=e.vnode.props||It;let h=o;const p=r.startsWith("update:"),E=p&&r.slice(7);if(E&&E in c){const _=`${E==="modelValue"?"model":E}Modifiers`,{number:A,trim:y}=c[_]||It;y&&(h=o.map(w=>Ht(w)?w.trim():w)),A&&(h=o.map(_h))}let S,b=c[S=Os(r)]||c[S=Os(Ir(r))];!b&&p&&(b=c[S=Os(Xn(r))]),b&&br(b,e,6,h);const k=c[S+"Once"];if(k){if(!e.emitted)e.emitted={};else if(e.emitted[S])return;e.emitted[S]=!0,br(k,e,6,h)}}function Uc(e,r,o=!1){const c=r.emitsCache,h=c.get(e);if(h!==void 0)return h;const p=e.emits;let E={},S=!1;if(!ft(e)){const b=k=>{const _=Uc(k,r,!0);_&&(S=!0,rr(E,_))};!o&&r.mixins.length&&r.mixins.forEach(b),e.extends&&b(e.extends),e.mixins&&e.mixins.forEach(b)}return!p&&!S?(Mt(e)&&c.set(e,null),null):(lt(p)?p.forEach(b=>E[b]=null):rr(E,p),Mt(e)&&c.set(e,E),E)}function Pa(e,r){return!e||!Ra(r)?!1:(r=r.slice(2).replace(/Once$/,""),bt(e,r[0].toLowerCase()+r.slice(1))||bt(e,Xn(r))||bt(e,r))}let cr=null,Fa=null;function Ea(e){const r=cr;return cr=e,Fa=e&&e.type.__scopeId||null,r}function Zn(e){Fa=e}function ei(){Fa=null}function Bc(e,r=cr,o){if(!r||e._n)return e;const c=(...h)=>{c._d&&uu(-1);const p=Ea(r);let E;try{E=e(...h)}finally{Ea(p),c._d&&uu(1)}return E};return c._n=!0,c._c=!0,c._d=!0,c}function Fs(e){const{type:r,vnode:o,proxy:c,withProxy:h,props:p,propsOptions:[E],slots:S,attrs:b,emit:k,render:_,renderCache:A,data:y,setupState:w,ctx:P,inheritAttrs:oe}=e;let J,Y;const $=Ea(e);try{if(o.shapeFlag&4){const ae=h||c;J=wr(_.call(ae,ae,A,p,w,y,P)),Y=b}else{const ae=r;J=wr(ae.length>1?ae(p,{attrs:b,slots:S,emit:k}):ae(p,null)),Y=r.props?b:dg(b)}}catch(ae){mi.length=0,Oa(ae,e,1),J=Tt(An)}let H=J;if(Y&&oe!==!1){const ae=Object.keys(Y),{shapeFlag:Z}=H;ae.length&&Z&7&&(E&&ae.some(ko)&&(Y=hg(Y,E)),H=Yn(H,Y))}return o.dirs&&(H=Yn(H),H.dirs=H.dirs?H.dirs.concat(o.dirs):o.dirs),o.transition&&(H.transition=o.transition),J=H,Ea($),J}const dg=e=>{let r;for(const o in e)(o==="class"||o==="style"||Ra(o))&&((r||(r={}))[o]=e[o]);return r},hg=(e,r)=>{const o={};for(const c in e)(!ko(c)||!(c.slice(9)in r))&&(o[c]=e[c]);return o};function gg(e,r,o){const{props:c,children:h,component:p}=e,{props:E,children:S,patchFlag:b}=r,k=p.emitsOptions;if(r.dirs||r.transition)return!0;if(o&&b>=0){if(b&1024)return!0;if(b&16)return c?tu(c,E,k):!!E;if(b&8){const _=r.dynamicProps;for(let A=0;A<_.length;A++){const y=_[A];if(E[y]!==c[y]&&!Pa(k,y))return!0}}}else return(h||S)&&(!S||!S.$stable)?!0:c===E?!1:c?E?tu(c,E,k):!0:!!E;return!1}function tu(e,r,o){const c=Object.keys(r);if(c.length!==Object.keys(e).length)return!0;for(let h=0;h<c.length;h++){const p=c[h];if(r[p]!==e[p]&&!Pa(o,p))return!0}return!1}function vg({vnode:e,parent:r},o){for(;r&&r.subTree===e;)(e=r.vnode).el=o,r=r.parent}const mg=e=>e.__isSuspense;function pg(e,r){r&&r.pendingBranch?lt(e)?r.effects.push(...e):r.effects.push(e):ug(e)}function fa(e,r){if(jt){let o=jt.provides;const c=jt.parent&&jt.parent.provides;c===o&&(o=jt.provides=Object.create(c)),o[e]=r}}function Dr(e,r,o=!1){const c=jt||cr;if(c){const h=c.parent==null?c.vnode.appContext&&c.vnode.appContext.provides:c.parent.provides;if(h&&e in h)return h[e];if(arguments.length>1)return o&&ft(r)?r.call(c.proxy):r}}const ea={};function gi(e,r,o){return Kc(e,r,o)}function Kc(e,r,{immediate:o,deep:c,flush:h,onTrack:p,onTrigger:E}=It){const S=wh()===(jt==null?void 0:jt.scope)?jt:null;let b,k=!1,_=!1;if(Jt(e)?(b=()=>e.value,k=ya(e)):Kn(e)?(b=()=>e,c=!0):lt(e)?(_=!0,k=e.some(H=>Kn(H)||ya(H)),b=()=>e.map(H=>{if(Jt(H))return H.value;if(Kn(H))return En(H);if(ft(H))return rn(H,S,2)})):ft(e)?r?b=()=>rn(e,S,2):b=()=>{if(!(S&&S.isUnmounted))return A&&A(),br(e,S,3,[y])}:b=Er,r&&c){const H=b;b=()=>En(H())}let A,y=H=>{A=Y.onStop=()=>{rn(H,S,4)}},w;if(wi)if(y=Er,r?o&&br(r,S,3,[b(),_?[]:void 0,y]):b(),h==="sync"){const H=ov();w=H.__watcherHandles||(H.__watcherHandles=[])}else return Er;let P=_?new Array(e.length).fill(ea):ea;const oe=()=>{if(Y.active)if(r){const H=Y.run();(c||k||(_?H.some((ae,Z)=>Si(ae,P[Z])):Si(H,P)))&&(A&&A(),br(r,S,3,[H,P===ea?void 0:_&&P[0]===ea?[]:P,y]),P=H)}else Y.run()};oe.allowRecurse=!!r;let J;h==="sync"?J=oe:h==="post"?J=()=>ar(oe,S&&S.suspense):(oe.pre=!0,S&&(oe.id=S.uid),J=()=>No(oe));const Y=new Do(b,J);r?o?oe():P=Y.run():h==="post"?ar(Y.run.bind(Y),S&&S.suspense):Y.run();const $=()=>{Y.stop(),S&&S.scope&&Lo(S.scope.effects,Y)};return w&&w.push($),$}function yg(e,r,o){const c=this.proxy,h=Ht(e)?e.includes(".")?jc(c,e):()=>c[e]:e.bind(c,c);let p;ft(r)?p=r:(p=r.handler,o=r);const E=jt;Wn(this);const S=Kc(h,p.bind(c),o);return E?Wn(E):_n(),S}function jc(e,r){const o=r.split(".");return()=>{let c=e;for(let h=0;h<o.length&&c;h++)c=c[o[h]];return c}}function En(e,r){if(!Mt(e)||e.__v_skip||(r=r||new Set,r.has(e)))return e;if(r.add(e),Jt(e))En(e.value,r);else if(lt(e))for(let o=0;o<e.length;o++)En(e[o],r);else if(fc(e)||Bn(e))e.forEach(o=>{En(o,r)});else if(gc(e))for(const o in e)En(e[o],r);return e}function Fi(e){return ft(e)?{setup:e,name:e.name}:e}const da=e=>!!e.type.__asyncLoader,Gc=e=>e.type.__isKeepAlive;function Eg(e,r){Hc(e,"a",r)}function bg(e,r){Hc(e,"da",r)}function Hc(e,r,o=jt){const c=e.__wdc||(e.__wdc=()=>{let h=o;for(;h;){if(h.isDeactivated)return;h=h.parent}return e()});if(Ma(r,c,o),o){let h=o.parent;for(;h&&h.parent;)Gc(h.parent.vnode)&&Tg(c,r,o,h),h=h.parent}}function Tg(e,r,o,c){const h=Ma(r,e,c,!0);$c(()=>{Lo(c[r],h)},o)}function Ma(e,r,o=jt,c=!1){if(o){const h=o[e]||(o[e]=[]),p=r.__weh||(r.__weh=(...E)=>{if(o.isUnmounted)return;Qn(),Wn(o);const S=br(r,o,e,E);return _n(),Jn(),S});return c?h.unshift(p):h.push(p),p}}const $r=e=>(r,o=jt)=>(!wi||e==="sp")&&Ma(e,(...c)=>r(...c),o),Vc=$r("bm"),Na=$r("m"),Yc=$r("bu"),Sg=$r("u"),Wc=$r("bum"),$c=$r("um"),_g=$r("sp"),Ag=$r("rtg"),kg=$r("rtc");function Lg(e,r=jt){Ma("ec",e,r)}function zc(e,r){const o=cr;if(o===null)return e;const c=Ka(o)||o.proxy,h=e.dirs||(e.dirs=[]);for(let p=0;p<r.length;p++){let[E,S,b,k=It]=r[p];E&&(ft(E)&&(E={mounted:E,updated:E}),E.deep&&En(S),h.push({dir:E,instance:c,value:S,oldValue:void 0,arg:b,modifiers:k}))}return e}function gn(e,r,o,c){const h=e.dirs,p=r&&r.dirs;for(let E=0;E<h.length;E++){const S=h[E];p&&(S.oldValue=p[E].value);let b=S.dir[c];b&&(Qn(),br(b,o,8,[e.el,S,e,r]),Jn())}}const qc="components";function Vn(e,r){return Rg(qc,e,!0,r)||e}const wg=Symbol();function Rg(e,r,o=!0,c=!1){const h=cr||jt;if(h){const p=h.type;if(e===qc){const S=iv(p,!1);if(S&&(S===r||S===Ir(r)||S===Ia(Ir(r))))return p}const E=ru(h[e]||p[e],r)||ru(h.appContext[e],r);return!E&&c?p:E}}function ru(e,r){return e&&(e[r]||e[Ir(r)]||e[Ia(Ir(r))])}function Mi(e,r,o,c){let h;const p=o&&o[c];if(lt(e)||Ht(e)){h=new Array(e.length);for(let E=0,S=e.length;E<S;E++)h[E]=r(e[E],E,void 0,p&&p[E])}else if(typeof e=="number"){h=new Array(e);for(let E=0;E<e;E++)h[E]=r(E+1,E,void 0,p&&p[E])}else if(Mt(e))if(e[Symbol.iterator])h=Array.from(e,(E,S)=>r(E,S,void 0,p&&p[S]));else{const E=Object.keys(e);h=new Array(E.length);for(let S=0,b=E.length;S<b;S++){const k=E[S];h[S]=r(e[k],k,S,p&&p[S])}}else h=[];return o&&(o[c]=h),h}const Js=e=>e?of(e)?Ka(e)||e.proxy:Js(e.parent):null,vi=rr(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Js(e.parent),$root:e=>Js(e.root),$emit:e=>e.emit,$options:e=>Uo(e),$forceUpdate:e=>e.f||(e.f=()=>No(e.update)),$nextTick:e=>e.n||(e.n=Pc.bind(e.proxy)),$watch:e=>yg.bind(e)}),Ms=(e,r)=>e!==It&&!e.__isScriptSetup&&bt(e,r),xg={get({_:e},r){const{ctx:o,setupState:c,data:h,props:p,accessCache:E,type:S,appContext:b}=e;let k;if(r[0]!=="$"){const w=E[r];if(w!==void 0)switch(w){case 1:return c[r];case 2:return h[r];case 4:return o[r];case 3:return p[r]}else{if(Ms(c,r))return E[r]=1,c[r];if(h!==It&&bt(h,r))return E[r]=2,h[r];if((k=e.propsOptions[0])&&bt(k,r))return E[r]=3,p[r];if(o!==It&&bt(o,r))return E[r]=4,o[r];Zs&&(E[r]=0)}}const _=vi[r];let A,y;if(_)return r==="$attrs"&&sr(e,"get",r),_(e);if((A=S.__cssModules)&&(A=A[r]))return A;if(o!==It&&bt(o,r))return E[r]=4,o[r];if(y=b.config.globalProperties,bt(y,r))return y[r]},set({_:e},r,o){const{data:c,setupState:h,ctx:p}=e;return Ms(h,r)?(h[r]=o,!0):c!==It&&bt(c,r)?(c[r]=o,!0):bt(e.props,r)||r[0]==="$"&&r.slice(1)in e?!1:(p[r]=o,!0)},has({_:{data:e,setupState:r,accessCache:o,ctx:c,appContext:h,propsOptions:p}},E){let S;return!!o[E]||e!==It&&bt(e,E)||Ms(r,E)||(S=p[0])&&bt(S,E)||bt(c,E)||bt(vi,E)||bt(h.config.globalProperties,E)},defineProperty(e,r,o){return o.get!=null?e._.accessCache[r]=0:bt(o,"value")&&this.set(e,r,o.value,null),Reflect.defineProperty(e,r,o)}};let Zs=!0;function Dg(e){const r=Uo(e),o=e.proxy,c=e.ctx;Zs=!1,r.beforeCreate&&nu(r.beforeCreate,e,"bc");const{data:h,computed:p,methods:E,watch:S,provide:b,inject:k,created:_,beforeMount:A,mounted:y,beforeUpdate:w,updated:P,activated:oe,deactivated:J,beforeDestroy:Y,beforeUnmount:$,destroyed:H,unmounted:ae,render:Z,renderTracked:re,renderTriggered:ee,errorCaptured:ke,serverPrefetch:we,expose:Ye,inheritAttrs:se,components:I,directives:q,filters:B}=r;if(k&&Ig(k,c,null,e.appContext.config.unwrapInjectedRef),E)for(const ge in E){const fe=E[ge];ft(fe)&&(c[ge]=fe.bind(o))}if(h){const ge=h.call(o,o);Mt(ge)&&(e.data=Pi(ge))}if(Zs=!0,p)for(const ge in p){const fe=p[ge],Ue=ft(fe)?fe.bind(o,o):ft(fe.get)?fe.get.bind(o,o):Er,He=!ft(fe)&&ft(fe.set)?fe.set.bind(o):Er,je=Lt({get:Ue,set:He});Object.defineProperty(c,ge,{enumerable:!0,configurable:!0,get:()=>je.value,set:Pe=>je.value=Pe})}if(S)for(const ge in S)Xc(S[ge],c,o,ge);if(b){const ge=ft(b)?b.call(o):b;Reflect.ownKeys(ge).forEach(fe=>{fa(fe,ge[fe])})}_&&nu(_,e,"c");function Ee(ge,fe){lt(fe)?fe.forEach(Ue=>ge(Ue.bind(o))):fe&&ge(fe.bind(o))}if(Ee(Vc,A),Ee(Na,y),Ee(Yc,w),Ee(Sg,P),Ee(Eg,oe),Ee(bg,J),Ee(Lg,ke),Ee(kg,re),Ee(Ag,ee),Ee(Wc,$),Ee($c,ae),Ee(_g,we),lt(Ye))if(Ye.length){const ge=e.exposed||(e.exposed={});Ye.forEach(fe=>{Object.defineProperty(ge,fe,{get:()=>o[fe],set:Ue=>o[fe]=Ue})})}else e.exposed||(e.exposed={});Z&&e.render===Er&&(e.render=Z),se!=null&&(e.inheritAttrs=se),I&&(e.components=I),q&&(e.directives=q)}function Ig(e,r,o=Er,c=!1){lt(e)&&(e=eo(e));for(const h in e){const p=e[h];let E;Mt(p)?"default"in p?E=Dr(p.from||h,p.default,!0):E=Dr(p.from||h):E=Dr(p),Jt(E)&&c?Object.defineProperty(r,h,{enumerable:!0,configurable:!0,get:()=>E.value,set:S=>E.value=S}):r[h]=E}}function nu(e,r,o){br(lt(e)?e.map(c=>c.bind(r.proxy)):e.bind(r.proxy),r,o)}function Xc(e,r,o,c){const h=c.includes(".")?jc(o,c):()=>o[c];if(Ht(e)){const p=r[e];ft(p)&&gi(h,p)}else if(ft(e))gi(h,e.bind(o));else if(Mt(e))if(lt(e))e.forEach(p=>Xc(p,r,o,c));else{const p=ft(e.handler)?e.handler.bind(o):r[e.handler];ft(p)&&gi(h,p,e)}}function Uo(e){const r=e.type,{mixins:o,extends:c}=r,{mixins:h,optionsCache:p,config:{optionMergeStrategies:E}}=e.appContext,S=p.get(r);let b;return S?b=S:!h.length&&!o&&!c?b=r:(b={},h.length&&h.forEach(k=>ba(b,k,E,!0)),ba(b,r,E)),Mt(r)&&p.set(r,b),b}function ba(e,r,o,c=!1){const{mixins:h,extends:p}=r;p&&ba(e,p,o,!0),h&&h.forEach(E=>ba(e,E,o,!0));for(const E in r)if(!(c&&E==="expose")){const S=Cg[E]||o&&o[E];e[E]=S?S(e[E],r[E]):r[E]}return e}const Cg={data:iu,props:mn,emits:mn,methods:mn,computed:mn,beforeCreate:er,created:er,beforeMount:er,mounted:er,beforeUpdate:er,updated:er,beforeDestroy:er,beforeUnmount:er,destroyed:er,unmounted:er,activated:er,deactivated:er,errorCaptured:er,serverPrefetch:er,components:mn,directives:mn,watch:Pg,provide:iu,inject:Og};function iu(e,r){return r?e?function(){return rr(ft(e)?e.call(this,this):e,ft(r)?r.call(this,this):r)}:r:e}function Og(e,r){return mn(eo(e),eo(r))}function eo(e){if(lt(e)){const r={};for(let o=0;o<e.length;o++)r[e[o]]=e[o];return r}return e}function er(e,r){return e?[...new Set([].concat(e,r))]:r}function mn(e,r){return e?rr(rr(Object.create(null),e),r):r}function Pg(e,r){if(!e)return r;if(!r)return e;const o=rr(Object.create(null),e);for(const c in r)o[c]=er(e[c],r[c]);return o}function Fg(e,r,o,c=!1){const h={},p={};pa(p,Ba,1),e.propsDefaults=Object.create(null),Qc(e,r,h,p);for(const E in e.propsOptions[0])E in h||(h[E]=void 0);o?e.props=c?h:eg(h):e.type.props?e.props=h:e.props=p,e.attrs=p}function Mg(e,r,o,c){const{props:h,attrs:p,vnode:{patchFlag:E}}=e,S=kt(h),[b]=e.propsOptions;let k=!1;if((c||E>0)&&!(E&16)){if(E&8){const _=e.vnode.dynamicProps;for(let A=0;A<_.length;A++){let y=_[A];if(Pa(e.emitsOptions,y))continue;const w=r[y];if(b)if(bt(p,y))w!==p[y]&&(p[y]=w,k=!0);else{const P=Ir(y);h[P]=to(b,S,P,w,e,!1)}else w!==p[y]&&(p[y]=w,k=!0)}}}else{Qc(e,r,h,p)&&(k=!0);let _;for(const A in S)(!r||!bt(r,A)&&((_=Xn(A))===A||!bt(r,_)))&&(b?o&&(o[A]!==void 0||o[_]!==void 0)&&(h[A]=to(b,S,A,void 0,e,!0)):delete h[A]);if(p!==S)for(const A in p)(!r||!bt(r,A))&&(delete p[A],k=!0)}k&&Gr(e,"set","$attrs")}function Qc(e,r,o,c){const[h,p]=e.propsOptions;let E=!1,S;if(r)for(let b in r){if(ca(b))continue;const k=r[b];let _;h&&bt(h,_=Ir(b))?!p||!p.includes(_)?o[_]=k:(S||(S={}))[_]=k:Pa(e.emitsOptions,b)||(!(b in c)||k!==c[b])&&(c[b]=k,E=!0)}if(p){const b=kt(o),k=S||It;for(let _=0;_<p.length;_++){const A=p[_];o[A]=to(h,b,A,k[A],e,!bt(k,A))}}return E}function to(e,r,o,c,h,p){const E=e[o];if(E!=null){const S=bt(E,"default");if(S&&c===void 0){const b=E.default;if(E.type!==Function&&ft(b)){const{propsDefaults:k}=h;o in k?c=k[o]:(Wn(h),c=k[o]=b.call(null,r),_n())}else c=b}E[0]&&(p&&!S?c=!1:E[1]&&(c===""||c===Xn(o))&&(c=!0))}return c}function Jc(e,r,o=!1){const c=r.propsCache,h=c.get(e);if(h)return h;const p=e.props,E={},S=[];let b=!1;if(!ft(e)){const _=A=>{b=!0;const[y,w]=Jc(A,r,!0);rr(E,y),w&&S.push(...w)};!o&&r.mixins.length&&r.mixins.forEach(_),e.extends&&_(e.extends),e.mixins&&e.mixins.forEach(_)}if(!p&&!b)return Mt(e)&&c.set(e,Un),Un;if(lt(p))for(let _=0;_<p.length;_++){const A=Ir(p[_]);au(A)&&(E[A]=It)}else if(p)for(const _ in p){const A=Ir(_);if(au(A)){const y=p[_],w=E[A]=lt(y)||ft(y)?{type:y}:Object.assign({},y);if(w){const P=lu(Boolean,w.type),oe=lu(String,w.type);w[0]=P>-1,w[1]=oe<0||P<oe,(P>-1||bt(w,"default"))&&S.push(A)}}}const k=[E,S];return Mt(e)&&c.set(e,k),k}function au(e){return e[0]!=="$"}function su(e){const r=e&&e.toString().match(/^\s*(function|class) (\w+)/);return r?r[2]:e===null?"null":""}function ou(e,r){return su(e)===su(r)}function lu(e,r){return lt(r)?r.findIndex(o=>ou(o,e)):ft(r)&&ou(r,e)?0:-1}const Zc=e=>e[0]==="_"||e==="$stable",Bo=e=>lt(e)?e.map(wr):[wr(e)],Ng=(e,r,o)=>{if(r._n)return r;const c=Bc((...h)=>Bo(r(...h)),o);return c._c=!1,c},ef=(e,r,o)=>{const c=e._ctx;for(const h in e){if(Zc(h))continue;const p=e[h];if(ft(p))r[h]=Ng(h,p,c);else if(p!=null){const E=Bo(p);r[h]=()=>E}}},tf=(e,r)=>{const o=Bo(r);e.slots.default=()=>o},Ug=(e,r)=>{if(e.vnode.shapeFlag&32){const o=r._;o?(e.slots=kt(r),pa(r,"_",o)):ef(r,e.slots={})}else e.slots={},r&&tf(e,r);pa(e.slots,Ba,1)},Bg=(e,r,o)=>{const{vnode:c,slots:h}=e;let p=!0,E=It;if(c.shapeFlag&32){const S=r._;S?o&&S===1?p=!1:(rr(h,r),!o&&S===1&&delete h._):(p=!r.$stable,ef(r,h)),E=r}else r&&(tf(e,r),E={default:1});if(p)for(const S in h)!Zc(S)&&!(S in E)&&delete h[S]};function rf(){return{app:null,config:{isNativeTag:ph,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Kg=0;function jg(e,r){return function(c,h=null){ft(c)||(c=Object.assign({},c)),h!=null&&!Mt(h)&&(h=null);const p=rf(),E=new Set;let S=!1;const b=p.app={_uid:Kg++,_component:c,_props:h,_container:null,_context:p,_instance:null,version:lv,get config(){return p.config},set config(k){},use(k,..._){return E.has(k)||(k&&ft(k.install)?(E.add(k),k.install(b,..._)):ft(k)&&(E.add(k),k(b,..._))),b},mixin(k){return p.mixins.includes(k)||p.mixins.push(k),b},component(k,_){return _?(p.components[k]=_,b):p.components[k]},directive(k,_){return _?(p.directives[k]=_,b):p.directives[k]},mount(k,_,A){if(!S){const y=Tt(c,h);return y.appContext=p,_&&r?r(y,k):e(y,k,A),S=!0,b._container=k,k.__vue_app__=b,Ka(y.component)||y.component.proxy}},unmount(){S&&(e(null,b._container),delete b._container.__vue_app__)},provide(k,_){return p.provides[k]=_,b}};return b}}function ro(e,r,o,c,h=!1){if(lt(e)){e.forEach((y,w)=>ro(y,r&&(lt(r)?r[w]:r),o,c,h));return}if(da(c)&&!h)return;const p=c.shapeFlag&4?Ka(c.component)||c.component.proxy:c.el,E=h?null:p,{i:S,r:b}=e,k=r&&r.r,_=S.refs===It?S.refs={}:S.refs,A=S.setupState;if(k!=null&&k!==b&&(Ht(k)?(_[k]=null,bt(A,k)&&(A[k]=null)):Jt(k)&&(k.value=null)),ft(b))rn(b,S,12,[E,_]);else{const y=Ht(b),w=Jt(b);if(y||w){const P=()=>{if(e.f){const oe=y?bt(A,b)?A[b]:_[b]:b.value;h?lt(oe)&&Lo(oe,p):lt(oe)?oe.includes(p)||oe.push(p):y?(_[b]=[p],bt(A,b)&&(A[b]=_[b])):(b.value=[p],e.k&&(_[e.k]=b.value))}else y?(_[b]=E,bt(A,b)&&(A[b]=E)):w&&(b.value=E,e.k&&(_[e.k]=E))};E?(P.id=-1,ar(P,o)):P()}}}const ar=pg;function Gg(e){return Hg(e)}function Hg(e,r){const o=Ah();o.__VUE__=!0;const{insert:c,remove:h,patchProp:p,createElement:E,createText:S,createComment:b,setText:k,setElementText:_,parentNode:A,nextSibling:y,setScopeId:w=Er,insertStaticContent:P}=e,oe=(R,F,O,ne=null,ue=null,Te=null,De=!1,Ae=null,Ie=!!F.dynamicChildren)=>{if(R===F)return;R&&!ui(R,F)&&(ne=V(R),Pe(R,ue,Te,!0),R=null),F.patchFlag===-2&&(Ie=!1,F.dynamicChildren=null);const{type:ye,ref:Me,shapeFlag:Ce}=F;switch(ye){case Ua:J(R,F,O,ne);break;case An:Y(R,F,O,ne);break;case ha:R==null&&$(F,O,ne,De);break;case Gt:I(R,F,O,ne,ue,Te,De,Ae,Ie);break;default:Ce&1?Z(R,F,O,ne,ue,Te,De,Ae,Ie):Ce&6?q(R,F,O,ne,ue,Te,De,Ae,Ie):(Ce&64||Ce&128)&&ye.process(R,F,O,ne,ue,Te,De,Ae,Ie,ve)}Me!=null&&ue&&ro(Me,R&&R.ref,Te,F||R,!F)},J=(R,F,O,ne)=>{if(R==null)c(F.el=S(F.children),O,ne);else{const ue=F.el=R.el;F.children!==R.children&&k(ue,F.children)}},Y=(R,F,O,ne)=>{R==null?c(F.el=b(F.children||""),O,ne):F.el=R.el},$=(R,F,O,ne)=>{[R.el,R.anchor]=P(R.children,F,O,ne,R.el,R.anchor)},H=({el:R,anchor:F},O,ne)=>{let ue;for(;R&&R!==F;)ue=y(R),c(R,O,ne),R=ue;c(F,O,ne)},ae=({el:R,anchor:F})=>{let O;for(;R&&R!==F;)O=y(R),h(R),R=O;h(F)},Z=(R,F,O,ne,ue,Te,De,Ae,Ie)=>{De=De||F.type==="svg",R==null?re(F,O,ne,ue,Te,De,Ae,Ie):we(R,F,ue,Te,De,Ae,Ie)},re=(R,F,O,ne,ue,Te,De,Ae)=>{let Ie,ye;const{type:Me,props:Ce,shapeFlag:Ne,transition:Ve,dirs:ze}=R;if(Ie=R.el=E(R.type,Te,Ce&&Ce.is,Ce),Ne&8?_(Ie,R.children):Ne&16&&ke(R.children,Ie,null,ne,ue,Te&&Me!=="foreignObject",De,Ae),ze&&gn(R,null,ne,"created"),ee(Ie,R,R.scopeId,De,ne),Ce){for(const nt in Ce)nt!=="value"&&!ca(nt)&&p(Ie,nt,null,Ce[nt],Te,R.children,ne,ue,X);"value"in Ce&&p(Ie,"value",null,Ce.value),(ye=Ce.onVnodeBeforeMount)&&Lr(ye,ne,R)}ze&&gn(R,null,ne,"beforeMount");const it=(!ue||ue&&!ue.pendingBranch)&&Ve&&!Ve.persisted;it&&Ve.beforeEnter(Ie),c(Ie,F,O),((ye=Ce&&Ce.onVnodeMounted)||it||ze)&&ar(()=>{ye&&Lr(ye,ne,R),it&&Ve.enter(Ie),ze&&gn(R,null,ne,"mounted")},ue)},ee=(R,F,O,ne,ue)=>{if(O&&w(R,O),ne)for(let Te=0;Te<ne.length;Te++)w(R,ne[Te]);if(ue){let Te=ue.subTree;if(F===Te){const De=ue.vnode;ee(R,De,De.scopeId,De.slotScopeIds,ue.parent)}}},ke=(R,F,O,ne,ue,Te,De,Ae,Ie=0)=>{for(let ye=Ie;ye<R.length;ye++){const Me=R[ye]=Ae?Zr(R[ye]):wr(R[ye]);oe(null,Me,F,O,ne,ue,Te,De,Ae)}},we=(R,F,O,ne,ue,Te,De)=>{const Ae=F.el=R.el;let{patchFlag:Ie,dynamicChildren:ye,dirs:Me}=F;Ie|=R.patchFlag&16;const Ce=R.props||It,Ne=F.props||It;let Ve;O&&vn(O,!1),(Ve=Ne.onVnodeBeforeUpdate)&&Lr(Ve,O,F,R),Me&&gn(F,R,O,"beforeUpdate"),O&&vn(O,!0);const ze=ue&&F.type!=="foreignObject";if(ye?Ye(R.dynamicChildren,ye,Ae,O,ne,ze,Te):De||fe(R,F,Ae,null,O,ne,ze,Te,!1),Ie>0){if(Ie&16)se(Ae,F,Ce,Ne,O,ne,ue);else if(Ie&2&&Ce.class!==Ne.class&&p(Ae,"class",null,Ne.class,ue),Ie&4&&p(Ae,"style",Ce.style,Ne.style,ue),Ie&8){const it=F.dynamicProps;for(let nt=0;nt<it.length;nt++){const mt=it[nt],wt=Ce[mt],xt=Ne[mt];(xt!==wt||mt==="value")&&p(Ae,mt,wt,xt,ue,R.children,O,ne,X)}}Ie&1&&R.children!==F.children&&_(Ae,F.children)}else!De&&ye==null&&se(Ae,F,Ce,Ne,O,ne,ue);((Ve=Ne.onVnodeUpdated)||Me)&&ar(()=>{Ve&&Lr(Ve,O,F,R),Me&&gn(F,R,O,"updated")},ne)},Ye=(R,F,O,ne,ue,Te,De)=>{for(let Ae=0;Ae<F.length;Ae++){const Ie=R[Ae],ye=F[Ae],Me=Ie.el&&(Ie.type===Gt||!ui(Ie,ye)||Ie.shapeFlag&70)?A(Ie.el):O;oe(Ie,ye,Me,null,ne,ue,Te,De,!0)}},se=(R,F,O,ne,ue,Te,De)=>{if(O!==ne){if(O!==It)for(const Ae in O)!ca(Ae)&&!(Ae in ne)&&p(R,Ae,O[Ae],null,De,F.children,ue,Te,X);for(const Ae in ne){if(ca(Ae))continue;const Ie=ne[Ae],ye=O[Ae];Ie!==ye&&Ae!=="value"&&p(R,Ae,ye,Ie,De,F.children,ue,Te,X)}"value"in ne&&p(R,"value",O.value,ne.value)}},I=(R,F,O,ne,ue,Te,De,Ae,Ie)=>{const ye=F.el=R?R.el:S(""),Me=F.anchor=R?R.anchor:S("");let{patchFlag:Ce,dynamicChildren:Ne,slotScopeIds:Ve}=F;Ve&&(Ae=Ae?Ae.concat(Ve):Ve),R==null?(c(ye,O,ne),c(Me,O,ne),ke(F.children,O,Me,ue,Te,De,Ae,Ie)):Ce>0&&Ce&64&&Ne&&R.dynamicChildren?(Ye(R.dynamicChildren,Ne,O,ue,Te,De,Ae),(F.key!=null||ue&&F===ue.subTree)&&nf(R,F,!0)):fe(R,F,O,Me,ue,Te,De,Ae,Ie)},q=(R,F,O,ne,ue,Te,De,Ae,Ie)=>{F.slotScopeIds=Ae,R==null?F.shapeFlag&512?ue.ctx.activate(F,O,ne,De,Ie):B(F,O,ne,ue,Te,De,Ie):he(R,F,Ie)},B=(R,F,O,ne,ue,Te,De)=>{const Ae=R.component=Zg(R,ne,ue);if(Gc(R)&&(Ae.ctx.renderer=ve),ev(Ae),Ae.asyncDep){if(ue&&ue.registerDep(Ae,Ee),!R.el){const Ie=Ae.subTree=Tt(An);Y(null,Ie,F,O)}return}Ee(Ae,R,F,O,ue,Te,De)},he=(R,F,O)=>{const ne=F.component=R.component;if(gg(R,F,O))if(ne.asyncDep&&!ne.asyncResolved){ge(ne,F,O);return}else ne.next=F,lg(ne.update),ne.update();else F.el=R.el,ne.vnode=F},Ee=(R,F,O,ne,ue,Te,De)=>{const Ae=()=>{if(R.isMounted){let{next:Me,bu:Ce,u:Ne,parent:Ve,vnode:ze}=R,it=Me,nt;vn(R,!1),Me?(Me.el=ze.el,ge(R,Me,De)):Me=ze,Ce&&Ps(Ce),(nt=Me.props&&Me.props.onVnodeBeforeUpdate)&&Lr(nt,Ve,Me,ze),vn(R,!0);const mt=Fs(R),wt=R.subTree;R.subTree=mt,oe(wt,mt,A(wt.el),V(wt),R,ue,Te),Me.el=mt.el,it===null&&vg(R,mt.el),Ne&&ar(Ne,ue),(nt=Me.props&&Me.props.onVnodeUpdated)&&ar(()=>Lr(nt,Ve,Me,ze),ue)}else{let Me;const{el:Ce,props:Ne}=F,{bm:Ve,m:ze,parent:it}=R,nt=da(F);if(vn(R,!1),Ve&&Ps(Ve),!nt&&(Me=Ne&&Ne.onVnodeBeforeMount)&&Lr(Me,it,F),vn(R,!0),Ce&&pe){const mt=()=>{R.subTree=Fs(R),pe(Ce,R.subTree,R,ue,null)};nt?F.type.__asyncLoader().then(()=>!R.isUnmounted&&mt()):mt()}else{const mt=R.subTree=Fs(R);oe(null,mt,O,ne,R,ue,Te),F.el=mt.el}if(ze&&ar(ze,ue),!nt&&(Me=Ne&&Ne.onVnodeMounted)){const mt=F;ar(()=>Lr(Me,it,mt),ue)}(F.shapeFlag&256||it&&da(it.vnode)&&it.vnode.shapeFlag&256)&&R.a&&ar(R.a,ue),R.isMounted=!0,F=O=ne=null}},Ie=R.effect=new Do(Ae,()=>No(ye),R.scope),ye=R.update=()=>Ie.run();ye.id=R.uid,vn(R,!0),ye()},ge=(R,F,O)=>{F.component=R;const ne=R.vnode.props;R.vnode=F,R.next=null,Mg(R,F.props,ne,O),Bg(R,F.children,O),Qn(),eu(),Jn()},fe=(R,F,O,ne,ue,Te,De,Ae,Ie=!1)=>{const ye=R&&R.children,Me=R?R.shapeFlag:0,Ce=F.children,{patchFlag:Ne,shapeFlag:Ve}=F;if(Ne>0){if(Ne&128){He(ye,Ce,O,ne,ue,Te,De,Ae,Ie);return}else if(Ne&256){Ue(ye,Ce,O,ne,ue,Te,De,Ae,Ie);return}}Ve&8?(Me&16&&X(ye,ue,Te),Ce!==ye&&_(O,Ce)):Me&16?Ve&16?He(ye,Ce,O,ne,ue,Te,De,Ae,Ie):X(ye,ue,Te,!0):(Me&8&&_(O,""),Ve&16&&ke(Ce,O,ne,ue,Te,De,Ae,Ie))},Ue=(R,F,O,ne,ue,Te,De,Ae,Ie)=>{R=R||Un,F=F||Un;const ye=R.length,Me=F.length,Ce=Math.min(ye,Me);let Ne;for(Ne=0;Ne<Ce;Ne++){const Ve=F[Ne]=Ie?Zr(F[Ne]):wr(F[Ne]);oe(R[Ne],Ve,O,null,ue,Te,De,Ae,Ie)}ye>Me?X(R,ue,Te,!0,!1,Ce):ke(F,O,ne,ue,Te,De,Ae,Ie,Ce)},He=(R,F,O,ne,ue,Te,De,Ae,Ie)=>{let ye=0;const Me=F.length;let Ce=R.length-1,Ne=Me-1;for(;ye<=Ce&&ye<=Ne;){const Ve=R[ye],ze=F[ye]=Ie?Zr(F[ye]):wr(F[ye]);if(ui(Ve,ze))oe(Ve,ze,O,null,ue,Te,De,Ae,Ie);else break;ye++}for(;ye<=Ce&&ye<=Ne;){const Ve=R[Ce],ze=F[Ne]=Ie?Zr(F[Ne]):wr(F[Ne]);if(ui(Ve,ze))oe(Ve,ze,O,null,ue,Te,De,Ae,Ie);else break;Ce--,Ne--}if(ye>Ce){if(ye<=Ne){const Ve=Ne+1,ze=Ve<Me?F[Ve].el:ne;for(;ye<=Ne;)oe(null,F[ye]=Ie?Zr(F[ye]):wr(F[ye]),O,ze,ue,Te,De,Ae,Ie),ye++}}else if(ye>Ne)for(;ye<=Ce;)Pe(R[ye],ue,Te,!0),ye++;else{const Ve=ye,ze=ye,it=new Map;for(ye=ze;ye<=Ne;ye++){const N=F[ye]=Ie?Zr(F[ye]):wr(F[ye]);N.key!=null&&it.set(N.key,ye)}let nt,mt=0;const wt=Ne-ze+1;let xt=!1,ie=0;const K=new Array(wt);for(ye=0;ye<wt;ye++)K[ye]=0;for(ye=Ve;ye<=Ce;ye++){const N=R[ye];if(mt>=wt){Pe(N,ue,Te,!0);continue}let U;if(N.key!=null)U=it.get(N.key);else for(nt=ze;nt<=Ne;nt++)if(K[nt-ze]===0&&ui(N,F[nt])){U=nt;break}U===void 0?Pe(N,ue,Te,!0):(K[U-ze]=ye+1,U>=ie?ie=U:xt=!0,oe(N,F[U],O,null,ue,Te,De,Ae,Ie),mt++)}const x=xt?Vg(K):Un;for(nt=x.length-1,ye=wt-1;ye>=0;ye--){const N=ze+ye,U=F[N],W=N+1<Me?F[N+1].el:ne;K[ye]===0?oe(null,U,O,W,ue,Te,De,Ae,Ie):xt&&(nt<0||ye!==x[nt]?je(U,O,W,2):nt--)}}},je=(R,F,O,ne,ue=null)=>{const{el:Te,type:De,transition:Ae,children:Ie,shapeFlag:ye}=R;if(ye&6){je(R.component.subTree,F,O,ne);return}if(ye&128){R.suspense.move(F,O,ne);return}if(ye&64){De.move(R,F,O,ve);return}if(De===Gt){c(Te,F,O);for(let Ce=0;Ce<Ie.length;Ce++)je(Ie[Ce],F,O,ne);c(R.anchor,F,O);return}if(De===ha){H(R,F,O);return}if(ne!==2&&ye&1&&Ae)if(ne===0)Ae.beforeEnter(Te),c(Te,F,O),ar(()=>Ae.enter(Te),ue);else{const{leave:Ce,delayLeave:Ne,afterLeave:Ve}=Ae,ze=()=>c(Te,F,O),it=()=>{Ce(Te,()=>{ze(),Ve&&Ve()})};Ne?Ne(Te,ze,it):it()}else c(Te,F,O)},Pe=(R,F,O,ne=!1,ue=!1)=>{const{type:Te,props:De,ref:Ae,children:Ie,dynamicChildren:ye,shapeFlag:Me,patchFlag:Ce,dirs:Ne}=R;if(Ae!=null&&ro(Ae,null,O,R,!0),Me&256){F.ctx.deactivate(R);return}const Ve=Me&1&&Ne,ze=!da(R);let it;if(ze&&(it=De&&De.onVnodeBeforeUnmount)&&Lr(it,F,R),Me&6)M(R.component,O,ne);else{if(Me&128){R.suspense.unmount(O,ne);return}Ve&&gn(R,null,F,"beforeUnmount"),Me&64?R.type.remove(R,F,O,ue,ve,ne):ye&&(Te!==Gt||Ce>0&&Ce&64)?X(ye,F,O,!1,!0):(Te===Gt&&Ce&384||!ue&&Me&16)&&X(Ie,F,O),ne&&et(R)}(ze&&(it=De&&De.onVnodeUnmounted)||Ve)&&ar(()=>{it&&Lr(it,F,R),Ve&&gn(R,null,F,"unmounted")},O)},et=R=>{const{type:F,el:O,anchor:ne,transition:ue}=R;if(F===Gt){dt(O,ne);return}if(F===ha){ae(R);return}const Te=()=>{h(O),ue&&!ue.persisted&&ue.afterLeave&&ue.afterLeave()};if(R.shapeFlag&1&&ue&&!ue.persisted){const{leave:De,delayLeave:Ae}=ue,Ie=()=>De(O,Te);Ae?Ae(R.el,Te,Ie):Ie()}else Te()},dt=(R,F)=>{let O;for(;R!==F;)O=y(R),h(R),R=O;h(F)},M=(R,F,O)=>{const{bum:ne,scope:ue,update:Te,subTree:De,um:Ae}=R;ne&&Ps(ne),ue.stop(),Te&&(Te.active=!1,Pe(De,R,F,O)),Ae&&ar(Ae,F),ar(()=>{R.isUnmounted=!0},F),F&&F.pendingBranch&&!F.isUnmounted&&R.asyncDep&&!R.asyncResolved&&R.suspenseId===F.pendingId&&(F.deps--,F.deps===0&&F.resolve())},X=(R,F,O,ne=!1,ue=!1,Te=0)=>{for(let De=Te;De<R.length;De++)Pe(R[De],F,O,ne,ue)},V=R=>R.shapeFlag&6?V(R.component.subTree):R.shapeFlag&128?R.suspense.next():y(R.anchor||R.el),ce=(R,F,O)=>{R==null?F._vnode&&Pe(F._vnode,null,null,!0):oe(F._vnode||null,R,F,null,null,null,O),eu(),Mc(),F._vnode=R},ve={p:oe,um:Pe,m:je,r:et,mt:B,mc:ke,pc:fe,pbc:Ye,n:V,o:e};let Le,pe;return r&&([Le,pe]=r(ve)),{render:ce,hydrate:Le,createApp:jg(ce,Le)}}function vn({effect:e,update:r},o){e.allowRecurse=r.allowRecurse=o}function nf(e,r,o=!1){const c=e.children,h=r.children;if(lt(c)&&lt(h))for(let p=0;p<c.length;p++){const E=c[p];let S=h[p];S.shapeFlag&1&&!S.dynamicChildren&&((S.patchFlag<=0||S.patchFlag===32)&&(S=h[p]=Zr(h[p]),S.el=E.el),o||nf(E,S)),S.type===Ua&&(S.el=E.el)}}function Vg(e){const r=e.slice(),o=[0];let c,h,p,E,S;const b=e.length;for(c=0;c<b;c++){const k=e[c];if(k!==0){if(h=o[o.length-1],e[h]<k){r[c]=h,o.push(c);continue}for(p=0,E=o.length-1;p<E;)S=p+E>>1,e[o[S]]<k?p=S+1:E=S;k<e[o[p]]&&(p>0&&(r[c]=o[p-1]),o[p]=c)}}for(p=o.length,E=o[p-1];p-- >0;)o[p]=E,E=r[E];return o}const Yg=e=>e.__isTeleport,Gt=Symbol(void 0),Ua=Symbol(void 0),An=Symbol(void 0),ha=Symbol(void 0),mi=[];let mr=null;function at(e=!1){mi.push(mr=e?null:[])}function Wg(){mi.pop(),mr=mi[mi.length-1]||null}let Li=1;function uu(e){Li+=e}function af(e){return e.dynamicChildren=Li>0?mr||Un:null,Wg(),Li>0&&mr&&mr.push(e),e}function yt(e,r,o,c,h,p){return af(Qe(e,r,o,c,h,p,!0))}function Hr(e,r,o,c,h){return af(Tt(e,r,o,c,h,!0))}function no(e){return e?e.__v_isVNode===!0:!1}function ui(e,r){return e.type===r.type&&e.key===r.key}const Ba="__vInternal",sf=({key:e})=>e??null,ga=({ref:e,ref_key:r,ref_for:o})=>e!=null?Ht(e)||Jt(e)||ft(e)?{i:cr,r:e,k:r,f:!!o}:e:null;function Qe(e,r=null,o=null,c=0,h=null,p=e===Gt?0:1,E=!1,S=!1){const b={__v_isVNode:!0,__v_skip:!0,type:e,props:r,key:r&&sf(r),ref:r&&ga(r),scopeId:Fa,slotScopeIds:null,children:o,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:p,patchFlag:c,dynamicProps:h,dynamicChildren:null,appContext:null,ctx:cr};return S?(Ko(b,o),p&128&&e.normalize(b)):o&&(b.shapeFlag|=Ht(o)?8:16),Li>0&&!E&&mr&&(b.patchFlag>0||p&6)&&b.patchFlag!==32&&mr.push(b),b}const Tt=$g;function $g(e,r=null,o=null,c=0,h=null,p=!1){if((!e||e===wg)&&(e=An),no(e)){const S=Yn(e,r,!0);return o&&Ko(S,o),Li>0&&!p&&mr&&(S.shapeFlag&6?mr[mr.indexOf(e)]=S:mr.push(S)),S.patchFlag|=-2,S}if(av(e)&&(e=e.__vccOpts),r){r=zg(r);let{class:S,style:b}=r;S&&!Ht(S)&&(r.class=wa(S)),Mt(b)&&(Lc(b)&&!lt(b)&&(b=rr({},b)),r.style=Ao(b))}const E=Ht(e)?1:mg(e)?128:Yg(e)?64:Mt(e)?4:ft(e)?2:0;return Qe(e,r,o,c,h,E,p,!0)}function zg(e){return e?Lc(e)||Ba in e?rr({},e):e:null}function Yn(e,r,o=!1){const{props:c,ref:h,patchFlag:p,children:E}=e,S=r?Xg(c||{},r):c;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:S,key:S&&sf(S),ref:r&&r.ref?o&&h?lt(h)?h.concat(ga(r)):[h,ga(r)]:ga(r):h,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:E,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:r&&e.type!==Gt?p===-1?16:p|16:p,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Yn(e.ssContent),ssFallback:e.ssFallback&&Yn(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce}}function pr(e=" ",r=0){return Tt(Ua,null,e,r)}function qg(e,r){const o=Tt(ha,null,e);return o.staticCount=r,o}function lr(e="",r=!1){return r?(at(),Hr(An,null,e)):Tt(An,null,e)}function wr(e){return e==null||typeof e=="boolean"?Tt(An):lt(e)?Tt(Gt,null,e.slice()):typeof e=="object"?Zr(e):Tt(Ua,null,String(e))}function Zr(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Yn(e)}function Ko(e,r){let o=0;const{shapeFlag:c}=e;if(r==null)r=null;else if(lt(r))o=16;else if(typeof r=="object")if(c&65){const h=r.default;h&&(h._c&&(h._d=!1),Ko(e,h()),h._c&&(h._d=!0));return}else{o=32;const h=r._;!h&&!(Ba in r)?r._ctx=cr:h===3&&cr&&(cr.slots._===1?r._=1:(r._=2,e.patchFlag|=1024))}else ft(r)?(r={default:r,_ctx:cr},o=32):(r=String(r),c&64?(o=16,r=[pr(r)]):o=8);e.children=r,e.shapeFlag|=o}function Xg(...e){const r={};for(let o=0;o<e.length;o++){const c=e[o];for(const h in c)if(h==="class")r.class!==c.class&&(r.class=wa([r.class,c.class]));else if(h==="style")r.style=Ao([r.style,c.style]);else if(Ra(h)){const p=r[h],E=c[h];E&&p!==E&&!(lt(p)&&p.includes(E))&&(r[h]=p?[].concat(p,E):E)}else h!==""&&(r[h]=c[h])}return r}function Lr(e,r,o,c=null){br(e,r,7,[o,c])}const Qg=rf();let Jg=0;function Zg(e,r,o){const c=e.type,h=(r?r.appContext:e.appContext)||Qg,p={uid:Jg++,vnode:e,type:c,parent:r,appContext:h,root:null,next:null,subTree:null,effect:null,update:null,scope:new kh(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:r?r.provides:Object.create(h.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Jc(c,h),emitsOptions:Uc(c,h),emit:null,emitted:null,propsDefaults:It,inheritAttrs:c.inheritAttrs,ctx:It,data:It,props:It,attrs:It,slots:It,refs:It,setupState:It,setupContext:null,suspense:o,suspenseId:o?o.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return p.ctx={_:p},p.root=r?r.root:p,p.emit=fg.bind(null,p),e.ce&&e.ce(p),p}let jt=null;const Wn=e=>{jt=e,e.scope.on()},_n=()=>{jt&&jt.scope.off(),jt=null};function of(e){return e.vnode.shapeFlag&4}let wi=!1;function ev(e,r=!1){wi=r;const{props:o,children:c}=e.vnode,h=of(e);Fg(e,o,h,r),Ug(e,c);const p=h?tv(e,r):void 0;return wi=!1,p}function tv(e,r){const o=e.type;e.accessCache=Object.create(null),e.proxy=wc(new Proxy(e.ctx,xg));const{setup:c}=o;if(c){const h=e.setupContext=c.length>1?nv(e):null;Wn(e),Qn();const p=rn(c,e,0,[e.props,h]);if(Jn(),_n(),dc(p)){if(p.then(_n,_n),r)return p.then(E=>{cu(e,E,r)}).catch(E=>{Oa(E,e,0)});e.asyncDep=p}else cu(e,p,r)}else lf(e,r)}function cu(e,r,o){ft(r)?e.type.__ssrInlineRender?e.ssrRender=r:e.render=r:Mt(r)&&(e.setupState=Ic(r)),lf(e,o)}let fu;function lf(e,r,o){const c=e.type;if(!e.render){if(!r&&fu&&!c.render){const h=c.template||Uo(e).template;if(h){const{isCustomElement:p,compilerOptions:E}=e.appContext.config,{delimiters:S,compilerOptions:b}=c,k=rr(rr({isCustomElement:p,delimiters:S},E),b);c.render=fu(h,k)}}e.render=c.render||Er}Wn(e),Qn(),Dg(e),Jn(),_n()}function rv(e){return new Proxy(e.attrs,{get(r,o){return sr(e,"get","$attrs"),r[o]}})}function nv(e){const r=c=>{e.exposed=c||{}};let o;return{get attrs(){return o||(o=rv(e))},slots:e.slots,emit:e.emit,expose:r}}function Ka(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(Ic(wc(e.exposed)),{get(r,o){if(o in r)return r[o];if(o in vi)return vi[o](e)},has(r,o){return o in r||o in vi}}))}function iv(e,r=!0){return ft(e)?e.displayName||e.name:e.name||r&&e.__name}function av(e){return ft(e)&&"__vccOpts"in e}const Lt=(e,r)=>ag(e,r,wi);function ja(e,r,o){const c=arguments.length;return c===2?Mt(r)&&!lt(r)?no(r)?Tt(e,null,[r]):Tt(e,r):Tt(e,null,r):(c>3?o=Array.prototype.slice.call(arguments,2):c===3&&no(o)&&(o=[o]),Tt(e,r,o))}const sv=Symbol(""),ov=()=>Dr(sv),lv="3.2.47",uv="http://www.w3.org/2000/svg",yn=typeof document<"u"?document:null,du=yn&&yn.createElement("template"),cv={insert:(e,r,o)=>{r.insertBefore(e,o||null)},remove:e=>{const r=e.parentNode;r&&r.removeChild(e)},createElement:(e,r,o,c)=>{const h=r?yn.createElementNS(uv,e):yn.createElement(e,o?{is:o}:void 0);return e==="select"&&c&&c.multiple!=null&&h.setAttribute("multiple",c.multiple),h},createText:e=>yn.createTextNode(e),createComment:e=>yn.createComment(e),setText:(e,r)=>{e.nodeValue=r},setElementText:(e,r)=>{e.textContent=r},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>yn.querySelector(e),setScopeId(e,r){e.setAttribute(r,"")},insertStaticContent(e,r,o,c,h,p){const E=o?o.previousSibling:r.lastChild;if(h&&(h===p||h.nextSibling))for(;r.insertBefore(h.cloneNode(!0),o),!(h===p||!(h=h.nextSibling)););else{du.innerHTML=c?`<svg>${e}</svg>`:e;const S=du.content;if(c){const b=S.firstChild;for(;b.firstChild;)S.appendChild(b.firstChild);S.removeChild(b)}r.insertBefore(S,o)}return[E?E.nextSibling:r.firstChild,o?o.previousSibling:r.lastChild]}};function fv(e,r,o){const c=e._vtc;c&&(r=(r?[r,...c]:[...c]).join(" ")),r==null?e.removeAttribute("class"):o?e.setAttribute("class",r):e.className=r}function dv(e,r,o){const c=e.style,h=Ht(o);if(o&&!h){if(r&&!Ht(r))for(const p in r)o[p]==null&&io(c,p,"");for(const p in o)io(c,p,o[p])}else{const p=c.display;h?r!==o&&(c.cssText=o):r&&e.removeAttribute("style"),"_vod"in e&&(c.display=p)}}const hu=/\s*!important$/;function io(e,r,o){if(lt(o))o.forEach(c=>io(e,r,c));else if(o==null&&(o=""),r.startsWith("--"))e.setProperty(r,o);else{const c=hv(e,r);hu.test(o)?e.setProperty(Xn(c),o.replace(hu,""),"important"):e[c]=o}}const gu=["Webkit","Moz","ms"],Ns={};function hv(e,r){const o=Ns[r];if(o)return o;let c=Ir(r);if(c!=="filter"&&c in e)return Ns[r]=c;c=Ia(c);for(let h=0;h<gu.length;h++){const p=gu[h]+c;if(p in e)return Ns[r]=p}return r}const vu="http://www.w3.org/1999/xlink";function gv(e,r,o,c,h){if(c&&r.startsWith("xlink:"))o==null?e.removeAttributeNS(vu,r.slice(6,r.length)):e.setAttributeNS(vu,r,o);else{const p=mh(r);o==null||p&&!uc(o)?e.removeAttribute(r):e.setAttribute(r,p?"":o)}}function vv(e,r,o,c,h,p,E){if(r==="innerHTML"||r==="textContent"){c&&E(c,h,p),e[r]=o??"";return}if(r==="value"&&e.tagName!=="PROGRESS"&&!e.tagName.includes("-")){e._value=o;const b=o??"";(e.value!==b||e.tagName==="OPTION")&&(e.value=b),o==null&&e.removeAttribute(r);return}let S=!1;if(o===""||o==null){const b=typeof e[r];b==="boolean"?o=uc(o):o==null&&b==="string"?(o="",S=!0):b==="number"&&(o=0,S=!0)}try{e[r]=o}catch{}S&&e.removeAttribute(r)}function mv(e,r,o,c){e.addEventListener(r,o,c)}function pv(e,r,o,c){e.removeEventListener(r,o,c)}function yv(e,r,o,c,h=null){const p=e._vei||(e._vei={}),E=p[r];if(c&&E)E.value=c;else{const[S,b]=Ev(r);if(c){const k=p[r]=Sv(c,h);mv(e,S,k,b)}else E&&(pv(e,S,E,b),p[r]=void 0)}}const mu=/(?:Once|Passive|Capture)$/;function Ev(e){let r;if(mu.test(e)){r={};let c;for(;c=e.match(mu);)e=e.slice(0,e.length-c[0].length),r[c[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Xn(e.slice(2)),r]}let Us=0;const bv=Promise.resolve(),Tv=()=>Us||(bv.then(()=>Us=0),Us=Date.now());function Sv(e,r){const o=c=>{if(!c._vts)c._vts=Date.now();else if(c._vts<=o.attached)return;br(_v(c,o.value),r,5,[c])};return o.value=e,o.attached=Tv(),o}function _v(e,r){if(lt(r)){const o=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{o.call(e),e._stopped=!0},r.map(c=>h=>!h._stopped&&c&&c(h))}else return r}const pu=/^on[a-z]/,Av=(e,r,o,c,h=!1,p,E,S,b)=>{r==="class"?fv(e,c,h):r==="style"?dv(e,o,c):Ra(r)?ko(r)||yv(e,r,o,c,E):(r[0]==="."?(r=r.slice(1),!0):r[0]==="^"?(r=r.slice(1),!1):kv(e,r,c,h))?vv(e,r,c,p,E,S,b):(r==="true-value"?e._trueValue=c:r==="false-value"&&(e._falseValue=c),gv(e,r,c,h))};function kv(e,r,o,c){return c?!!(r==="innerHTML"||r==="textContent"||r in e&&pu.test(r)&&ft(o)):r==="spellcheck"||r==="draggable"||r==="translate"||r==="form"||r==="list"&&e.tagName==="INPUT"||r==="type"&&e.tagName==="TEXTAREA"||pu.test(r)&&Ht(o)?!1:r in e}const uf={beforeMount(e,{value:r},{transition:o}){e._vod=e.style.display==="none"?"":e.style.display,o&&r?o.beforeEnter(e):ci(e,r)},mounted(e,{value:r},{transition:o}){o&&r&&o.enter(e)},updated(e,{value:r,oldValue:o},{transition:c}){!r!=!o&&(c?r?(c.beforeEnter(e),ci(e,!0),c.enter(e)):c.leave(e,()=>{ci(e,!1)}):ci(e,r))},beforeUnmount(e,{value:r}){ci(e,r)}};function ci(e,r){e.style.display=r?e._vod:"none"}const Lv=rr({patchProp:Av},cv);let yu;function wv(){return yu||(yu=Gg(Lv))}const Rv=(...e)=>{const r=wv().createApp(...e),{mount:o}=r;return r.mount=c=>{const h=xv(c);if(!h)return;const p=r._component;!ft(p)&&!p.render&&!p.template&&(p.template=h.innerHTML),h.innerHTML="";const E=o(h,!1,h instanceof SVGElement);return h instanceof Element&&(h.removeAttribute("v-cloak"),h.setAttribute("data-v-app","")),E},r};function xv(e){return Ht(e)?document.querySelector(e):e}function Eu(e,r){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);r&&(c=c.filter(function(h){return Object.getOwnPropertyDescriptor(e,h).enumerable})),o.push.apply(o,c)}return o}function qe(e){for(var r=1;r<arguments.length;r++){var o=arguments[r]!=null?arguments[r]:{};r%2?Eu(Object(o),!0).forEach(function(c){Vt(e,c,o[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):Eu(Object(o)).forEach(function(c){Object.defineProperty(e,c,Object.getOwnPropertyDescriptor(o,c))})}return e}function Ta(e){return Ta=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Ta(e)}function Dv(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function bu(e,r){for(var o=0;o<r.length;o++){var c=r[o];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(e,c.key,c)}}function Iv(e,r,o){return r&&bu(e.prototype,r),o&&bu(e,o),Object.defineProperty(e,"prototype",{writable:!1}),e}function Vt(e,r,o){return r in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o,e}function jo(e,r){return Ov(e)||Fv(e,r)||cf(e,r)||Nv()}function Ni(e){return Cv(e)||Pv(e)||cf(e)||Mv()}function Cv(e){if(Array.isArray(e))return ao(e)}function Ov(e){if(Array.isArray(e))return e}function Pv(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Fv(e,r){var o=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(o!=null){var c=[],h=!0,p=!1,E,S;try{for(o=o.call(e);!(h=(E=o.next()).done)&&(c.push(E.value),!(r&&c.length===r));h=!0);}catch(b){p=!0,S=b}finally{try{!h&&o.return!=null&&o.return()}finally{if(p)throw S}}return c}}function cf(e,r){if(e){if(typeof e=="string")return ao(e,r);var o=Object.prototype.toString.call(e).slice(8,-1);if(o==="Object"&&e.constructor&&(o=e.constructor.name),o==="Map"||o==="Set")return Array.from(e);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return ao(e,r)}}function ao(e,r){(r==null||r>e.length)&&(r=e.length);for(var o=0,c=new Array(r);o<r;o++)c[o]=e[o];return c}function Mv(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Nv(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Tu=function(){},Go={},ff={},df=null,hf={mark:Tu,measure:Tu};try{typeof window<"u"&&(Go=window),typeof document<"u"&&(ff=document),typeof MutationObserver<"u"&&(df=MutationObserver),typeof performance<"u"&&(hf=performance)}catch{}var Uv=Go.navigator||{},Su=Uv.userAgent,_u=Su===void 0?"":Su,an=Go,Ot=ff,Au=df,ta=hf;an.document;var zr=!!Ot.documentElement&&!!Ot.head&&typeof Ot.addEventListener=="function"&&typeof Ot.createElement=="function",gf=~_u.indexOf("MSIE")||~_u.indexOf("Trident/"),ra,na,ia,aa,sa,Vr="___FONT_AWESOME___",so=16,vf="fa",mf="svg-inline--fa",kn="data-fa-i2svg",oo="data-fa-pseudo-element",Bv="data-fa-pseudo-element-pending",Ho="data-prefix",Vo="data-icon",ku="fontawesome-i2svg",Kv="async",jv=["HTML","HEAD","STYLE","SCRIPT"],pf=function(){try{return!0}catch{return!1}}(),Ct="classic",Bt="sharp",Yo=[Ct,Bt];function Ui(e){return new Proxy(e,{get:function(o,c){return c in o?o[c]:o[Ct]}})}var Ri=Ui((ra={},Vt(ra,Ct,{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fad:"duotone","fa-duotone":"duotone",fab:"brands","fa-brands":"brands",fak:"kit","fa-kit":"kit"}),Vt(ra,Bt,{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular"}),ra)),xi=Ui((na={},Vt(na,Ct,{solid:"fas",regular:"far",light:"fal",thin:"fat",duotone:"fad",brands:"fab",kit:"fak"}),Vt(na,Bt,{solid:"fass",regular:"fasr"}),na)),Di=Ui((ia={},Vt(ia,Ct,{fab:"fa-brands",fad:"fa-duotone",fak:"fa-kit",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"}),Vt(ia,Bt,{fass:"fa-solid",fasr:"fa-regular"}),ia)),Gv=Ui((aa={},Vt(aa,Ct,{"fa-brands":"fab","fa-duotone":"fad","fa-kit":"fak","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"}),Vt(aa,Bt,{"fa-solid":"fass","fa-regular":"fasr"}),aa)),Hv=/fa(s|r|l|t|d|b|k|ss|sr)?[\-\ ]/,yf="fa-layers-text",Vv=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp|Kit)?.*/i,Yv=Ui((sa={},Vt(sa,Ct,{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"}),Vt(sa,Bt,{900:"fass",400:"fasr"}),sa)),Ef=[1,2,3,4,5,6,7,8,9,10],Wv=Ef.concat([11,12,13,14,15,16,17,18,19,20]),$v=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],bn={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},Ii=new Set;Object.keys(xi[Ct]).map(Ii.add.bind(Ii));Object.keys(xi[Bt]).map(Ii.add.bind(Ii));var zv=[].concat(Yo,Ni(Ii),["2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",bn.GROUP,bn.SWAP_OPACITY,bn.PRIMARY,bn.SECONDARY]).concat(Ef.map(function(e){return"".concat(e,"x")})).concat(Wv.map(function(e){return"w-".concat(e)})),pi=an.FontAwesomeConfig||{};function qv(e){var r=Ot.querySelector("script["+e+"]");if(r)return r.getAttribute(e)}function Xv(e){return e===""?!0:e==="false"?!1:e==="true"?!0:e}if(Ot&&typeof Ot.querySelector=="function"){var Qv=[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]];Qv.forEach(function(e){var r=jo(e,2),o=r[0],c=r[1],h=Xv(qv(o));h!=null&&(pi[c]=h)})}var bf={styleDefault:"solid",familyDefault:"classic",cssPrefix:vf,replacementClass:mf,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};pi.familyPrefix&&(pi.cssPrefix=pi.familyPrefix);var $n=qe(qe({},bf),pi);$n.autoReplaceSvg||($n.observeMutations=!1);var Ze={};Object.keys(bf).forEach(function(e){Object.defineProperty(Ze,e,{enumerable:!0,set:function(o){$n[e]=o,yi.forEach(function(c){return c(Ze)})},get:function(){return $n[e]}})});Object.defineProperty(Ze,"familyPrefix",{enumerable:!0,set:function(r){$n.cssPrefix=r,yi.forEach(function(o){return o(Ze)})},get:function(){return $n.cssPrefix}});an.FontAwesomeConfig=Ze;var yi=[];function Jv(e){return yi.push(e),function(){yi.splice(yi.indexOf(e),1)}}var Qr=so,xr={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function Zv(e){if(!(!e||!zr)){var r=Ot.createElement("style");r.setAttribute("type","text/css"),r.innerHTML=e;for(var o=Ot.head.childNodes,c=null,h=o.length-1;h>-1;h--){var p=o[h],E=(p.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(E)>-1&&(c=p)}return Ot.head.insertBefore(r,c),e}}var em="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function Ci(){for(var e=12,r="";e-- >0;)r+=em[Math.random()*62|0];return r}function ti(e){for(var r=[],o=(e||[]).length>>>0;o--;)r[o]=e[o];return r}function Wo(e){return e.classList?ti(e.classList):(e.getAttribute("class")||"").split(" ").filter(function(r){return r})}function Tf(e){return"".concat(e).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function tm(e){return Object.keys(e||{}).reduce(function(r,o){return r+"".concat(o,'="').concat(Tf(e[o]),'" ')},"").trim()}function Ga(e){return Object.keys(e||{}).reduce(function(r,o){return r+"".concat(o,": ").concat(e[o].trim(),";")},"")}function $o(e){return e.size!==xr.size||e.x!==xr.x||e.y!==xr.y||e.rotate!==xr.rotate||e.flipX||e.flipY}function rm(e){var r=e.transform,o=e.containerWidth,c=e.iconWidth,h={transform:"translate(".concat(o/2," 256)")},p="translate(".concat(r.x*32,", ").concat(r.y*32,") "),E="scale(".concat(r.size/16*(r.flipX?-1:1),", ").concat(r.size/16*(r.flipY?-1:1),") "),S="rotate(".concat(r.rotate," 0 0)"),b={transform:"".concat(p," ").concat(E," ").concat(S)},k={transform:"translate(".concat(c/2*-1," -256)")};return{outer:h,inner:b,path:k}}function nm(e){var r=e.transform,o=e.width,c=o===void 0?so:o,h=e.height,p=h===void 0?so:h,E=e.startCentered,S=E===void 0?!1:E,b="";return S&&gf?b+="translate(".concat(r.x/Qr-c/2,"em, ").concat(r.y/Qr-p/2,"em) "):S?b+="translate(calc(-50% + ".concat(r.x/Qr,"em), calc(-50% + ").concat(r.y/Qr,"em)) "):b+="translate(".concat(r.x/Qr,"em, ").concat(r.y/Qr,"em) "),b+="scale(".concat(r.size/Qr*(r.flipX?-1:1),", ").concat(r.size/Qr*(r.flipY?-1:1),") "),b+="rotate(".concat(r.rotate,"deg) "),b}var im=`:root, :host {
  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Solid";
  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Regular";
  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Light";
  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Thin";
  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";
  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";
  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";
}

svg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {
  overflow: visible;
  box-sizing: content-box;
}

.svg-inline--fa {
  display: var(--fa-display, inline-block);
  height: 1em;
  overflow: visible;
  vertical-align: -0.125em;
}
.svg-inline--fa.fa-2xs {
  vertical-align: 0.1em;
}
.svg-inline--fa.fa-xs {
  vertical-align: 0em;
}
.svg-inline--fa.fa-sm {
  vertical-align: -0.0714285705em;
}
.svg-inline--fa.fa-lg {
  vertical-align: -0.2em;
}
.svg-inline--fa.fa-xl {
  vertical-align: -0.25em;
}
.svg-inline--fa.fa-2xl {
  vertical-align: -0.3125em;
}
.svg-inline--fa.fa-pull-left {
  margin-right: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-pull-right {
  margin-left: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-li {
  width: var(--fa-li-width, 2em);
  top: 0.25em;
}
.svg-inline--fa.fa-fw {
  width: var(--fa-fw-width, 1.25em);
}

.fa-layers svg.svg-inline--fa {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
}

.fa-layers-counter, .fa-layers-text {
  display: inline-block;
  position: absolute;
  text-align: center;
}

.fa-layers {
  display: inline-block;
  height: 1em;
  position: relative;
  text-align: center;
  vertical-align: -0.125em;
  width: 1em;
}
.fa-layers svg.svg-inline--fa {
  -webkit-transform-origin: center center;
          transform-origin: center center;
}

.fa-layers-text {
  left: 50%;
  top: 50%;
  -webkit-transform: translate(-50%, -50%);
          transform: translate(-50%, -50%);
  -webkit-transform-origin: center center;
          transform-origin: center center;
}

.fa-layers-counter {
  background-color: var(--fa-counter-background-color, #ff253a);
  border-radius: var(--fa-counter-border-radius, 1em);
  box-sizing: border-box;
  color: var(--fa-inverse, #fff);
  line-height: var(--fa-counter-line-height, 1);
  max-width: var(--fa-counter-max-width, 5em);
  min-width: var(--fa-counter-min-width, 1.5em);
  overflow: hidden;
  padding: var(--fa-counter-padding, 0.25em 0.5em);
  right: var(--fa-right, 0);
  text-overflow: ellipsis;
  top: var(--fa-top, 0);
  -webkit-transform: scale(var(--fa-counter-scale, 0.25));
          transform: scale(var(--fa-counter-scale, 0.25));
  -webkit-transform-origin: top right;
          transform-origin: top right;
}

.fa-layers-bottom-right {
  bottom: var(--fa-bottom, 0);
  right: var(--fa-right, 0);
  top: auto;
  -webkit-transform: scale(var(--fa-layers-scale, 0.25));
          transform: scale(var(--fa-layers-scale, 0.25));
  -webkit-transform-origin: bottom right;
          transform-origin: bottom right;
}

.fa-layers-bottom-left {
  bottom: var(--fa-bottom, 0);
  left: var(--fa-left, 0);
  right: auto;
  top: auto;
  -webkit-transform: scale(var(--fa-layers-scale, 0.25));
          transform: scale(var(--fa-layers-scale, 0.25));
  -webkit-transform-origin: bottom left;
          transform-origin: bottom left;
}

.fa-layers-top-right {
  top: var(--fa-top, 0);
  right: var(--fa-right, 0);
  -webkit-transform: scale(var(--fa-layers-scale, 0.25));
          transform: scale(var(--fa-layers-scale, 0.25));
  -webkit-transform-origin: top right;
          transform-origin: top right;
}

.fa-layers-top-left {
  left: var(--fa-left, 0);
  right: auto;
  top: var(--fa-top, 0);
  -webkit-transform: scale(var(--fa-layers-scale, 0.25));
          transform: scale(var(--fa-layers-scale, 0.25));
  -webkit-transform-origin: top left;
          transform-origin: top left;
}

.fa-1x {
  font-size: 1em;
}

.fa-2x {
  font-size: 2em;
}

.fa-3x {
  font-size: 3em;
}

.fa-4x {
  font-size: 4em;
}

.fa-5x {
  font-size: 5em;
}

.fa-6x {
  font-size: 6em;
}

.fa-7x {
  font-size: 7em;
}

.fa-8x {
  font-size: 8em;
}

.fa-9x {
  font-size: 9em;
}

.fa-10x {
  font-size: 10em;
}

.fa-2xs {
  font-size: 0.625em;
  line-height: 0.1em;
  vertical-align: 0.225em;
}

.fa-xs {
  font-size: 0.75em;
  line-height: 0.0833333337em;
  vertical-align: 0.125em;
}

.fa-sm {
  font-size: 0.875em;
  line-height: 0.0714285718em;
  vertical-align: 0.0535714295em;
}

.fa-lg {
  font-size: 1.25em;
  line-height: 0.05em;
  vertical-align: -0.075em;
}

.fa-xl {
  font-size: 1.5em;
  line-height: 0.0416666682em;
  vertical-align: -0.125em;
}

.fa-2xl {
  font-size: 2em;
  line-height: 0.03125em;
  vertical-align: -0.1875em;
}

.fa-fw {
  text-align: center;
  width: 1.25em;
}

.fa-ul {
  list-style-type: none;
  margin-left: var(--fa-li-margin, 2.5em);
  padding-left: 0;
}
.fa-ul > li {
  position: relative;
}

.fa-li {
  left: calc(var(--fa-li-width, 2em) * -1);
  position: absolute;
  text-align: center;
  width: var(--fa-li-width, 2em);
  line-height: inherit;
}

.fa-border {
  border-color: var(--fa-border-color, #eee);
  border-radius: var(--fa-border-radius, 0.1em);
  border-style: var(--fa-border-style, solid);
  border-width: var(--fa-border-width, 0.08em);
  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);
}

.fa-pull-left {
  float: left;
  margin-right: var(--fa-pull-margin, 0.3em);
}

.fa-pull-right {
  float: right;
  margin-left: var(--fa-pull-margin, 0.3em);
}

.fa-beat {
  -webkit-animation-name: fa-beat;
          animation-name: fa-beat;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);
          animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-bounce {
  -webkit-animation-name: fa-bounce;
          animation-name: fa-bounce;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
}

.fa-fade {
  -webkit-animation-name: fa-fade;
          animation-name: fa-fade;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-beat-fade {
  -webkit-animation-name: fa-beat-fade;
          animation-name: fa-beat-fade;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-flip {
  -webkit-animation-name: fa-flip;
          animation-name: fa-flip;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);
          animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-shake {
  -webkit-animation-name: fa-shake;
          animation-name: fa-shake;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, linear);
          animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin {
  -webkit-animation-name: fa-spin;
          animation-name: fa-spin;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 2s);
          animation-duration: var(--fa-animation-duration, 2s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, linear);
          animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin-reverse {
  --fa-animation-direction: reverse;
}

.fa-pulse,
.fa-spin-pulse {
  -webkit-animation-name: fa-spin;
          animation-name: fa-spin;
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, steps(8));
          animation-timing-function: var(--fa-animation-timing, steps(8));
}

@media (prefers-reduced-motion: reduce) {
  .fa-beat,
.fa-bounce,
.fa-fade,
.fa-beat-fade,
.fa-flip,
.fa-pulse,
.fa-shake,
.fa-spin,
.fa-spin-pulse {
    -webkit-animation-delay: -1ms;
            animation-delay: -1ms;
    -webkit-animation-duration: 1ms;
            animation-duration: 1ms;
    -webkit-animation-iteration-count: 1;
            animation-iteration-count: 1;
    -webkit-transition-delay: 0s;
            transition-delay: 0s;
    -webkit-transition-duration: 0s;
            transition-duration: 0s;
  }
}
@-webkit-keyframes fa-beat {
  0%, 90% {
    -webkit-transform: scale(1);
            transform: scale(1);
  }
  45% {
    -webkit-transform: scale(var(--fa-beat-scale, 1.25));
            transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@keyframes fa-beat {
  0%, 90% {
    -webkit-transform: scale(1);
            transform: scale(1);
  }
  45% {
    -webkit-transform: scale(var(--fa-beat-scale, 1.25));
            transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@-webkit-keyframes fa-bounce {
  0% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
  10% {
    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
  100% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
}
@keyframes fa-bounce {
  0% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
  10% {
    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
  100% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
}
@-webkit-keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@-webkit-keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    -webkit-transform: scale(1);
            transform: scale(1);
  }
  50% {
    opacity: 1;
    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));
            transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    -webkit-transform: scale(1);
            transform: scale(1);
  }
  50% {
    opacity: 1;
    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));
            transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@-webkit-keyframes fa-flip {
  50% {
    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@keyframes fa-flip {
  50% {
    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@-webkit-keyframes fa-shake {
  0% {
    -webkit-transform: rotate(-15deg);
            transform: rotate(-15deg);
  }
  4% {
    -webkit-transform: rotate(15deg);
            transform: rotate(15deg);
  }
  8%, 24% {
    -webkit-transform: rotate(-18deg);
            transform: rotate(-18deg);
  }
  12%, 28% {
    -webkit-transform: rotate(18deg);
            transform: rotate(18deg);
  }
  16% {
    -webkit-transform: rotate(-22deg);
            transform: rotate(-22deg);
  }
  20% {
    -webkit-transform: rotate(22deg);
            transform: rotate(22deg);
  }
  32% {
    -webkit-transform: rotate(-12deg);
            transform: rotate(-12deg);
  }
  36% {
    -webkit-transform: rotate(12deg);
            transform: rotate(12deg);
  }
  40%, 100% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
}
@keyframes fa-shake {
  0% {
    -webkit-transform: rotate(-15deg);
            transform: rotate(-15deg);
  }
  4% {
    -webkit-transform: rotate(15deg);
            transform: rotate(15deg);
  }
  8%, 24% {
    -webkit-transform: rotate(-18deg);
            transform: rotate(-18deg);
  }
  12%, 28% {
    -webkit-transform: rotate(18deg);
            transform: rotate(18deg);
  }
  16% {
    -webkit-transform: rotate(-22deg);
            transform: rotate(-22deg);
  }
  20% {
    -webkit-transform: rotate(22deg);
            transform: rotate(22deg);
  }
  32% {
    -webkit-transform: rotate(-12deg);
            transform: rotate(-12deg);
  }
  36% {
    -webkit-transform: rotate(12deg);
            transform: rotate(12deg);
  }
  40%, 100% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
}
@-webkit-keyframes fa-spin {
  0% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
  100% {
    -webkit-transform: rotate(360deg);
            transform: rotate(360deg);
  }
}
@keyframes fa-spin {
  0% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
  100% {
    -webkit-transform: rotate(360deg);
            transform: rotate(360deg);
  }
}
.fa-rotate-90 {
  -webkit-transform: rotate(90deg);
          transform: rotate(90deg);
}

.fa-rotate-180 {
  -webkit-transform: rotate(180deg);
          transform: rotate(180deg);
}

.fa-rotate-270 {
  -webkit-transform: rotate(270deg);
          transform: rotate(270deg);
}

.fa-flip-horizontal {
  -webkit-transform: scale(-1, 1);
          transform: scale(-1, 1);
}

.fa-flip-vertical {
  -webkit-transform: scale(1, -1);
          transform: scale(1, -1);
}

.fa-flip-both,
.fa-flip-horizontal.fa-flip-vertical {
  -webkit-transform: scale(-1, -1);
          transform: scale(-1, -1);
}

.fa-rotate-by {
  -webkit-transform: rotate(var(--fa-rotate-angle, none));
          transform: rotate(var(--fa-rotate-angle, none));
}

.fa-stack {
  display: inline-block;
  vertical-align: middle;
  height: 2em;
  position: relative;
  width: 2.5em;
}

.fa-stack-1x,
.fa-stack-2x {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
  z-index: var(--fa-stack-z-index, auto);
}

.svg-inline--fa.fa-stack-1x {
  height: 1em;
  width: 1.25em;
}
.svg-inline--fa.fa-stack-2x {
  height: 2em;
  width: 2.5em;
}

.fa-inverse {
  color: var(--fa-inverse, #fff);
}

.sr-only,
.fa-sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.sr-only-focusable:not(:focus),
.fa-sr-only-focusable:not(:focus) {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.svg-inline--fa .fa-primary {
  fill: var(--fa-primary-color, currentColor);
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa .fa-secondary {
  fill: var(--fa-secondary-color, currentColor);
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-primary {
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-secondary {
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa mask .fa-primary,
.svg-inline--fa mask .fa-secondary {
  fill: black;
}

.fad.fa-inverse,
.fa-duotone.fa-inverse {
  color: var(--fa-inverse, #fff);
}`;function Sf(){var e=vf,r=mf,o=Ze.cssPrefix,c=Ze.replacementClass,h=im;if(o!==e||c!==r){var p=new RegExp("\\.".concat(e,"\\-"),"g"),E=new RegExp("\\--".concat(e,"\\-"),"g"),S=new RegExp("\\.".concat(r),"g");h=h.replace(p,".".concat(o,"-")).replace(E,"--".concat(o,"-")).replace(S,".".concat(c))}return h}var Lu=!1;function Bs(){Ze.autoAddCss&&!Lu&&(Zv(Sf()),Lu=!0)}var am={mixout:function(){return{dom:{css:Sf,insertCss:Bs}}},hooks:function(){return{beforeDOMElementCreation:function(){Bs()},beforeI2svg:function(){Bs()}}}},Yr=an||{};Yr[Vr]||(Yr[Vr]={});Yr[Vr].styles||(Yr[Vr].styles={});Yr[Vr].hooks||(Yr[Vr].hooks={});Yr[Vr].shims||(Yr[Vr].shims=[]);var yr=Yr[Vr],_f=[],sm=function e(){Ot.removeEventListener("DOMContentLoaded",e),Sa=1,_f.map(function(r){return r()})},Sa=!1;zr&&(Sa=(Ot.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(Ot.readyState),Sa||Ot.addEventListener("DOMContentLoaded",sm));function om(e){zr&&(Sa?setTimeout(e,0):_f.push(e))}function Bi(e){var r=e.tag,o=e.attributes,c=o===void 0?{}:o,h=e.children,p=h===void 0?[]:h;return typeof e=="string"?Tf(e):"<".concat(r," ").concat(tm(c),">").concat(p.map(Bi).join(""),"</").concat(r,">")}function wu(e,r,o){if(e&&e[r]&&e[r][o])return{prefix:r,iconName:o,icon:e[r][o]}}var lm=function(r,o){return function(c,h,p,E){return r.call(o,c,h,p,E)}},Ks=function(r,o,c,h){var p=Object.keys(r),E=p.length,S=h!==void 0?lm(o,h):o,b,k,_;for(c===void 0?(b=1,_=r[p[0]]):(b=0,_=c);b<E;b++)k=p[b],_=S(_,r[k],k,r);return _};function um(e){for(var r=[],o=0,c=e.length;o<c;){var h=e.charCodeAt(o++);if(h>=55296&&h<=56319&&o<c){var p=e.charCodeAt(o++);(p&64512)==56320?r.push(((h&1023)<<10)+(p&1023)+65536):(r.push(h),o--)}else r.push(h)}return r}function lo(e){var r=um(e);return r.length===1?r[0].toString(16):null}function cm(e,r){var o=e.length,c=e.charCodeAt(r),h;return c>=55296&&c<=56319&&o>r+1&&(h=e.charCodeAt(r+1),h>=56320&&h<=57343)?(c-55296)*1024+h-56320+65536:c}function Ru(e){return Object.keys(e).reduce(function(r,o){var c=e[o],h=!!c.icon;return h?r[c.iconName]=c.icon:r[o]=c,r},{})}function uo(e,r){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},c=o.skipHooks,h=c===void 0?!1:c,p=Ru(r);typeof yr.hooks.addPack=="function"&&!h?yr.hooks.addPack(e,Ru(r)):yr.styles[e]=qe(qe({},yr.styles[e]||{}),p),e==="fas"&&uo("fa",r)}var oa,la,ua,Mn=yr.styles,fm=yr.shims,dm=(oa={},Vt(oa,Ct,Object.values(Di[Ct])),Vt(oa,Bt,Object.values(Di[Bt])),oa),zo=null,Af={},kf={},Lf={},wf={},Rf={},hm=(la={},Vt(la,Ct,Object.keys(Ri[Ct])),Vt(la,Bt,Object.keys(Ri[Bt])),la);function gm(e){return~zv.indexOf(e)}function vm(e,r){var o=r.split("-"),c=o[0],h=o.slice(1).join("-");return c===e&&h!==""&&!gm(h)?h:null}var xf=function(){var r=function(p){return Ks(Mn,function(E,S,b){return E[b]=Ks(S,p,{}),E},{})};Af=r(function(h,p,E){if(p[3]&&(h[p[3]]=E),p[2]){var S=p[2].filter(function(b){return typeof b=="number"});S.forEach(function(b){h[b.toString(16)]=E})}return h}),kf=r(function(h,p,E){if(h[E]=E,p[2]){var S=p[2].filter(function(b){return typeof b=="string"});S.forEach(function(b){h[b]=E})}return h}),Rf=r(function(h,p,E){var S=p[2];return h[E]=E,S.forEach(function(b){h[b]=E}),h});var o="far"in Mn||Ze.autoFetchSvg,c=Ks(fm,function(h,p){var E=p[0],S=p[1],b=p[2];return S==="far"&&!o&&(S="fas"),typeof E=="string"&&(h.names[E]={prefix:S,iconName:b}),typeof E=="number"&&(h.unicodes[E.toString(16)]={prefix:S,iconName:b}),h},{names:{},unicodes:{}});Lf=c.names,wf=c.unicodes,zo=Ha(Ze.styleDefault,{family:Ze.familyDefault})};Jv(function(e){zo=Ha(e.styleDefault,{family:Ze.familyDefault})});xf();function qo(e,r){return(Af[e]||{})[r]}function mm(e,r){return(kf[e]||{})[r]}function Tn(e,r){return(Rf[e]||{})[r]}function Df(e){return Lf[e]||{prefix:null,iconName:null}}function pm(e){var r=wf[e],o=qo("fas",e);return r||(o?{prefix:"fas",iconName:o}:null)||{prefix:null,iconName:null}}function sn(){return zo}var Xo=function(){return{prefix:null,iconName:null,rest:[]}};function Ha(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=r.family,c=o===void 0?Ct:o,h=Ri[c][e],p=xi[c][e]||xi[c][h],E=e in yr.styles?e:null;return p||E||null}var xu=(ua={},Vt(ua,Ct,Object.keys(Di[Ct])),Vt(ua,Bt,Object.keys(Di[Bt])),ua);function Va(e){var r,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},c=o.skipLookups,h=c===void 0?!1:c,p=(r={},Vt(r,Ct,"".concat(Ze.cssPrefix,"-").concat(Ct)),Vt(r,Bt,"".concat(Ze.cssPrefix,"-").concat(Bt)),r),E=null,S=Ct;(e.includes(p[Ct])||e.some(function(k){return xu[Ct].includes(k)}))&&(S=Ct),(e.includes(p[Bt])||e.some(function(k){return xu[Bt].includes(k)}))&&(S=Bt);var b=e.reduce(function(k,_){var A=vm(Ze.cssPrefix,_);if(Mn[_]?(_=dm[S].includes(_)?Gv[S][_]:_,E=_,k.prefix=_):hm[S].indexOf(_)>-1?(E=_,k.prefix=Ha(_,{family:S})):A?k.iconName=A:_!==Ze.replacementClass&&_!==p[Ct]&&_!==p[Bt]&&k.rest.push(_),!h&&k.prefix&&k.iconName){var y=E==="fa"?Df(k.iconName):{},w=Tn(k.prefix,k.iconName);y.prefix&&(E=null),k.iconName=y.iconName||w||k.iconName,k.prefix=y.prefix||k.prefix,k.prefix==="far"&&!Mn.far&&Mn.fas&&!Ze.autoFetchSvg&&(k.prefix="fas")}return k},Xo());return(e.includes("fa-brands")||e.includes("fab"))&&(b.prefix="fab"),(e.includes("fa-duotone")||e.includes("fad"))&&(b.prefix="fad"),!b.prefix&&S===Bt&&(Mn.fass||Ze.autoFetchSvg)&&(b.prefix="fass",b.iconName=Tn(b.prefix,b.iconName)||b.iconName),(b.prefix==="fa"||E==="fa")&&(b.prefix=sn()||"fas"),b}var ym=function(){function e(){Dv(this,e),this.definitions={}}return Iv(e,[{key:"add",value:function(){for(var o=this,c=arguments.length,h=new Array(c),p=0;p<c;p++)h[p]=arguments[p];var E=h.reduce(this._pullDefinitions,{});Object.keys(E).forEach(function(S){o.definitions[S]=qe(qe({},o.definitions[S]||{}),E[S]),uo(S,E[S]);var b=Di[Ct][S];b&&uo(b,E[S]),xf()})}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(o,c){var h=c.prefix&&c.iconName&&c.icon?{0:c}:c;return Object.keys(h).map(function(p){var E=h[p],S=E.prefix,b=E.iconName,k=E.icon,_=k[2];o[S]||(o[S]={}),_.length>0&&_.forEach(function(A){typeof A=="string"&&(o[S][A]=k)}),o[S][b]=k}),o}}]),e}(),Du=[],Nn={},Gn={},Em=Object.keys(Gn);function bm(e,r){var o=r.mixoutsTo;return Du=e,Nn={},Object.keys(Gn).forEach(function(c){Em.indexOf(c)===-1&&delete Gn[c]}),Du.forEach(function(c){var h=c.mixout?c.mixout():{};if(Object.keys(h).forEach(function(E){typeof h[E]=="function"&&(o[E]=h[E]),Ta(h[E])==="object"&&Object.keys(h[E]).forEach(function(S){o[E]||(o[E]={}),o[E][S]=h[E][S]})}),c.hooks){var p=c.hooks();Object.keys(p).forEach(function(E){Nn[E]||(Nn[E]=[]),Nn[E].push(p[E])})}c.provides&&c.provides(Gn)}),o}function co(e,r){for(var o=arguments.length,c=new Array(o>2?o-2:0),h=2;h<o;h++)c[h-2]=arguments[h];var p=Nn[e]||[];return p.forEach(function(E){r=E.apply(null,[r].concat(c))}),r}function Ln(e){for(var r=arguments.length,o=new Array(r>1?r-1:0),c=1;c<r;c++)o[c-1]=arguments[c];var h=Nn[e]||[];h.forEach(function(p){p.apply(null,o)})}function Wr(){var e=arguments[0],r=Array.prototype.slice.call(arguments,1);return Gn[e]?Gn[e].apply(null,r):void 0}function fo(e){e.prefix==="fa"&&(e.prefix="fas");var r=e.iconName,o=e.prefix||sn();if(r)return r=Tn(o,r)||r,wu(If.definitions,o,r)||wu(yr.styles,o,r)}var If=new ym,Tm=function(){Ze.autoReplaceSvg=!1,Ze.observeMutations=!1,Ln("noAuto")},Sm={i2svg:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return zr?(Ln("beforeI2svg",r),Wr("pseudoElements2svg",r),Wr("i2svg",r)):Promise.reject("Operation requires a DOM of some kind.")},watch:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o=r.autoReplaceSvgRoot;Ze.autoReplaceSvg===!1&&(Ze.autoReplaceSvg=!0),Ze.observeMutations=!0,om(function(){Am({autoReplaceSvgRoot:o}),Ln("watch",r)})}},_m={icon:function(r){if(r===null)return null;if(Ta(r)==="object"&&r.prefix&&r.iconName)return{prefix:r.prefix,iconName:Tn(r.prefix,r.iconName)||r.iconName};if(Array.isArray(r)&&r.length===2){var o=r[1].indexOf("fa-")===0?r[1].slice(3):r[1],c=Ha(r[0]);return{prefix:c,iconName:Tn(c,o)||o}}if(typeof r=="string"&&(r.indexOf("".concat(Ze.cssPrefix,"-"))>-1||r.match(Hv))){var h=Va(r.split(" "),{skipLookups:!0});return{prefix:h.prefix||sn(),iconName:Tn(h.prefix,h.iconName)||h.iconName}}if(typeof r=="string"){var p=sn();return{prefix:p,iconName:Tn(p,r)||r}}}},ur={noAuto:Tm,config:Ze,dom:Sm,parse:_m,library:If,findIconDefinition:fo,toHtml:Bi},Am=function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o=r.autoReplaceSvgRoot,c=o===void 0?Ot:o;(Object.keys(yr.styles).length>0||Ze.autoFetchSvg)&&zr&&Ze.autoReplaceSvg&&ur.dom.i2svg({node:c})};function Ya(e,r){return Object.defineProperty(e,"abstract",{get:r}),Object.defineProperty(e,"html",{get:function(){return e.abstract.map(function(c){return Bi(c)})}}),Object.defineProperty(e,"node",{get:function(){if(zr){var c=Ot.createElement("div");return c.innerHTML=e.html,c.children}}}),e}function km(e){var r=e.children,o=e.main,c=e.mask,h=e.attributes,p=e.styles,E=e.transform;if($o(E)&&o.found&&!c.found){var S=o.width,b=o.height,k={x:S/b/2,y:.5};h.style=Ga(qe(qe({},p),{},{"transform-origin":"".concat(k.x+E.x/16,"em ").concat(k.y+E.y/16,"em")}))}return[{tag:"svg",attributes:h,children:r}]}function Lm(e){var r=e.prefix,o=e.iconName,c=e.children,h=e.attributes,p=e.symbol,E=p===!0?"".concat(r,"-").concat(Ze.cssPrefix,"-").concat(o):p;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:qe(qe({},h),{},{id:E}),children:c}]}]}function Qo(e){var r=e.icons,o=r.main,c=r.mask,h=e.prefix,p=e.iconName,E=e.transform,S=e.symbol,b=e.title,k=e.maskId,_=e.titleId,A=e.extra,y=e.watchable,w=y===void 0?!1:y,P=c.found?c:o,oe=P.width,J=P.height,Y=h==="fak",$=[Ze.replacementClass,p?"".concat(Ze.cssPrefix,"-").concat(p):""].filter(function(we){return A.classes.indexOf(we)===-1}).filter(function(we){return we!==""||!!we}).concat(A.classes).join(" "),H={children:[],attributes:qe(qe({},A.attributes),{},{"data-prefix":h,"data-icon":p,class:$,role:A.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(oe," ").concat(J)})},ae=Y&&!~A.classes.indexOf("fa-fw")?{width:"".concat(oe/J*16*.0625,"em")}:{};w&&(H.attributes[kn]=""),b&&(H.children.push({tag:"title",attributes:{id:H.attributes["aria-labelledby"]||"title-".concat(_||Ci())},children:[b]}),delete H.attributes.title);var Z=qe(qe({},H),{},{prefix:h,iconName:p,main:o,mask:c,maskId:k,transform:E,symbol:S,styles:qe(qe({},ae),A.styles)}),re=c.found&&o.found?Wr("generateAbstractMask",Z)||{children:[],attributes:{}}:Wr("generateAbstractIcon",Z)||{children:[],attributes:{}},ee=re.children,ke=re.attributes;return Z.children=ee,Z.attributes=ke,S?Lm(Z):km(Z)}function Iu(e){var r=e.content,o=e.width,c=e.height,h=e.transform,p=e.title,E=e.extra,S=e.watchable,b=S===void 0?!1:S,k=qe(qe(qe({},E.attributes),p?{title:p}:{}),{},{class:E.classes.join(" ")});b&&(k[kn]="");var _=qe({},E.styles);$o(h)&&(_.transform=nm({transform:h,startCentered:!0,width:o,height:c}),_["-webkit-transform"]=_.transform);var A=Ga(_);A.length>0&&(k.style=A);var y=[];return y.push({tag:"span",attributes:k,children:[r]}),p&&y.push({tag:"span",attributes:{class:"sr-only"},children:[p]}),y}function wm(e){var r=e.content,o=e.title,c=e.extra,h=qe(qe(qe({},c.attributes),o?{title:o}:{}),{},{class:c.classes.join(" ")}),p=Ga(c.styles);p.length>0&&(h.style=p);var E=[];return E.push({tag:"span",attributes:h,children:[r]}),o&&E.push({tag:"span",attributes:{class:"sr-only"},children:[o]}),E}var js=yr.styles;function ho(e){var r=e[0],o=e[1],c=e.slice(4),h=jo(c,1),p=h[0],E=null;return Array.isArray(p)?E={tag:"g",attributes:{class:"".concat(Ze.cssPrefix,"-").concat(bn.GROUP)},children:[{tag:"path",attributes:{class:"".concat(Ze.cssPrefix,"-").concat(bn.SECONDARY),fill:"currentColor",d:p[0]}},{tag:"path",attributes:{class:"".concat(Ze.cssPrefix,"-").concat(bn.PRIMARY),fill:"currentColor",d:p[1]}}]}:E={tag:"path",attributes:{fill:"currentColor",d:p}},{found:!0,width:r,height:o,icon:E}}var Rm={found:!1,width:512,height:512};function xm(e,r){!pf&&!Ze.showMissingIcons&&e&&console.error('Icon with name "'.concat(e,'" and prefix "').concat(r,'" is missing.'))}function go(e,r){var o=r;return r==="fa"&&Ze.styleDefault!==null&&(r=sn()),new Promise(function(c,h){if(Wr("missingIconAbstract"),o==="fa"){var p=Df(e)||{};e=p.iconName||e,r=p.prefix||r}if(e&&r&&js[r]&&js[r][e]){var E=js[r][e];return c(ho(E))}xm(e,r),c(qe(qe({},Rm),{},{icon:Ze.showMissingIcons&&e?Wr("missingIconAbstract")||{}:{}}))})}var Cu=function(){},vo=Ze.measurePerformance&&ta&&ta.mark&&ta.measure?ta:{mark:Cu,measure:Cu},hi='FA "6.3.0"',Dm=function(r){return vo.mark("".concat(hi," ").concat(r," begins")),function(){return Cf(r)}},Cf=function(r){vo.mark("".concat(hi," ").concat(r," ends")),vo.measure("".concat(hi," ").concat(r),"".concat(hi," ").concat(r," begins"),"".concat(hi," ").concat(r," ends"))},Jo={begin:Dm,end:Cf},va=function(){};function Ou(e){var r=e.getAttribute?e.getAttribute(kn):null;return typeof r=="string"}function Im(e){var r=e.getAttribute?e.getAttribute(Ho):null,o=e.getAttribute?e.getAttribute(Vo):null;return r&&o}function Cm(e){return e&&e.classList&&e.classList.contains&&e.classList.contains(Ze.replacementClass)}function Om(){if(Ze.autoReplaceSvg===!0)return ma.replace;var e=ma[Ze.autoReplaceSvg];return e||ma.replace}function Pm(e){return Ot.createElementNS("http://www.w3.org/2000/svg",e)}function Fm(e){return Ot.createElement(e)}function Of(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=r.ceFn,c=o===void 0?e.tag==="svg"?Pm:Fm:o;if(typeof e=="string")return Ot.createTextNode(e);var h=c(e.tag);Object.keys(e.attributes||[]).forEach(function(E){h.setAttribute(E,e.attributes[E])});var p=e.children||[];return p.forEach(function(E){h.appendChild(Of(E,{ceFn:c}))}),h}function Mm(e){var r=" ".concat(e.outerHTML," ");return r="".concat(r,"Font Awesome fontawesome.com "),r}var ma={replace:function(r){var o=r[0];if(o.parentNode)if(r[1].forEach(function(h){o.parentNode.insertBefore(Of(h),o)}),o.getAttribute(kn)===null&&Ze.keepOriginalSource){var c=Ot.createComment(Mm(o));o.parentNode.replaceChild(c,o)}else o.remove()},nest:function(r){var o=r[0],c=r[1];if(~Wo(o).indexOf(Ze.replacementClass))return ma.replace(r);var h=new RegExp("".concat(Ze.cssPrefix,"-.*"));if(delete c[0].attributes.id,c[0].attributes.class){var p=c[0].attributes.class.split(" ").reduce(function(S,b){return b===Ze.replacementClass||b.match(h)?S.toSvg.push(b):S.toNode.push(b),S},{toNode:[],toSvg:[]});c[0].attributes.class=p.toSvg.join(" "),p.toNode.length===0?o.removeAttribute("class"):o.setAttribute("class",p.toNode.join(" "))}var E=c.map(function(S){return Bi(S)}).join(`
`);o.setAttribute(kn,""),o.innerHTML=E}};function Pu(e){e()}function Pf(e,r){var o=typeof r=="function"?r:va;if(e.length===0)o();else{var c=Pu;Ze.mutateApproach===Kv&&(c=an.requestAnimationFrame||Pu),c(function(){var h=Om(),p=Jo.begin("mutate");e.map(h),p(),o()})}}var Zo=!1;function Ff(){Zo=!0}function mo(){Zo=!1}var _a=null;function Fu(e){if(Au&&Ze.observeMutations){var r=e.treeCallback,o=r===void 0?va:r,c=e.nodeCallback,h=c===void 0?va:c,p=e.pseudoElementsCallback,E=p===void 0?va:p,S=e.observeMutationsRoot,b=S===void 0?Ot:S;_a=new Au(function(k){if(!Zo){var _=sn();ti(k).forEach(function(A){if(A.type==="childList"&&A.addedNodes.length>0&&!Ou(A.addedNodes[0])&&(Ze.searchPseudoElements&&E(A.target),o(A.target)),A.type==="attributes"&&A.target.parentNode&&Ze.searchPseudoElements&&E(A.target.parentNode),A.type==="attributes"&&Ou(A.target)&&~$v.indexOf(A.attributeName))if(A.attributeName==="class"&&Im(A.target)){var y=Va(Wo(A.target)),w=y.prefix,P=y.iconName;A.target.setAttribute(Ho,w||_),P&&A.target.setAttribute(Vo,P)}else Cm(A.target)&&h(A.target)})}}),zr&&_a.observe(b,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}}function Nm(){_a&&_a.disconnect()}function Um(e){var r=e.getAttribute("style"),o=[];return r&&(o=r.split(";").reduce(function(c,h){var p=h.split(":"),E=p[0],S=p.slice(1);return E&&S.length>0&&(c[E]=S.join(":").trim()),c},{})),o}function Bm(e){var r=e.getAttribute("data-prefix"),o=e.getAttribute("data-icon"),c=e.innerText!==void 0?e.innerText.trim():"",h=Va(Wo(e));return h.prefix||(h.prefix=sn()),r&&o&&(h.prefix=r,h.iconName=o),h.iconName&&h.prefix||(h.prefix&&c.length>0&&(h.iconName=mm(h.prefix,e.innerText)||qo(h.prefix,lo(e.innerText))),!h.iconName&&Ze.autoFetchSvg&&e.firstChild&&e.firstChild.nodeType===Node.TEXT_NODE&&(h.iconName=e.firstChild.data)),h}function Km(e){var r=ti(e.attributes).reduce(function(h,p){return h.name!=="class"&&h.name!=="style"&&(h[p.name]=p.value),h},{}),o=e.getAttribute("title"),c=e.getAttribute("data-fa-title-id");return Ze.autoA11y&&(o?r["aria-labelledby"]="".concat(Ze.replacementClass,"-title-").concat(c||Ci()):(r["aria-hidden"]="true",r.focusable="false")),r}function jm(){return{iconName:null,title:null,titleId:null,prefix:null,transform:xr,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}function Mu(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{styleParser:!0},o=Bm(e),c=o.iconName,h=o.prefix,p=o.rest,E=Km(e),S=co("parseNodeAttributes",{},e),b=r.styleParser?Um(e):[];return qe({iconName:c,title:e.getAttribute("title"),titleId:e.getAttribute("data-fa-title-id"),prefix:h,transform:xr,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:p,styles:b,attributes:E}},S)}var Gm=yr.styles;function Mf(e){var r=Ze.autoReplaceSvg==="nest"?Mu(e,{styleParser:!1}):Mu(e);return~r.extra.classes.indexOf(yf)?Wr("generateLayersText",e,r):Wr("generateSvgReplacementMutation",e,r)}var on=new Set;Yo.map(function(e){on.add("fa-".concat(e))});Object.keys(Ri[Ct]).map(on.add.bind(on));Object.keys(Ri[Bt]).map(on.add.bind(on));on=Ni(on);function Nu(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!zr)return Promise.resolve();var o=Ot.documentElement.classList,c=function(A){return o.add("".concat(ku,"-").concat(A))},h=function(A){return o.remove("".concat(ku,"-").concat(A))},p=Ze.autoFetchSvg?on:Yo.map(function(_){return"fa-".concat(_)}).concat(Object.keys(Gm));p.includes("fa")||p.push("fa");var E=[".".concat(yf,":not([").concat(kn,"])")].concat(p.map(function(_){return".".concat(_,":not([").concat(kn,"])")})).join(", ");if(E.length===0)return Promise.resolve();var S=[];try{S=ti(e.querySelectorAll(E))}catch{}if(S.length>0)c("pending"),h("complete");else return Promise.resolve();var b=Jo.begin("onTree"),k=S.reduce(function(_,A){try{var y=Mf(A);y&&_.push(y)}catch(w){pf||w.name==="MissingIcon"&&console.error(w)}return _},[]);return new Promise(function(_,A){Promise.all(k).then(function(y){Pf(y,function(){c("active"),c("complete"),h("pending"),typeof r=="function"&&r(),b(),_()})}).catch(function(y){b(),A(y)})})}function Hm(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;Mf(e).then(function(o){o&&Pf([o],r)})}function Vm(e){return function(r){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},c=(r||{}).icon?r:fo(r||{}),h=o.mask;return h&&(h=(h||{}).icon?h:fo(h||{})),e(c,qe(qe({},o),{},{mask:h}))}}var Ym=function(r){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},c=o.transform,h=c===void 0?xr:c,p=o.symbol,E=p===void 0?!1:p,S=o.mask,b=S===void 0?null:S,k=o.maskId,_=k===void 0?null:k,A=o.title,y=A===void 0?null:A,w=o.titleId,P=w===void 0?null:w,oe=o.classes,J=oe===void 0?[]:oe,Y=o.attributes,$=Y===void 0?{}:Y,H=o.styles,ae=H===void 0?{}:H;if(r){var Z=r.prefix,re=r.iconName,ee=r.icon;return Ya(qe({type:"icon"},r),function(){return Ln("beforeDOMElementCreation",{iconDefinition:r,params:o}),Ze.autoA11y&&(y?$["aria-labelledby"]="".concat(Ze.replacementClass,"-title-").concat(P||Ci()):($["aria-hidden"]="true",$.focusable="false")),Qo({icons:{main:ho(ee),mask:b?ho(b.icon):{found:!1,width:null,height:null,icon:{}}},prefix:Z,iconName:re,transform:qe(qe({},xr),h),symbol:E,title:y,maskId:_,titleId:P,extra:{attributes:$,styles:ae,classes:J}})})}},Wm={mixout:function(){return{icon:Vm(Ym)}},hooks:function(){return{mutationObserverCallbacks:function(o){return o.treeCallback=Nu,o.nodeCallback=Hm,o}}},provides:function(r){r.i2svg=function(o){var c=o.node,h=c===void 0?Ot:c,p=o.callback,E=p===void 0?function(){}:p;return Nu(h,E)},r.generateSvgReplacementMutation=function(o,c){var h=c.iconName,p=c.title,E=c.titleId,S=c.prefix,b=c.transform,k=c.symbol,_=c.mask,A=c.maskId,y=c.extra;return new Promise(function(w,P){Promise.all([go(h,S),_.iconName?go(_.iconName,_.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(function(oe){var J=jo(oe,2),Y=J[0],$=J[1];w([o,Qo({icons:{main:Y,mask:$},prefix:S,iconName:h,transform:b,symbol:k,maskId:A,title:p,titleId:E,extra:y,watchable:!0})])}).catch(P)})},r.generateAbstractIcon=function(o){var c=o.children,h=o.attributes,p=o.main,E=o.transform,S=o.styles,b=Ga(S);b.length>0&&(h.style=b);var k;return $o(E)&&(k=Wr("generateAbstractTransformGrouping",{main:p,transform:E,containerWidth:p.width,iconWidth:p.width})),c.push(k||p.icon),{children:c,attributes:h}}}},$m={mixout:function(){return{layer:function(o){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},h=c.classes,p=h===void 0?[]:h;return Ya({type:"layer"},function(){Ln("beforeDOMElementCreation",{assembler:o,params:c});var E=[];return o(function(S){Array.isArray(S)?S.map(function(b){E=E.concat(b.abstract)}):E=E.concat(S.abstract)}),[{tag:"span",attributes:{class:["".concat(Ze.cssPrefix,"-layers")].concat(Ni(p)).join(" ")},children:E}]})}}}},zm={mixout:function(){return{counter:function(o){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},h=c.title,p=h===void 0?null:h,E=c.classes,S=E===void 0?[]:E,b=c.attributes,k=b===void 0?{}:b,_=c.styles,A=_===void 0?{}:_;return Ya({type:"counter",content:o},function(){return Ln("beforeDOMElementCreation",{content:o,params:c}),wm({content:o.toString(),title:p,extra:{attributes:k,styles:A,classes:["".concat(Ze.cssPrefix,"-layers-counter")].concat(Ni(S))}})})}}}},qm={mixout:function(){return{text:function(o){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},h=c.transform,p=h===void 0?xr:h,E=c.title,S=E===void 0?null:E,b=c.classes,k=b===void 0?[]:b,_=c.attributes,A=_===void 0?{}:_,y=c.styles,w=y===void 0?{}:y;return Ya({type:"text",content:o},function(){return Ln("beforeDOMElementCreation",{content:o,params:c}),Iu({content:o,transform:qe(qe({},xr),p),title:S,extra:{attributes:A,styles:w,classes:["".concat(Ze.cssPrefix,"-layers-text")].concat(Ni(k))}})})}}},provides:function(r){r.generateLayersText=function(o,c){var h=c.title,p=c.transform,E=c.extra,S=null,b=null;if(gf){var k=parseInt(getComputedStyle(o).fontSize,10),_=o.getBoundingClientRect();S=_.width/k,b=_.height/k}return Ze.autoA11y&&!h&&(E.attributes["aria-hidden"]="true"),Promise.resolve([o,Iu({content:o.innerHTML,width:S,height:b,transform:p,title:h,extra:E,watchable:!0})])}}},Xm=new RegExp('"',"ug"),Uu=[1105920,1112319];function Qm(e){var r=e.replace(Xm,""),o=cm(r,0),c=o>=Uu[0]&&o<=Uu[1],h=r.length===2?r[0]===r[1]:!1;return{value:lo(h?r[0]:r),isSecondary:c||h}}function Bu(e,r){var o="".concat(Bv).concat(r.replace(":","-"));return new Promise(function(c,h){if(e.getAttribute(o)!==null)return c();var p=ti(e.children),E=p.filter(function(ee){return ee.getAttribute(oo)===r})[0],S=an.getComputedStyle(e,r),b=S.getPropertyValue("font-family").match(Vv),k=S.getPropertyValue("font-weight"),_=S.getPropertyValue("content");if(E&&!b)return e.removeChild(E),c();if(b&&_!=="none"&&_!==""){var A=S.getPropertyValue("content"),y=~["Sharp"].indexOf(b[2])?Bt:Ct,w=~["Solid","Regular","Light","Thin","Duotone","Brands","Kit"].indexOf(b[2])?xi[y][b[2].toLowerCase()]:Yv[y][k],P=Qm(A),oe=P.value,J=P.isSecondary,Y=b[0].startsWith("FontAwesome"),$=qo(w,oe),H=$;if(Y){var ae=pm(oe);ae.iconName&&ae.prefix&&($=ae.iconName,w=ae.prefix)}if($&&!J&&(!E||E.getAttribute(Ho)!==w||E.getAttribute(Vo)!==H)){e.setAttribute(o,H),E&&e.removeChild(E);var Z=jm(),re=Z.extra;re.attributes[oo]=r,go($,w).then(function(ee){var ke=Qo(qe(qe({},Z),{},{icons:{main:ee,mask:Xo()},prefix:w,iconName:H,extra:re,watchable:!0})),we=Ot.createElement("svg");r==="::before"?e.insertBefore(we,e.firstChild):e.appendChild(we),we.outerHTML=ke.map(function(Ye){return Bi(Ye)}).join(`
`),e.removeAttribute(o),c()}).catch(h)}else c()}else c()})}function Jm(e){return Promise.all([Bu(e,"::before"),Bu(e,"::after")])}function Zm(e){return e.parentNode!==document.head&&!~jv.indexOf(e.tagName.toUpperCase())&&!e.getAttribute(oo)&&(!e.parentNode||e.parentNode.tagName!=="svg")}function Ku(e){if(zr)return new Promise(function(r,o){var c=ti(e.querySelectorAll("*")).filter(Zm).map(Jm),h=Jo.begin("searchPseudoElements");Ff(),Promise.all(c).then(function(){h(),mo(),r()}).catch(function(){h(),mo(),o()})})}var ep={hooks:function(){return{mutationObserverCallbacks:function(o){return o.pseudoElementsCallback=Ku,o}}},provides:function(r){r.pseudoElements2svg=function(o){var c=o.node,h=c===void 0?Ot:c;Ze.searchPseudoElements&&Ku(h)}}},ju=!1,tp={mixout:function(){return{dom:{unwatch:function(){Ff(),ju=!0}}}},hooks:function(){return{bootstrap:function(){Fu(co("mutationObserverCallbacks",{}))},noAuto:function(){Nm()},watch:function(o){var c=o.observeMutationsRoot;ju?mo():Fu(co("mutationObserverCallbacks",{observeMutationsRoot:c}))}}}},Gu=function(r){var o={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return r.toLowerCase().split(" ").reduce(function(c,h){var p=h.toLowerCase().split("-"),E=p[0],S=p.slice(1).join("-");if(E&&S==="h")return c.flipX=!0,c;if(E&&S==="v")return c.flipY=!0,c;if(S=parseFloat(S),isNaN(S))return c;switch(E){case"grow":c.size=c.size+S;break;case"shrink":c.size=c.size-S;break;case"left":c.x=c.x-S;break;case"right":c.x=c.x+S;break;case"up":c.y=c.y-S;break;case"down":c.y=c.y+S;break;case"rotate":c.rotate=c.rotate+S;break}return c},o)},rp={mixout:function(){return{parse:{transform:function(o){return Gu(o)}}}},hooks:function(){return{parseNodeAttributes:function(o,c){var h=c.getAttribute("data-fa-transform");return h&&(o.transform=Gu(h)),o}}},provides:function(r){r.generateAbstractTransformGrouping=function(o){var c=o.main,h=o.transform,p=o.containerWidth,E=o.iconWidth,S={transform:"translate(".concat(p/2," 256)")},b="translate(".concat(h.x*32,", ").concat(h.y*32,") "),k="scale(".concat(h.size/16*(h.flipX?-1:1),", ").concat(h.size/16*(h.flipY?-1:1),") "),_="rotate(".concat(h.rotate," 0 0)"),A={transform:"".concat(b," ").concat(k," ").concat(_)},y={transform:"translate(".concat(E/2*-1," -256)")},w={outer:S,inner:A,path:y};return{tag:"g",attributes:qe({},w.outer),children:[{tag:"g",attributes:qe({},w.inner),children:[{tag:c.icon.tag,children:c.icon.children,attributes:qe(qe({},c.icon.attributes),w.path)}]}]}}}},Gs={x:0,y:0,width:"100%",height:"100%"};function Hu(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return e.attributes&&(e.attributes.fill||r)&&(e.attributes.fill="black"),e}function np(e){return e.tag==="g"?e.children:[e]}var ip={hooks:function(){return{parseNodeAttributes:function(o,c){var h=c.getAttribute("data-fa-mask"),p=h?Va(h.split(" ").map(function(E){return E.trim()})):Xo();return p.prefix||(p.prefix=sn()),o.mask=p,o.maskId=c.getAttribute("data-fa-mask-id"),o}}},provides:function(r){r.generateAbstractMask=function(o){var c=o.children,h=o.attributes,p=o.main,E=o.mask,S=o.maskId,b=o.transform,k=p.width,_=p.icon,A=E.width,y=E.icon,w=rm({transform:b,containerWidth:A,iconWidth:k}),P={tag:"rect",attributes:qe(qe({},Gs),{},{fill:"white"})},oe=_.children?{children:_.children.map(Hu)}:{},J={tag:"g",attributes:qe({},w.inner),children:[Hu(qe({tag:_.tag,attributes:qe(qe({},_.attributes),w.path)},oe))]},Y={tag:"g",attributes:qe({},w.outer),children:[J]},$="mask-".concat(S||Ci()),H="clip-".concat(S||Ci()),ae={tag:"mask",attributes:qe(qe({},Gs),{},{id:$,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[P,Y]},Z={tag:"defs",children:[{tag:"clipPath",attributes:{id:H},children:np(y)},ae]};return c.push(Z,{tag:"rect",attributes:qe({fill:"currentColor","clip-path":"url(#".concat(H,")"),mask:"url(#".concat($,")")},Gs)}),{children:c,attributes:h}}}},ap={provides:function(r){var o=!1;an.matchMedia&&(o=an.matchMedia("(prefers-reduced-motion: reduce)").matches),r.missingIconAbstract=function(){var c=[],h={fill:"currentColor"},p={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};c.push({tag:"path",attributes:qe(qe({},h),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});var E=qe(qe({},p),{},{attributeName:"opacity"}),S={tag:"circle",attributes:qe(qe({},h),{},{cx:"256",cy:"364",r:"28"}),children:[]};return o||S.children.push({tag:"animate",attributes:qe(qe({},p),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:qe(qe({},E),{},{values:"1;0;1;1;0;1;"})}),c.push(S),c.push({tag:"path",attributes:qe(qe({},h),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:o?[]:[{tag:"animate",attributes:qe(qe({},E),{},{values:"1;0;0;0;0;1;"})}]}),o||c.push({tag:"path",attributes:qe(qe({},h),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:qe(qe({},E),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:c}}}},sp={hooks:function(){return{parseNodeAttributes:function(o,c){var h=c.getAttribute("data-fa-symbol"),p=h===null?!1:h===""?!0:h;return o.symbol=p,o}}}},op=[am,Wm,$m,zm,qm,ep,tp,rp,ip,ap,sp];bm(op,{mixoutsTo:ur});ur.noAuto;var Nf=ur.config,lp=ur.library;ur.dom;var Aa=ur.parse;ur.findIconDefinition;ur.toHtml;var up=ur.icon;ur.layer;var cp=ur.text;ur.counter;function Vu(e,r){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);r&&(c=c.filter(function(h){return Object.getOwnPropertyDescriptor(e,h).enumerable})),o.push.apply(o,c)}return o}function vr(e){for(var r=1;r<arguments.length;r++){var o=arguments[r]!=null?arguments[r]:{};r%2?Vu(Object(o),!0).forEach(function(c){ir(e,c,o[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):Vu(Object(o)).forEach(function(c){Object.defineProperty(e,c,Object.getOwnPropertyDescriptor(o,c))})}return e}function ka(e){return ka=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},ka(e)}function ir(e,r,o){return r in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o,e}function fp(e,r){if(e==null)return{};var o={},c=Object.keys(e),h,p;for(p=0;p<c.length;p++)h=c[p],!(r.indexOf(h)>=0)&&(o[h]=e[h]);return o}function dp(e,r){if(e==null)return{};var o=fp(e,r),c,h;if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(e);for(h=0;h<p.length;h++)c=p[h],!(r.indexOf(c)>=0)&&Object.prototype.propertyIsEnumerable.call(e,c)&&(o[c]=e[c])}return o}function po(e){return hp(e)||gp(e)||vp(e)||mp()}function hp(e){if(Array.isArray(e))return yo(e)}function gp(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function vp(e,r){if(e){if(typeof e=="string")return yo(e,r);var o=Object.prototype.toString.call(e).slice(8,-1);if(o==="Object"&&e.constructor&&(o=e.constructor.name),o==="Map"||o==="Set")return Array.from(e);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return yo(e,r)}}function yo(e,r){(r==null||r>e.length)&&(r=e.length);for(var o=0,c=new Array(r);o<r;o++)c[o]=e[o];return c}function mp(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var pp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Uf={exports:{}};(function(e){(function(r){var o=function(Y,$,H){if(!k($)||A($)||y($)||w($)||b($))return $;var ae,Z=0,re=0;if(_($))for(ae=[],re=$.length;Z<re;Z++)ae.push(o(Y,$[Z],H));else{ae={};for(var ee in $)Object.prototype.hasOwnProperty.call($,ee)&&(ae[Y(ee,H)]=o(Y,$[ee],H))}return ae},c=function(Y,$){$=$||{};var H=$.separator||"_",ae=$.split||/(?=[A-Z])/;return Y.split(ae).join(H)},h=function(Y){return P(Y)?Y:(Y=Y.replace(/[\-_\s]+(.)?/g,function($,H){return H?H.toUpperCase():""}),Y.substr(0,1).toLowerCase()+Y.substr(1))},p=function(Y){var $=h(Y);return $.substr(0,1).toUpperCase()+$.substr(1)},E=function(Y,$){return c(Y,$).toLowerCase()},S=Object.prototype.toString,b=function(Y){return typeof Y=="function"},k=function(Y){return Y===Object(Y)},_=function(Y){return S.call(Y)=="[object Array]"},A=function(Y){return S.call(Y)=="[object Date]"},y=function(Y){return S.call(Y)=="[object RegExp]"},w=function(Y){return S.call(Y)=="[object Boolean]"},P=function(Y){return Y=Y-0,Y===Y},oe=function(Y,$){var H=$&&"process"in $?$.process:$;return typeof H!="function"?Y:function(ae,Z){return H(ae,Y,Z)}},J={camelize:h,decamelize:E,pascalize:p,depascalize:E,camelizeKeys:function(Y,$){return o(oe(h,$),Y)},decamelizeKeys:function(Y,$){return o(oe(E,$),Y,$)},pascalizeKeys:function(Y,$){return o(oe(p,$),Y)},depascalizeKeys:function(){return this.decamelizeKeys.apply(this,arguments)}};e.exports?e.exports=J:r.humps=J})(pp)})(Uf);var yp=Uf.exports,Ep=["class","style"];function bp(e){return e.split(";").map(function(r){return r.trim()}).filter(function(r){return r}).reduce(function(r,o){var c=o.indexOf(":"),h=yp.camelize(o.slice(0,c)),p=o.slice(c+1).trim();return r[h]=p,r},{})}function Tp(e){return e.split(/\s+/).reduce(function(r,o){return r[o]=!0,r},{})}function el(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof e=="string")return e;var c=(e.children||[]).map(function(b){return el(b)}),h=Object.keys(e.attributes||{}).reduce(function(b,k){var _=e.attributes[k];switch(k){case"class":b.class=Tp(_);break;case"style":b.style=bp(_);break;default:b.attrs[k]=_}return b},{attrs:{},class:{},style:{}});o.class;var p=o.style,E=p===void 0?{}:p,S=dp(o,Ep);return ja(e.tag,vr(vr(vr({},r),{},{class:h.class,style:vr(vr({},h.style),E)},h.attrs),S),c)}var Bf=!1;try{Bf=!0}catch{}function Sp(){if(!Bf&&console&&typeof console.error=="function"){var e;(e=console).error.apply(e,arguments)}}function Ei(e,r){return Array.isArray(r)&&r.length>0||!Array.isArray(r)&&r?ir({},e,r):{}}function _p(e){var r,o=(r={"fa-spin":e.spin,"fa-pulse":e.pulse,"fa-fw":e.fixedWidth,"fa-border":e.border,"fa-li":e.listItem,"fa-inverse":e.inverse,"fa-flip":e.flip===!0,"fa-flip-horizontal":e.flip==="horizontal"||e.flip==="both","fa-flip-vertical":e.flip==="vertical"||e.flip==="both"},ir(r,"fa-".concat(e.size),e.size!==null),ir(r,"fa-rotate-".concat(e.rotation),e.rotation!==null),ir(r,"fa-pull-".concat(e.pull),e.pull!==null),ir(r,"fa-swap-opacity",e.swapOpacity),ir(r,"fa-bounce",e.bounce),ir(r,"fa-shake",e.shake),ir(r,"fa-beat",e.beat),ir(r,"fa-fade",e.fade),ir(r,"fa-beat-fade",e.beatFade),ir(r,"fa-flash",e.flash),ir(r,"fa-spin-pulse",e.spinPulse),ir(r,"fa-spin-reverse",e.spinReverse),r);return Object.keys(o).map(function(c){return o[c]?c:null}).filter(function(c){return c})}function Yu(e){if(e&&ka(e)==="object"&&e.prefix&&e.iconName&&e.icon)return e;if(Aa.icon)return Aa.icon(e);if(e===null)return null;if(ka(e)==="object"&&e.prefix&&e.iconName)return e;if(Array.isArray(e)&&e.length===2)return{prefix:e[0],iconName:e[1]};if(typeof e=="string")return{prefix:"fas",iconName:e}}var Ap=Fi({name:"FontAwesomeIcon",props:{border:{type:Boolean,default:!1},fixedWidth:{type:Boolean,default:!1},flip:{type:[Boolean,String],default:!1,validator:function(r){return[!0,!1,"horizontal","vertical","both"].indexOf(r)>-1}},icon:{type:[Object,Array,String],required:!0},mask:{type:[Object,Array,String],default:null},listItem:{type:Boolean,default:!1},pull:{type:String,default:null,validator:function(r){return["right","left"].indexOf(r)>-1}},pulse:{type:Boolean,default:!1},rotation:{type:[String,Number],default:null,validator:function(r){return[90,180,270].indexOf(Number.parseInt(r,10))>-1}},swapOpacity:{type:Boolean,default:!1},size:{type:String,default:null,validator:function(r){return["2xs","xs","sm","lg","xl","2xl","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"].indexOf(r)>-1}},spin:{type:Boolean,default:!1},transform:{type:[String,Object],default:null},symbol:{type:[Boolean,String],default:!1},title:{type:String,default:null},inverse:{type:Boolean,default:!1},bounce:{type:Boolean,default:!1},shake:{type:Boolean,default:!1},beat:{type:Boolean,default:!1},fade:{type:Boolean,default:!1},beatFade:{type:Boolean,default:!1},flash:{type:Boolean,default:!1},spinPulse:{type:Boolean,default:!1},spinReverse:{type:Boolean,default:!1}},setup:function(r,o){var c=o.attrs,h=Lt(function(){return Yu(r.icon)}),p=Lt(function(){return Ei("classes",_p(r))}),E=Lt(function(){return Ei("transform",typeof r.transform=="string"?Aa.transform(r.transform):r.transform)}),S=Lt(function(){return Ei("mask",Yu(r.mask))}),b=Lt(function(){return up(h.value,vr(vr(vr(vr({},p.value),E.value),S.value),{},{symbol:r.symbol,title:r.title}))});gi(b,function(_){if(!_)return Sp("Could not find one or more icon(s)",h.value,S.value)},{immediate:!0});var k=Lt(function(){return b.value?el(b.value.abstract[0],{},c):null});return function(){return k.value}}});Fi({name:"FontAwesomeLayers",props:{fixedWidth:{type:Boolean,default:!1}},setup:function(r,o){var c=o.slots,h=Nf.familyPrefix,p=Lt(function(){return["".concat(h,"-layers")].concat(po(r.fixedWidth?["".concat(h,"-fw")]:[]))});return function(){return ja("div",{class:p.value},c.default?c.default():[])}}});Fi({name:"FontAwesomeLayersText",props:{value:{type:[String,Number],default:""},transform:{type:[String,Object],default:null},counter:{type:Boolean,default:!1},position:{type:String,default:null,validator:function(r){return["bottom-left","bottom-right","top-left","top-right"].indexOf(r)>-1}}},setup:function(r,o){var c=o.attrs,h=Nf.familyPrefix,p=Lt(function(){return Ei("classes",[].concat(po(r.counter?["".concat(h,"-layers-counter")]:[]),po(r.position?["".concat(h,"-layers-").concat(r.position)]:[])))}),E=Lt(function(){return Ei("transform",typeof r.transform=="string"?Aa.transform(r.transform):r.transform)}),S=Lt(function(){var k=cp(r.value.toString(),vr(vr({},E.value),p.value)),_=k.abstract;return r.counter&&(_[0].attributes.class=_[0].attributes.class.replace("fa-layers-text","")),_[0]}),b=Lt(function(){return el(S.value,{},c)});return function(){return b.value}}});var kp={prefix:"fas",iconName:"star",icon:[576,512,[11088,61446],"f005","M316.9 18C311.6 7 300.4 0 288.1 0s-23.4 7-28.8 18L195 150.3 51.4 171.5c-12 1.8-22 10.2-25.7 21.7s-.7 24.2 7.9 32.7L137.8 329 113.2 474.7c-2 12 3 24.2 12.9 31.3s23 8 33.8 2.3l128.3-68.5 128.3 68.5c10.8 5.7 23.9 4.9 33.8-2.3s14.9-19.3 12.9-31.3L438.5 329 542.7 225.9c8.6-8.5 11.7-21.2 7.9-32.7s-13.7-19.9-25.7-21.7L381.2 150.3 316.9 18z"]},Lp={prefix:"fas",iconName:"star-half-stroke",icon:[576,512,["star-half-alt"],"f5c0","M288 376.4l.1-.1 26.4 14.1 85.2 45.5-16.5-97.6-4.8-28.7 20.7-20.5 70.1-69.3-96.1-14.2-29.3-4.3-12.9-26.6L288.1 86.9l-.1 .3V376.4zm175.1 98.3c2 12-3 24.2-12.9 31.3s-23 8-33.8 2.3L288.1 439.8 159.8 508.3C149 514 135.9 513.1 126 506s-14.9-19.3-12.9-31.3L137.8 329 33.6 225.9c-8.6-8.5-11.7-21.2-7.9-32.7s13.7-19.9 25.7-21.7L195 150.3 259.4 18c5.4-11 16.5-18 28.8-18s23.4 7 28.8 18l64.3 132.3 143.6 21.2c12 1.8 22 10.2 25.7 21.7s.7 24.2-7.9 32.7L438.5 329l24.6 145.7z"]},wp={prefix:"fas",iconName:"arrow-right",icon:[448,512,[8594],"f061","M438.6 278.6c12.5-12.5 12.5-32.8 0-45.3l-160-160c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L338.8 224 32 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l306.7 0L233.4 393.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l160-160z"]},Rp={prefix:"fas",iconName:"arrow-left",icon:[448,512,[8592],"f060","M9.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.2 288 416 288c17.7 0 32-14.3 32-32s-14.3-32-32-32l-306.7 0L214.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z"]},xp={prefix:"far",iconName:"star",icon:[576,512,[11088,61446],"f005","M287.9 0C297.1 0 305.5 5.25 309.5 13.52L378.1 154.8L531.4 177.5C540.4 178.8 547.8 185.1 550.7 193.7C553.5 202.4 551.2 211.9 544.8 218.2L433.6 328.4L459.9 483.9C461.4 492.9 457.7 502.1 450.2 507.4C442.8 512.7 432.1 513.4 424.9 509.1L287.9 435.9L150.1 509.1C142.9 513.4 133.1 512.7 125.6 507.4C118.2 502.1 114.5 492.9 115.1 483.9L142.2 328.4L31.11 218.2C24.65 211.9 22.36 202.4 25.2 193.7C28.03 185.1 35.5 178.8 44.49 177.5L197.7 154.8L266.3 13.52C270.4 5.249 278.7 0 287.9 0L287.9 0zM287.9 78.95L235.4 187.2C231.9 194.3 225.1 199.3 217.3 200.5L98.98 217.9L184.9 303C190.4 308.5 192.9 316.4 191.6 324.1L171.4 443.7L276.6 387.5C283.7 383.7 292.2 383.7 299.2 387.5L404.4 443.7L384.2 324.1C382.9 316.4 385.5 308.5 391 303L476.9 217.9L358.6 200.5C350.7 199.3 343.9 194.3 340.5 187.2L287.9 78.95z"]},Dp={prefix:"far",iconName:"hourglass",icon:[384,512,[9203,62032,"hourglass-empty"],"f254","M24 0C10.7 0 0 10.7 0 24S10.7 48 24 48h8V67c0 40.3 16 79 44.5 107.5L158.1 256 76.5 337.5C48 366 32 404.7 32 445v19H24c-13.3 0-24 10.7-24 24s10.7 24 24 24H360c13.3 0 24-10.7 24-24s-10.7-24-24-24h-8V445c0-40.3-16-79-44.5-107.5L225.9 256l81.5-81.5C336 146 352 107.3 352 67V48h8c13.3 0 24-10.7 24-24s-10.7-24-24-24H24zM192 289.9l81.5 81.5C293 391 304 417.4 304 445v19H80V445c0-27.6 11-54 30.5-73.5L192 289.9zm0-67.9l-81.5-81.5C91 121 80 94.6 80 67V48H304V67c0 27.6-11 54-30.5 73.5L192 222.1z"]};const Cr=(e,r)=>{const o=e.__vccOpts||e;for(const[c,h]of r)o[c]=h;return o},Ip={};function Cp(e,r){const o=Vn("RouterView");return at(),Hr(o)}const Op=Cr(Ip,[["render",Cp]]);/*!
  * vue-router v4.1.6
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */const Fn=typeof window<"u";function Pp(e){return e.__esModule||e[Symbol.toStringTag]==="Module"}const Rt=Object.assign;function Hs(e,r){const o={};for(const c in r){const h=r[c];o[c]=Tr(h)?h.map(e):e(h)}return o}const bi=()=>{},Tr=Array.isArray,Fp=/\/$/,Mp=e=>e.replace(Fp,"");function Vs(e,r,o="/"){let c,h={},p="",E="";const S=r.indexOf("#");let b=r.indexOf("?");return S<b&&S>=0&&(b=-1),b>-1&&(c=r.slice(0,b),p=r.slice(b+1,S>-1?S:r.length),h=e(p)),S>-1&&(c=c||r.slice(0,S),E=r.slice(S,r.length)),c=Kp(c??r,o),{fullPath:c+(p&&"?")+p+E,path:c,query:h,hash:E}}function Np(e,r){const o=r.query?e(r.query):"";return r.path+(o&&"?")+o+(r.hash||"")}function Wu(e,r){return!r||!e.toLowerCase().startsWith(r.toLowerCase())?e:e.slice(r.length)||"/"}function Up(e,r,o){const c=r.matched.length-1,h=o.matched.length-1;return c>-1&&c===h&&zn(r.matched[c],o.matched[h])&&Kf(r.params,o.params)&&e(r.query)===e(o.query)&&r.hash===o.hash}function zn(e,r){return(e.aliasOf||e)===(r.aliasOf||r)}function Kf(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const o in e)if(!Bp(e[o],r[o]))return!1;return!0}function Bp(e,r){return Tr(e)?$u(e,r):Tr(r)?$u(r,e):e===r}function $u(e,r){return Tr(r)?e.length===r.length&&e.every((o,c)=>o===r[c]):e.length===1&&e[0]===r}function Kp(e,r){if(e.startsWith("/"))return e;if(!e)return r;const o=r.split("/"),c=e.split("/");let h=o.length-1,p,E;for(p=0;p<c.length;p++)if(E=c[p],E!==".")if(E==="..")h>1&&h--;else break;return o.slice(0,h).join("/")+"/"+c.slice(p-(p===c.length?1:0)).join("/")}var Oi;(function(e){e.pop="pop",e.push="push"})(Oi||(Oi={}));var Ti;(function(e){e.back="back",e.forward="forward",e.unknown=""})(Ti||(Ti={}));function jp(e){if(!e)if(Fn){const r=document.querySelector("base");e=r&&r.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),Mp(e)}const Gp=/^[^#]+#/;function Hp(e,r){return e.replace(Gp,"#")+r}function Vp(e,r){const o=document.documentElement.getBoundingClientRect(),c=e.getBoundingClientRect();return{behavior:r.behavior,left:c.left-o.left-(r.left||0),top:c.top-o.top-(r.top||0)}}const Wa=()=>({left:window.pageXOffset,top:window.pageYOffset});function Yp(e){let r;if("el"in e){const o=e.el,c=typeof o=="string"&&o.startsWith("#"),h=typeof o=="string"?c?document.getElementById(o.slice(1)):document.querySelector(o):o;if(!h)return;r=Vp(h,e)}else r=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(r):window.scrollTo(r.left!=null?r.left:window.pageXOffset,r.top!=null?r.top:window.pageYOffset)}function zu(e,r){return(history.state?history.state.position-r:-1)+e}const Eo=new Map;function Wp(e,r){Eo.set(e,r)}function $p(e){const r=Eo.get(e);return Eo.delete(e),r}let zp=()=>location.protocol+"//"+location.host;function jf(e,r){const{pathname:o,search:c,hash:h}=r,p=e.indexOf("#");if(p>-1){let S=h.includes(e.slice(p))?e.slice(p).length:1,b=h.slice(S);return b[0]!=="/"&&(b="/"+b),Wu(b,"")}return Wu(o,e)+c+h}function qp(e,r,o,c){let h=[],p=[],E=null;const S=({state:y})=>{const w=jf(e,location),P=o.value,oe=r.value;let J=0;if(y){if(o.value=w,r.value=y,E&&E===P){E=null;return}J=oe?y.position-oe.position:0}else c(w);h.forEach(Y=>{Y(o.value,P,{delta:J,type:Oi.pop,direction:J?J>0?Ti.forward:Ti.back:Ti.unknown})})};function b(){E=o.value}function k(y){h.push(y);const w=()=>{const P=h.indexOf(y);P>-1&&h.splice(P,1)};return p.push(w),w}function _(){const{history:y}=window;y.state&&y.replaceState(Rt({},y.state,{scroll:Wa()}),"")}function A(){for(const y of p)y();p=[],window.removeEventListener("popstate",S),window.removeEventListener("beforeunload",_)}return window.addEventListener("popstate",S),window.addEventListener("beforeunload",_),{pauseListeners:b,listen:k,destroy:A}}function qu(e,r,o,c=!1,h=!1){return{back:e,current:r,forward:o,replaced:c,position:window.history.length,scroll:h?Wa():null}}function Xp(e){const{history:r,location:o}=window,c={value:jf(e,o)},h={value:r.state};h.value||p(c.value,{back:null,current:c.value,forward:null,position:r.length-1,replaced:!0,scroll:null},!0);function p(b,k,_){const A=e.indexOf("#"),y=A>-1?(o.host&&document.querySelector("base")?e:e.slice(A))+b:zp()+e+b;try{r[_?"replaceState":"pushState"](k,"",y),h.value=k}catch(w){console.error(w),o[_?"replace":"assign"](y)}}function E(b,k){const _=Rt({},r.state,qu(h.value.back,b,h.value.forward,!0),k,{position:h.value.position});p(b,_,!0),c.value=b}function S(b,k){const _=Rt({},h.value,r.state,{forward:b,scroll:Wa()});p(_.current,_,!0);const A=Rt({},qu(c.value,b,null),{position:_.position+1},k);p(b,A,!1),c.value=b}return{location:c,state:h,push:S,replace:E}}function Qp(e){e=jp(e);const r=Xp(e),o=qp(e,r.state,r.location,r.replace);function c(p,E=!0){E||o.pauseListeners(),history.go(p)}const h=Rt({location:"",base:e,go:c,createHref:Hp.bind(null,e)},r,o);return Object.defineProperty(h,"location",{enumerable:!0,get:()=>r.location.value}),Object.defineProperty(h,"state",{enumerable:!0,get:()=>r.state.value}),h}function Jp(e){return typeof e=="string"||e&&typeof e=="object"}function Gf(e){return typeof e=="string"||typeof e=="symbol"}const Jr={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},Hf=Symbol("");var Xu;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(Xu||(Xu={}));function qn(e,r){return Rt(new Error,{type:e,[Hf]:!0},r)}function Kr(e,r){return e instanceof Error&&Hf in e&&(r==null||!!(e.type&r))}const Qu="[^/]+?",Zp={sensitive:!1,strict:!1,start:!0,end:!0},ey=/[.+*?^${}()[\]/\\]/g;function ty(e,r){const o=Rt({},Zp,r),c=[];let h=o.start?"^":"";const p=[];for(const k of e){const _=k.length?[]:[90];o.strict&&!k.length&&(h+="/");for(let A=0;A<k.length;A++){const y=k[A];let w=40+(o.sensitive?.25:0);if(y.type===0)A||(h+="/"),h+=y.value.replace(ey,"\\$&"),w+=40;else if(y.type===1){const{value:P,repeatable:oe,optional:J,regexp:Y}=y;p.push({name:P,repeatable:oe,optional:J});const $=Y||Qu;if($!==Qu){w+=10;try{new RegExp(`(${$})`)}catch(ae){throw new Error(`Invalid custom RegExp for param "${P}" (${$}): `+ae.message)}}let H=oe?`((?:${$})(?:/(?:${$}))*)`:`(${$})`;A||(H=J&&k.length<2?`(?:/${H})`:"/"+H),J&&(H+="?"),h+=H,w+=20,J&&(w+=-8),oe&&(w+=-20),$===".*"&&(w+=-50)}_.push(w)}c.push(_)}if(o.strict&&o.end){const k=c.length-1;c[k][c[k].length-1]+=.7000000000000001}o.strict||(h+="/?"),o.end?h+="$":o.strict&&(h+="(?:/|$)");const E=new RegExp(h,o.sensitive?"":"i");function S(k){const _=k.match(E),A={};if(!_)return null;for(let y=1;y<_.length;y++){const w=_[y]||"",P=p[y-1];A[P.name]=w&&P.repeatable?w.split("/"):w}return A}function b(k){let _="",A=!1;for(const y of e){(!A||!_.endsWith("/"))&&(_+="/"),A=!1;for(const w of y)if(w.type===0)_+=w.value;else if(w.type===1){const{value:P,repeatable:oe,optional:J}=w,Y=P in k?k[P]:"";if(Tr(Y)&&!oe)throw new Error(`Provided param "${P}" is an array but it is not repeatable (* or + modifiers)`);const $=Tr(Y)?Y.join("/"):Y;if(!$)if(J)y.length<2&&(_.endsWith("/")?_=_.slice(0,-1):A=!0);else throw new Error(`Missing required param "${P}"`);_+=$}}return _||"/"}return{re:E,score:c,keys:p,parse:S,stringify:b}}function ry(e,r){let o=0;for(;o<e.length&&o<r.length;){const c=r[o]-e[o];if(c)return c;o++}return e.length<r.length?e.length===1&&e[0]===40+40?-1:1:e.length>r.length?r.length===1&&r[0]===40+40?1:-1:0}function ny(e,r){let o=0;const c=e.score,h=r.score;for(;o<c.length&&o<h.length;){const p=ry(c[o],h[o]);if(p)return p;o++}if(Math.abs(h.length-c.length)===1){if(Ju(c))return 1;if(Ju(h))return-1}return h.length-c.length}function Ju(e){const r=e[e.length-1];return e.length>0&&r[r.length-1]<0}const iy={type:0,value:""},ay=/[a-zA-Z0-9_]/;function sy(e){if(!e)return[[]];if(e==="/")return[[iy]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function r(w){throw new Error(`ERR (${o})/"${k}": ${w}`)}let o=0,c=o;const h=[];let p;function E(){p&&h.push(p),p=[]}let S=0,b,k="",_="";function A(){k&&(o===0?p.push({type:0,value:k}):o===1||o===2||o===3?(p.length>1&&(b==="*"||b==="+")&&r(`A repeatable param (${k}) must be alone in its segment. eg: '/:ids+.`),p.push({type:1,value:k,regexp:_,repeatable:b==="*"||b==="+",optional:b==="*"||b==="?"})):r("Invalid state to consume buffer"),k="")}function y(){k+=b}for(;S<e.length;){if(b=e[S++],b==="\\"&&o!==2){c=o,o=4;continue}switch(o){case 0:b==="/"?(k&&A(),E()):b===":"?(A(),o=1):y();break;case 4:y(),o=c;break;case 1:b==="("?o=2:ay.test(b)?y():(A(),o=0,b!=="*"&&b!=="?"&&b!=="+"&&S--);break;case 2:b===")"?_[_.length-1]=="\\"?_=_.slice(0,-1)+b:o=3:_+=b;break;case 3:A(),o=0,b!=="*"&&b!=="?"&&b!=="+"&&S--,_="";break;default:r("Unknown state");break}}return o===2&&r(`Unfinished custom RegExp for param "${k}"`),A(),E(),h}function oy(e,r,o){const c=ty(sy(e.path),o),h=Rt(c,{record:e,parent:r,children:[],alias:[]});return r&&!h.record.aliasOf==!r.record.aliasOf&&r.children.push(h),h}function ly(e,r){const o=[],c=new Map;r=tc({strict:!1,end:!0,sensitive:!1},r);function h(_){return c.get(_)}function p(_,A,y){const w=!y,P=uy(_);P.aliasOf=y&&y.record;const oe=tc(r,_),J=[P];if("alias"in _){const H=typeof _.alias=="string"?[_.alias]:_.alias;for(const ae of H)J.push(Rt({},P,{components:y?y.record.components:P.components,path:ae,aliasOf:y?y.record:P}))}let Y,$;for(const H of J){const{path:ae}=H;if(A&&ae[0]!=="/"){const Z=A.record.path,re=Z[Z.length-1]==="/"?"":"/";H.path=A.record.path+(ae&&re+ae)}if(Y=oy(H,A,oe),y?y.alias.push(Y):($=$||Y,$!==Y&&$.alias.push(Y),w&&_.name&&!ec(Y)&&E(_.name)),P.children){const Z=P.children;for(let re=0;re<Z.length;re++)p(Z[re],Y,y&&y.children[re])}y=y||Y,(Y.record.components&&Object.keys(Y.record.components).length||Y.record.name||Y.record.redirect)&&b(Y)}return $?()=>{E($)}:bi}function E(_){if(Gf(_)){const A=c.get(_);A&&(c.delete(_),o.splice(o.indexOf(A),1),A.children.forEach(E),A.alias.forEach(E))}else{const A=o.indexOf(_);A>-1&&(o.splice(A,1),_.record.name&&c.delete(_.record.name),_.children.forEach(E),_.alias.forEach(E))}}function S(){return o}function b(_){let A=0;for(;A<o.length&&ny(_,o[A])>=0&&(_.record.path!==o[A].record.path||!Vf(_,o[A]));)A++;o.splice(A,0,_),_.record.name&&!ec(_)&&c.set(_.record.name,_)}function k(_,A){let y,w={},P,oe;if("name"in _&&_.name){if(y=c.get(_.name),!y)throw qn(1,{location:_});oe=y.record.name,w=Rt(Zu(A.params,y.keys.filter($=>!$.optional).map($=>$.name)),_.params&&Zu(_.params,y.keys.map($=>$.name))),P=y.stringify(w)}else if("path"in _)P=_.path,y=o.find($=>$.re.test(P)),y&&(w=y.parse(P),oe=y.record.name);else{if(y=A.name?c.get(A.name):o.find($=>$.re.test(A.path)),!y)throw qn(1,{location:_,currentLocation:A});oe=y.record.name,w=Rt({},A.params,_.params),P=y.stringify(w)}const J=[];let Y=y;for(;Y;)J.unshift(Y.record),Y=Y.parent;return{name:oe,path:P,params:w,matched:J,meta:fy(J)}}return e.forEach(_=>p(_)),{addRoute:p,resolve:k,removeRoute:E,getRoutes:S,getRecordMatcher:h}}function Zu(e,r){const o={};for(const c of r)c in e&&(o[c]=e[c]);return o}function uy(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:cy(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}}}function cy(e){const r={},o=e.props||!1;if("component"in e)r.default=o;else for(const c in e.components)r[c]=typeof o=="boolean"?o:o[c];return r}function ec(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function fy(e){return e.reduce((r,o)=>Rt(r,o.meta),{})}function tc(e,r){const o={};for(const c in e)o[c]=c in r?r[c]:e[c];return o}function Vf(e,r){return r.children.some(o=>o===e||Vf(e,o))}const Yf=/#/g,dy=/&/g,hy=/\//g,gy=/=/g,vy=/\?/g,Wf=/\+/g,my=/%5B/g,py=/%5D/g,$f=/%5E/g,yy=/%60/g,zf=/%7B/g,Ey=/%7C/g,qf=/%7D/g,by=/%20/g;function tl(e){return encodeURI(""+e).replace(Ey,"|").replace(my,"[").replace(py,"]")}function Ty(e){return tl(e).replace(zf,"{").replace(qf,"}").replace($f,"^")}function bo(e){return tl(e).replace(Wf,"%2B").replace(by,"+").replace(Yf,"%23").replace(dy,"%26").replace(yy,"`").replace(zf,"{").replace(qf,"}").replace($f,"^")}function Sy(e){return bo(e).replace(gy,"%3D")}function _y(e){return tl(e).replace(Yf,"%23").replace(vy,"%3F")}function Ay(e){return e==null?"":_y(e).replace(hy,"%2F")}function La(e){try{return decodeURIComponent(""+e)}catch{}return""+e}function ky(e){const r={};if(e===""||e==="?")return r;const c=(e[0]==="?"?e.slice(1):e).split("&");for(let h=0;h<c.length;++h){const p=c[h].replace(Wf," "),E=p.indexOf("="),S=La(E<0?p:p.slice(0,E)),b=E<0?null:La(p.slice(E+1));if(S in r){let k=r[S];Tr(k)||(k=r[S]=[k]),k.push(b)}else r[S]=b}return r}function rc(e){let r="";for(let o in e){const c=e[o];if(o=Sy(o),c==null){c!==void 0&&(r+=(r.length?"&":"")+o);continue}(Tr(c)?c.map(p=>p&&bo(p)):[c&&bo(c)]).forEach(p=>{p!==void 0&&(r+=(r.length?"&":"")+o,p!=null&&(r+="="+p))})}return r}function Ly(e){const r={};for(const o in e){const c=e[o];c!==void 0&&(r[o]=Tr(c)?c.map(h=>h==null?null:""+h):c==null?c:""+c)}return r}const wy=Symbol(""),nc=Symbol(""),$a=Symbol(""),Xf=Symbol(""),To=Symbol("");function fi(){let e=[];function r(c){return e.push(c),()=>{const h=e.indexOf(c);h>-1&&e.splice(h,1)}}function o(){e=[]}return{add:r,list:()=>e,reset:o}}function en(e,r,o,c,h){const p=c&&(c.enterCallbacks[h]=c.enterCallbacks[h]||[]);return()=>new Promise((E,S)=>{const b=A=>{A===!1?S(qn(4,{from:o,to:r})):A instanceof Error?S(A):Jp(A)?S(qn(2,{from:r,to:A})):(p&&c.enterCallbacks[h]===p&&typeof A=="function"&&p.push(A),E())},k=e.call(c&&c.instances[h],r,o,b);let _=Promise.resolve(k);e.length<3&&(_=_.then(b)),_.catch(A=>S(A))})}function Ys(e,r,o,c){const h=[];for(const p of e)for(const E in p.components){let S=p.components[E];if(!(r!=="beforeRouteEnter"&&!p.instances[E]))if(Ry(S)){const k=(S.__vccOpts||S)[r];k&&h.push(en(k,o,c,p,E))}else{let b=S();h.push(()=>b.then(k=>{if(!k)return Promise.reject(new Error(`Couldn't resolve component "${E}" at "${p.path}"`));const _=Pp(k)?k.default:k;p.components[E]=_;const y=(_.__vccOpts||_)[r];return y&&en(y,o,c,p,E)()}))}}return h}function Ry(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function ic(e){const r=Dr($a),o=Dr(Xf),c=Lt(()=>r.resolve(or(e.to))),h=Lt(()=>{const{matched:b}=c.value,{length:k}=b,_=b[k-1],A=o.matched;if(!_||!A.length)return-1;const y=A.findIndex(zn.bind(null,_));if(y>-1)return y;const w=ac(b[k-2]);return k>1&&ac(_)===w&&A[A.length-1].path!==w?A.findIndex(zn.bind(null,b[k-2])):y}),p=Lt(()=>h.value>-1&&Cy(o.params,c.value.params)),E=Lt(()=>h.value>-1&&h.value===o.matched.length-1&&Kf(o.params,c.value.params));function S(b={}){return Iy(b)?r[or(e.replace)?"replace":"push"](or(e.to)).catch(bi):Promise.resolve()}return{route:c,href:Lt(()=>c.value.href),isActive:p,isExactActive:E,navigate:S}}const xy=Fi({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:ic,setup(e,{slots:r}){const o=Pi(ic(e)),{options:c}=Dr($a),h=Lt(()=>({[sc(e.activeClass,c.linkActiveClass,"router-link-active")]:o.isActive,[sc(e.exactActiveClass,c.linkExactActiveClass,"router-link-exact-active")]:o.isExactActive}));return()=>{const p=r.default&&r.default(o);return e.custom?p:ja("a",{"aria-current":o.isExactActive?e.ariaCurrentValue:null,href:o.href,onClick:o.navigate,class:h.value},p)}}}),Dy=xy;function Iy(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const r=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(r))return}return e.preventDefault&&e.preventDefault(),!0}}function Cy(e,r){for(const o in r){const c=r[o],h=e[o];if(typeof c=="string"){if(c!==h)return!1}else if(!Tr(h)||h.length!==c.length||c.some((p,E)=>p!==h[E]))return!1}return!0}function ac(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const sc=(e,r,o)=>e??r??o,Oy=Fi({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:r,slots:o}){const c=Dr(To),h=Lt(()=>e.route||c.value),p=Dr(nc,0),E=Lt(()=>{let k=or(p);const{matched:_}=h.value;let A;for(;(A=_[k])&&!A.components;)k++;return k}),S=Lt(()=>h.value.matched[E.value]);fa(nc,Lt(()=>E.value+1)),fa(wy,S),fa(To,h);const b=tr();return gi(()=>[b.value,S.value,e.name],([k,_,A],[y,w,P])=>{_&&(_.instances[A]=k,w&&w!==_&&k&&k===y&&(_.leaveGuards.size||(_.leaveGuards=w.leaveGuards),_.updateGuards.size||(_.updateGuards=w.updateGuards))),k&&_&&(!w||!zn(_,w)||!y)&&(_.enterCallbacks[A]||[]).forEach(oe=>oe(k))},{flush:"post"}),()=>{const k=h.value,_=e.name,A=S.value,y=A&&A.components[_];if(!y)return oc(o.default,{Component:y,route:k});const w=A.props[_],P=w?w===!0?k.params:typeof w=="function"?w(k):w:null,J=ja(y,Rt({},P,r,{onVnodeUnmounted:Y=>{Y.component.isUnmounted&&(A.instances[_]=null)},ref:b}));return oc(o.default,{Component:J,route:k})||J}}});function oc(e,r){if(!e)return null;const o=e(r);return o.length===1?o[0]:o}const Py=Oy;function Fy(e){const r=ly(e.routes,e),o=e.parseQuery||ky,c=e.stringifyQuery||rc,h=e.history,p=fi(),E=fi(),S=fi(),b=tg(Jr);let k=Jr;Fn&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const _=Hs.bind(null,M=>""+M),A=Hs.bind(null,Ay),y=Hs.bind(null,La);function w(M,X){let V,ce;return Gf(M)?(V=r.getRecordMatcher(M),ce=X):ce=M,r.addRoute(ce,V)}function P(M){const X=r.getRecordMatcher(M);X&&r.removeRoute(X)}function oe(){return r.getRoutes().map(M=>M.record)}function J(M){return!!r.getRecordMatcher(M)}function Y(M,X){if(X=Rt({},X||b.value),typeof M=="string"){const R=Vs(o,M,X.path),F=r.resolve({path:R.path},X),O=h.createHref(R.fullPath);return Rt(R,F,{params:y(F.params),hash:La(R.hash),redirectedFrom:void 0,href:O})}let V;if("path"in M)V=Rt({},M,{path:Vs(o,M.path,X.path).path});else{const R=Rt({},M.params);for(const F in R)R[F]==null&&delete R[F];V=Rt({},M,{params:A(M.params)}),X.params=A(X.params)}const ce=r.resolve(V,X),ve=M.hash||"";ce.params=_(y(ce.params));const Le=Np(c,Rt({},M,{hash:Ty(ve),path:ce.path})),pe=h.createHref(Le);return Rt({fullPath:Le,hash:ve,query:c===rc?Ly(M.query):M.query||{}},ce,{redirectedFrom:void 0,href:pe})}function $(M){return typeof M=="string"?Vs(o,M,b.value.path):Rt({},M)}function H(M,X){if(k!==M)return qn(8,{from:X,to:M})}function ae(M){return ee(M)}function Z(M){return ae(Rt($(M),{replace:!0}))}function re(M){const X=M.matched[M.matched.length-1];if(X&&X.redirect){const{redirect:V}=X;let ce=typeof V=="function"?V(M):V;return typeof ce=="string"&&(ce=ce.includes("?")||ce.includes("#")?ce=$(ce):{path:ce},ce.params={}),Rt({query:M.query,hash:M.hash,params:"path"in ce?{}:M.params},ce)}}function ee(M,X){const V=k=Y(M),ce=b.value,ve=M.state,Le=M.force,pe=M.replace===!0,R=re(V);if(R)return ee(Rt($(R),{state:typeof R=="object"?Rt({},ve,R.state):ve,force:Le,replace:pe}),X||V);const F=V;F.redirectedFrom=X;let O;return!Le&&Up(c,ce,V)&&(O=qn(16,{to:F,from:ce}),He(ce,ce,!0,!1)),(O?Promise.resolve(O):we(F,ce)).catch(ne=>Kr(ne)?Kr(ne,2)?ne:Ue(ne):ge(ne,F,ce)).then(ne=>{if(ne){if(Kr(ne,2))return ee(Rt({replace:pe},$(ne.to),{state:typeof ne.to=="object"?Rt({},ve,ne.to.state):ve,force:Le}),X||F)}else ne=se(F,ce,!0,pe,ve);return Ye(F,ce,ne),ne})}function ke(M,X){const V=H(M,X);return V?Promise.reject(V):Promise.resolve()}function we(M,X){let V;const[ce,ve,Le]=My(M,X);V=Ys(ce.reverse(),"beforeRouteLeave",M,X);for(const R of ce)R.leaveGuards.forEach(F=>{V.push(en(F,M,X))});const pe=ke.bind(null,M,X);return V.push(pe),Pn(V).then(()=>{V=[];for(const R of p.list())V.push(en(R,M,X));return V.push(pe),Pn(V)}).then(()=>{V=Ys(ve,"beforeRouteUpdate",M,X);for(const R of ve)R.updateGuards.forEach(F=>{V.push(en(F,M,X))});return V.push(pe),Pn(V)}).then(()=>{V=[];for(const R of M.matched)if(R.beforeEnter&&!X.matched.includes(R))if(Tr(R.beforeEnter))for(const F of R.beforeEnter)V.push(en(F,M,X));else V.push(en(R.beforeEnter,M,X));return V.push(pe),Pn(V)}).then(()=>(M.matched.forEach(R=>R.enterCallbacks={}),V=Ys(Le,"beforeRouteEnter",M,X),V.push(pe),Pn(V))).then(()=>{V=[];for(const R of E.list())V.push(en(R,M,X));return V.push(pe),Pn(V)}).catch(R=>Kr(R,8)?R:Promise.reject(R))}function Ye(M,X,V){for(const ce of S.list())ce(M,X,V)}function se(M,X,V,ce,ve){const Le=H(M,X);if(Le)return Le;const pe=X===Jr,R=Fn?history.state:{};V&&(ce||pe?h.replace(M.fullPath,Rt({scroll:pe&&R&&R.scroll},ve)):h.push(M.fullPath,ve)),b.value=M,He(M,X,V,pe),Ue()}let I;function q(){I||(I=h.listen((M,X,V)=>{if(!dt.listening)return;const ce=Y(M),ve=re(ce);if(ve){ee(Rt(ve,{replace:!0}),ce).catch(bi);return}k=ce;const Le=b.value;Fn&&Wp(zu(Le.fullPath,V.delta),Wa()),we(ce,Le).catch(pe=>Kr(pe,12)?pe:Kr(pe,2)?(ee(pe.to,ce).then(R=>{Kr(R,20)&&!V.delta&&V.type===Oi.pop&&h.go(-1,!1)}).catch(bi),Promise.reject()):(V.delta&&h.go(-V.delta,!1),ge(pe,ce,Le))).then(pe=>{pe=pe||se(ce,Le,!1),pe&&(V.delta&&!Kr(pe,8)?h.go(-V.delta,!1):V.type===Oi.pop&&Kr(pe,20)&&h.go(-1,!1)),Ye(ce,Le,pe)}).catch(bi)}))}let B=fi(),he=fi(),Ee;function ge(M,X,V){Ue(M);const ce=he.list();return ce.length?ce.forEach(ve=>ve(M,X,V)):console.error(M),Promise.reject(M)}function fe(){return Ee&&b.value!==Jr?Promise.resolve():new Promise((M,X)=>{B.add([M,X])})}function Ue(M){return Ee||(Ee=!M,q(),B.list().forEach(([X,V])=>M?V(M):X()),B.reset()),M}function He(M,X,V,ce){const{scrollBehavior:ve}=e;if(!Fn||!ve)return Promise.resolve();const Le=!V&&$p(zu(M.fullPath,0))||(ce||!V)&&history.state&&history.state.scroll||null;return Pc().then(()=>ve(M,X,Le)).then(pe=>pe&&Yp(pe)).catch(pe=>ge(pe,M,X))}const je=M=>h.go(M);let Pe;const et=new Set,dt={currentRoute:b,listening:!0,addRoute:w,removeRoute:P,hasRoute:J,getRoutes:oe,resolve:Y,options:e,push:ae,replace:Z,go:je,back:()=>je(-1),forward:()=>je(1),beforeEach:p.add,beforeResolve:E.add,afterEach:S.add,onError:he.add,isReady:fe,install(M){const X=this;M.component("RouterLink",Dy),M.component("RouterView",Py),M.config.globalProperties.$router=X,Object.defineProperty(M.config.globalProperties,"$route",{enumerable:!0,get:()=>or(b)}),Fn&&!Pe&&b.value===Jr&&(Pe=!0,ae(h.location).catch(ve=>{}));const V={};for(const ve in Jr)V[ve]=Lt(()=>b.value[ve]);M.provide($a,X),M.provide(Xf,Pi(V)),M.provide(To,b);const ce=M.unmount;et.add(M),M.unmount=function(){et.delete(M),et.size<1&&(k=Jr,I&&I(),I=null,b.value=Jr,Pe=!1,Ee=!1),ce()}}};return dt}function Pn(e){return e.reduce((r,o)=>r.then(()=>o()),Promise.resolve())}function My(e,r){const o=[],c=[],h=[],p=Math.max(r.matched.length,e.matched.length);for(let E=0;E<p;E++){const S=r.matched[E];S&&(e.matched.find(k=>zn(k,S))?c.push(S):o.push(S));const b=e.matched[E];b&&(r.matched.find(k=>zn(k,b))||h.push(b))}return[o,c,h]}function Qf(){return Dr($a)}const Ny={},Uy=e=>(Zn("data-v-18671ff2"),e=e(),ei(),e),By={class:"layout"},Ky=Uy(()=>Qe("span",{class:"loader"},null,-1)),jy=[Ky];function Gy(e,r){return at(),yt("div",By,jy)}const rl=Cr(Ny,[["render",Gy],["__scopeId","data-v-18671ff2"]]),Hy={class:"flex items-center justify-center border-t border-gray-200 bg-white px-2 py-3 sm:px-6"},Vy={class:"sm:flex sm:flex-1 sm:items-center sm:justify-between"},Yy={class:"text-sm text-gray-700"},Wy={class:"font-medium"},$y={class:"font-medium"},zy={class:"font-medium"},qy={class:"mt-4 sm:mt-0 isolate inline-flex -space-x-px rounded-md shadow-sm","aria-label":"Pagination"},Xy=Qe("span",{class:"sr-only"},"Previous",-1),Qy={key:1,class:"relative inline-flex items-center rounded-l-md px-3 py-3 text-gray-400 ring-1 ring-inset ring-gray-300 cursor-not-allowed"},Jy=["onClick"],Zy=Qe("span",{class:"sr-only"},"Next",-1),e0={key:3,class:"relative inline-flex items-center rounded-r-md px-3 py-3 text-gray-400 ring-1 ring-inset ring-gray-300 cursor-not-allowed"},t0={__name:"PaginationComponent",props:["page","start","end","maxCountOnPage","allCount"],setup(e){const r=e,o=Lt(()=>Math.ceil(r.allCount/r.maxCountOnPage)),c=Lt(()=>{const h=[];for(let p=1;p<=o.value;p++){const E={};E.page=p,p===r.page?E.classes="z-10 bg-teal-600 font-extrabold text-white focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-teal-600":E.classes="font-semibold text-gray-900 ring-1 ring-inset ring-gray-300 hover:bg-gray-50 focus:z-20 focus:outline-offset-0",h.push(E)}return h});return(h,p)=>{const E=Vn("font-awesome-icon");return at(),yt("div",Hy,[Qe("div",Vy,[Qe("p",Yy,[pr(" Showing "),Qe("span",Wy,zt(e.start),1),pr(" to "),Qe("span",$y,zt(e.end),1),pr(" of "),Qe("span",zy,zt(e.allCount),1),pr(" courses ")]),Qe("div",null,[Qe("nav",qy,[e.page>1?(at(),yt("a",{key:0,onClick:p[0]||(p[0]=S=>h.$emit("previousPage")),href:"#",class:"relative inline-flex items-center rounded-l-md px-3 py-3 text-gray-400 ring-1 ring-inset ring-gray-300 hover:bg-gray-50 focus:z-20 focus:outline-offset-0"},[Xy,Tt(E,{icon:"fa-solid fa-arrow-left"})])):e.page===1?(at(),yt("a",Qy,[Tt(E,{icon:"fa-solid fa-arrow-left"})])):lr("",!0),(at(!0),yt(Gt,null,Mi(or(c),S=>(at(),yt("a",{href:"#",key:S.page,onClick:b=>h.$emit("changePage",S.page),class:wa(["relative inline-flex items-center px-4 py-3 text-sm focus:z-20",S.classes]),"aria-current":"page"},zt(S.page),11,Jy))),128)),e.page<or(o)?(at(),yt("a",{key:2,onClick:p[1]||(p[1]=S=>h.$emit("nextPage")),href:"#",class:"relative inline-flex items-center rounded-r-md px-3 py-3 text-gray-400 ring-1 ring-inset ring-gray-300 hover:bg-gray-50 focus:z-20 focus:outline-offset-0"},[Zy,Tt(E,{icon:"fa-solid fa-arrow-right"})])):(at(),yt("a",e0,[Tt(E,{icon:"fa-solid fa-arrow-right"})]))])])])])}}};var r0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function n0(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var So={},i0={get exports(){return So},set exports(e){So=e}};(function(e,r){typeof window<"u"&&function(o,c){e.exports=c()}(r0,()=>(()=>{var o={21:(E,S,b)=>{b.r(S),b.d(S,{default:()=>oe});var k=function(){function J(Y,$){this.subtle=void 0,this.aesIV=void 0,this.subtle=Y,this.aesIV=$}return J.prototype.decrypt=function(Y,$){return this.subtle.decrypt({name:"AES-CBC",iv:this.aesIV},$,Y)},J}(),_=function(){function J(Y,$){this.subtle=void 0,this.key=void 0,this.subtle=Y,this.key=$}return J.prototype.expandKey=function(){return this.subtle.importKey("raw",this.key,{name:"AES-CBC"},!1,["encrypt","decrypt"])},J}(),A=b(145),y=function(){function J(){this.rcon=[0,1,2,4,8,16,32,64,128,27,54],this.subMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.invSubMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.sBox=new Uint32Array(256),this.invSBox=new Uint32Array(256),this.key=new Uint32Array(0),this.ksRows=0,this.keySize=0,this.keySchedule=void 0,this.invKeySchedule=void 0,this.initTable()}var Y=J.prototype;return Y.uint8ArrayToUint32Array_=function($){for(var H=new DataView($),ae=new Uint32Array(4),Z=0;Z<4;Z++)ae[Z]=H.getUint32(4*Z);return ae},Y.initTable=function(){var $=this.sBox,H=this.invSBox,ae=this.subMix,Z=ae[0],re=ae[1],ee=ae[2],ke=ae[3],we=this.invSubMix,Ye=we[0],se=we[1],I=we[2],q=we[3],B=new Uint32Array(256),he=0,Ee=0,ge=0;for(ge=0;ge<256;ge++)B[ge]=ge<128?ge<<1:ge<<1^283;for(ge=0;ge<256;ge++){var fe=Ee^Ee<<1^Ee<<2^Ee<<3^Ee<<4;fe=fe>>>8^255&fe^99,$[he]=fe,H[fe]=he;var Ue=B[he],He=B[Ue],je=B[He],Pe=257*B[fe]^16843008*fe;Z[he]=Pe<<24|Pe>>>8,re[he]=Pe<<16|Pe>>>16,ee[he]=Pe<<8|Pe>>>24,ke[he]=Pe,Pe=16843009*je^65537*He^257*Ue^16843008*he,Ye[fe]=Pe<<24|Pe>>>8,se[fe]=Pe<<16|Pe>>>16,I[fe]=Pe<<8|Pe>>>24,q[fe]=Pe,he?(he=Ue^B[B[B[je^Ue]]],Ee^=B[B[Ee]]):he=Ee=1}},Y.expandKey=function($){for(var H=this.uint8ArrayToUint32Array_($),ae=!0,Z=0;Z<H.length&&ae;)ae=H[Z]===this.key[Z],Z++;if(!ae){this.key=H;var re=this.keySize=H.length;if(re!==4&&re!==6&&re!==8)throw new Error("Invalid aes key size="+re);var ee,ke,we,Ye,se=this.ksRows=4*(re+6+1),I=this.keySchedule=new Uint32Array(se),q=this.invKeySchedule=new Uint32Array(se),B=this.sBox,he=this.rcon,Ee=this.invSubMix,ge=Ee[0],fe=Ee[1],Ue=Ee[2],He=Ee[3];for(ee=0;ee<se;ee++)ee<re?we=I[ee]=H[ee]:(Ye=we,ee%re==0?(Ye=B[(Ye=Ye<<8|Ye>>>24)>>>24]<<24|B[Ye>>>16&255]<<16|B[Ye>>>8&255]<<8|B[255&Ye],Ye^=he[ee/re|0]<<24):re>6&&ee%re==4&&(Ye=B[Ye>>>24]<<24|B[Ye>>>16&255]<<16|B[Ye>>>8&255]<<8|B[255&Ye]),I[ee]=we=(I[ee-re]^Ye)>>>0);for(ke=0;ke<se;ke++)ee=se-ke,Ye=3&ke?I[ee]:I[ee-4],q[ke]=ke<4||ee<=4?Ye:ge[B[Ye>>>24]]^fe[B[Ye>>>16&255]]^Ue[B[Ye>>>8&255]]^He[B[255&Ye]],q[ke]=q[ke]>>>0}},Y.networkToHostOrderSwap=function($){return $<<24|(65280&$)<<8|(16711680&$)>>8|$>>>24},Y.decrypt=function($,H,ae){for(var Z,re,ee,ke,we,Ye,se,I,q,B,he,Ee,ge,fe,Ue=this.keySize+6,He=this.invKeySchedule,je=this.invSBox,Pe=this.invSubMix,et=Pe[0],dt=Pe[1],M=Pe[2],X=Pe[3],V=this.uint8ArrayToUint32Array_(ae),ce=V[0],ve=V[1],Le=V[2],pe=V[3],R=new Int32Array($),F=new Int32Array(R.length),O=this.networkToHostOrderSwap;H<R.length;){for(q=O(R[H]),B=O(R[H+1]),he=O(R[H+2]),Ee=O(R[H+3]),we=q^He[0],Ye=Ee^He[1],se=he^He[2],I=B^He[3],ge=4,fe=1;fe<Ue;fe++)Z=et[we>>>24]^dt[Ye>>16&255]^M[se>>8&255]^X[255&I]^He[ge],re=et[Ye>>>24]^dt[se>>16&255]^M[I>>8&255]^X[255&we]^He[ge+1],ee=et[se>>>24]^dt[I>>16&255]^M[we>>8&255]^X[255&Ye]^He[ge+2],ke=et[I>>>24]^dt[we>>16&255]^M[Ye>>8&255]^X[255&se]^He[ge+3],we=Z,Ye=re,se=ee,I=ke,ge+=4;Z=je[we>>>24]<<24^je[Ye>>16&255]<<16^je[se>>8&255]<<8^je[255&I]^He[ge],re=je[Ye>>>24]<<24^je[se>>16&255]<<16^je[I>>8&255]<<8^je[255&we]^He[ge+1],ee=je[se>>>24]<<24^je[I>>16&255]<<16^je[we>>8&255]<<8^je[255&Ye]^He[ge+2],ke=je[I>>>24]<<24^je[we>>16&255]<<16^je[Ye>>8&255]<<8^je[255&se]^He[ge+3],F[H]=O(Z^ce),F[H+1]=O(ke^ve),F[H+2]=O(ee^Le),F[H+3]=O(re^pe),ce=q,ve=B,Le=he,pe=Ee,H+=4}return F.buffer},J}(),w=b(93),P=b(63),oe=function(){function J($,H){var ae=(H===void 0?{}:H).removePKCS7Padding,Z=ae===void 0||ae;if(this.logEnabled=!0,this.removePKCS7Padding=void 0,this.subtle=null,this.softwareDecrypter=null,this.key=null,this.fastAesKey=null,this.remainderData=null,this.currentIV=null,this.currentResult=null,this.useSoftware=void 0,this.useSoftware=$.enableSoftwareAES,this.removePKCS7Padding=Z,Z)try{var re=self.crypto;re&&(this.subtle=re.subtle||re.webkitSubtle)}catch{}this.subtle===null&&(this.useSoftware=!0)}var Y=J.prototype;return Y.destroy=function(){this.subtle=null,this.softwareDecrypter=null,this.key=null,this.fastAesKey=null,this.remainderData=null,this.currentIV=null,this.currentResult=null},Y.isSync=function(){return this.useSoftware},Y.flush=function(){var $=this.currentResult,H=this.remainderData;if(!$||H)return this.reset(),null;var ae,Z,re,ee=new Uint8Array($);return this.reset(),this.removePKCS7Padding?(re=(Z=(ae=ee).byteLength)&&new DataView(ae.buffer).getUint8(Z-1))?(0,A.sliceUint8)(ae,0,Z-re):ae:ee},Y.reset=function(){this.currentResult=null,this.currentIV=null,this.remainderData=null,this.softwareDecrypter&&(this.softwareDecrypter=null)},Y.decrypt=function($,H,ae){var Z=this;return this.useSoftware?new Promise(function(re,ee){Z.softwareDecrypt(new Uint8Array($),H,ae);var ke=Z.flush();ke?re(ke.buffer):ee(new Error("[softwareDecrypt] Failed to decrypt data"))}):this.webCryptoDecrypt(new Uint8Array($),H,ae)},Y.softwareDecrypt=function($,H,ae){var Z=this.currentIV,re=this.currentResult,ee=this.remainderData;this.logOnce("JS AES decrypt"),ee&&($=(0,P.appendUint8Array)(ee,$),this.remainderData=null);var ke=this.getValidChunk($);if(!ke.length)return null;Z&&(ae=Z);var we=this.softwareDecrypter;we||(we=this.softwareDecrypter=new y),we.expandKey(H);var Ye=re;return this.currentResult=we.decrypt(ke.buffer,0,ae),this.currentIV=(0,A.sliceUint8)(ke,-16).buffer,Ye||null},Y.webCryptoDecrypt=function($,H,ae){var Z=this,re=this.subtle;return this.key===H&&this.fastAesKey||(this.key=H,this.fastAesKey=new _(re,H)),this.fastAesKey.expandKey().then(function(ee){return re?(Z.logOnce("WebCrypto AES decrypt"),new k(re,new Uint8Array(ae)).decrypt($.buffer,ee)):Promise.reject(new Error("web crypto not initialized"))}).catch(function(ee){return w.logger.warn("[decrypter]: WebCrypto Error, disable WebCrypto API, "+ee.name+": "+ee.message),Z.onWebCryptoError($,H,ae)})},Y.onWebCryptoError=function($,H,ae){this.useSoftware=!0,this.logEnabled=!0,this.softwareDecrypt($,H,ae);var Z=this.flush();if(Z)return Z.buffer;throw new Error("WebCrypto and softwareDecrypt: failed to decrypt data")},Y.getValidChunk=function($){var H=$,ae=$.length-$.length%16;return ae!==$.length&&(H=(0,A.sliceUint8)($,0,ae),this.remainderData=(0,A.sliceUint8)($,ae)),H},Y.logOnce=function($){this.logEnabled&&(w.logger.log("[decrypter]: "+$),this.logEnabled=!1)},J}()},181:(E,S,b)=>{b.r(S),b.d(S,{canParse:()=>P,decodeFrame:()=>H,getID3Data:()=>y,getID3Frames:()=>$,getTimeStamp:()=>oe,isFooter:()=>A,isHeader:()=>_,isTimeStampFrame:()=>J,testables:()=>we,utf8ArrayToStr:()=>ke});var k,_=function(se,I){return I+10<=se.length&&se[I]===73&&se[I+1]===68&&se[I+2]===51&&se[I+3]<255&&se[I+4]<255&&se[I+6]<128&&se[I+7]<128&&se[I+8]<128&&se[I+9]<128},A=function(se,I){return I+10<=se.length&&se[I]===51&&se[I+1]===68&&se[I+2]===73&&se[I+3]<255&&se[I+4]<255&&se[I+6]<128&&se[I+7]<128&&se[I+8]<128&&se[I+9]<128},y=function(se,I){for(var q=I,B=0;_(se,I);)B+=10,B+=w(se,I+6),A(se,I+10)&&(B+=10),I+=B;if(B>0)return se.subarray(q,q+B)},w=function(se,I){var q=0;return q=(127&se[I])<<21,q|=(127&se[I+1])<<14,(q|=(127&se[I+2])<<7)|127&se[I+3]},P=function(se,I){return _(se,I)&&w(se,I+6)+10<=se.length-I},oe=function(se){for(var I=$(se),q=0;q<I.length;q++){var B=I[q];if(J(B))return ee(B)}},J=function(se){return se&&se.key==="PRIV"&&se.info==="com.apple.streaming.transportStreamTimestamp"},Y=function(se){var I=String.fromCharCode(se[0],se[1],se[2],se[3]),q=w(se,4);return{type:I,size:q,data:se.subarray(10,10+q)}},$=function(se){for(var I=0,q=[];_(se,I);){for(var B=w(se,I+6),he=(I+=10)+B;I+8<he;){var Ee=Y(se.subarray(I)),ge=H(Ee);ge&&q.push(ge),I+=Ee.size+10}A(se,I)&&(I+=10)}return q},H=function(se){return se.type==="PRIV"?ae(se):se.type[0]==="W"?re(se):Z(se)},ae=function(se){if(!(se.size<2)){var I=ke(se.data,!0),q=new Uint8Array(se.data.subarray(I.length+1));return{key:se.type,info:I,data:q.buffer}}},Z=function(se){if(!(se.size<2)){if(se.type==="TXXX"){var I=1,q=ke(se.data.subarray(I),!0);I+=q.length+1;var B=ke(se.data.subarray(I));return{key:se.type,info:q,data:B}}var he=ke(se.data.subarray(1));return{key:se.type,data:he}}},re=function(se){if(se.type==="WXXX"){if(se.size<2)return;var I=1,q=ke(se.data.subarray(I),!0);I+=q.length+1;var B=ke(se.data.subarray(I));return{key:se.type,info:q,data:B}}var he=ke(se.data);return{key:se.type,data:he}},ee=function(se){if(se.data.byteLength===8){var I=new Uint8Array(se.data),q=1&I[3],B=(I[4]<<23)+(I[5]<<15)+(I[6]<<7)+I[7];return B/=45,q&&(B+=4772185884e-2),Math.round(B)}},ke=function(se,I){I===void 0&&(I=!1);var q=Ye();if(q){var B=q.decode(se);if(I){var he=B.indexOf("\0");return he!==-1?B.substring(0,he):B}return B.replace(/\0/g,"")}for(var Ee,ge,fe,Ue=se.length,He="",je=0;je<Ue;){if((Ee=se[je++])===0&&I)return He;if(Ee!==0&&Ee!==3)switch(Ee>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:He+=String.fromCharCode(Ee);break;case 12:case 13:ge=se[je++],He+=String.fromCharCode((31&Ee)<<6|63&ge);break;case 14:ge=se[je++],fe=se[je++],He+=String.fromCharCode((15&Ee)<<12|(63&ge)<<6|(63&fe)<<0)}}return He},we={decodeTextFrame:Z};function Ye(){return k||self.TextDecoder===void 0||(k=new self.TextDecoder("utf-8")),k}},182:(E,S,b)=>{b.r(S),b.d(S,{default:()=>P});var k=b(544),_=b(851),A=b(93),y=b(729),w=b(973);function P($){var H=new y.EventEmitter,ae=function(Z,re){$.postMessage({event:Z,data:re})};H.on(_.Events.FRAG_DECRYPTED,ae),H.on(_.Events.ERROR,ae),$.addEventListener("message",function(Z){var re=Z.data;switch(re.cmd){case"init":var ee=JSON.parse(re.config);$.transmuxer=new k.default(H,re.typeSupported,ee,re.vendor,re.id),(0,A.enableLogs)(ee.debug,re.id),function(){var se=function(q){A.logger[q]=function(B){ae("workerLog",{logType:q,message:B})}};for(var I in A.logger)se(I)}(),ae("init",null);break;case"configure":$.transmuxer.configure(re.config);break;case"demux":var ke=$.transmuxer.push(re.data,re.decryptdata,re.chunkMeta,re.state);(0,k.isPromise)(ke)?($.transmuxer.async=!0,ke.then(function(se){oe($,se)}).catch(function(se){ae(_.Events.ERROR,{type:w.ErrorTypes.MEDIA_ERROR,details:w.ErrorDetails.FRAG_PARSING_ERROR,chunkMeta:re.chunkMeta,fatal:!1,error:se,err:se,reason:"transmuxer-worker push error"})})):($.transmuxer.async=!1,oe($,ke));break;case"flush":var we=re.chunkMeta,Ye=$.transmuxer.flush(we);(0,k.isPromise)(Ye)||$.transmuxer.async?((0,k.isPromise)(Ye)||(Ye=Promise.resolve(Ye)),Ye.then(function(se){Y($,se,we)}).catch(function(se){ae(_.Events.ERROR,{type:w.ErrorTypes.MEDIA_ERROR,details:w.ErrorDetails.FRAG_PARSING_ERROR,chunkMeta:re.chunkMeta,fatal:!1,error:se,err:se,reason:"transmuxer-worker flush error"})})):Y($,Ye,we)}})}function oe($,H){if(!((ae=H.remuxResult).audio||ae.video||ae.text||ae.id3||ae.initSegment))return!1;var ae,Z=[],re=H.remuxResult,ee=re.audio,ke=re.video;return ee&&J(Z,ee),ke&&J(Z,ke),$.postMessage({event:"transmuxComplete",data:H},Z),!0}function J($,H){H.data1&&$.push(H.data1.buffer),H.data2&&$.push(H.data2.buffer)}function Y($,H,ae){H.reduce(function(Z,re){return oe($,re)||Z},!1)||$.postMessage({event:"transmuxComplete",data:H[0]}),$.postMessage({event:"flush",data:ae})}},544:(E,S,b)=>{b.r(S),b.d(S,{TransmuxConfig:()=>wt,TransmuxState:()=>xt,default:()=>it,isPromise:()=>mt});var k=b(851),_=b(973),A=b(21),y=b(965),w=b(181),P=b(856);function oe(ie,K){return ie===void 0&&(ie=""),K===void 0&&(K=9e4),{type:ie,id:-1,pid:-1,inputTimeScale:K,sequenceNumber:-1,samples:[],dropped:0}}var J=b(63),Y=b(145),$=function(){function ie(){this._audioTrack=void 0,this._id3Track=void 0,this.frameIndex=0,this.cachedData=null,this.basePTS=null,this.initPTS=null,this.lastPTS=null}var K=ie.prototype;return K.resetInitSegment=function(x,N,U,W){this._id3Track={type:"id3",id:3,pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:0}},K.resetTimeStamp=function(x){this.initPTS=x,this.resetContiguity()},K.resetContiguity=function(){this.basePTS=null,this.lastPTS=null,this.frameIndex=0},K.canParse=function(x,N){return!1},K.appendFrame=function(x,N,U){},K.demux=function(x,N){this.cachedData&&(x=(0,J.appendUint8Array)(this.cachedData,x),this.cachedData=null);var U,W=w.getID3Data(x,0),z=W?W.length:0,te=this._audioTrack,be=this._id3Track,_e=W?w.getTimeStamp(W):void 0,Re=x.length;for((this.basePTS===null||this.frameIndex===0&&(0,y.isFiniteNumber)(_e))&&(this.basePTS=H(_e,N,this.initPTS),this.lastPTS=this.basePTS),this.lastPTS===null&&(this.lastPTS=this.basePTS),W&&W.length>0&&be.samples.push({pts:this.lastPTS,dts:this.lastPTS,data:W,type:P.MetadataSchema.audioId3,duration:Number.POSITIVE_INFINITY});z<Re;){if(this.canParse(x,z)){var Fe=this.appendFrame(te,x,z);Fe?(this.frameIndex++,this.lastPTS=Fe.sample.pts,U=z+=Fe.length):z=Re}else w.canParse(x,z)?(W=w.getID3Data(x,z),be.samples.push({pts:this.lastPTS,dts:this.lastPTS,data:W,type:P.MetadataSchema.audioId3,duration:Number.POSITIVE_INFINITY}),U=z+=W.length):z++;if(z===Re&&U!==Re){var $e=(0,Y.sliceUint8)(x,U);this.cachedData?this.cachedData=(0,J.appendUint8Array)(this.cachedData,$e):this.cachedData=$e}}return{audioTrack:te,videoTrack:oe(),id3Track:be,textTrack:oe()}},K.demuxSampleAes=function(x,N,U){return Promise.reject(new Error("["+this+"] This demuxer does not support Sample-AES decryption"))},K.flush=function(x){var N=this.cachedData;return N&&(this.cachedData=null,this.demux(N,0)),{audioTrack:this._audioTrack,videoTrack:oe(),id3Track:this._id3Track,textTrack:oe()}},K.destroy=function(){},ie}(),H=function(ie,K,x){return(0,y.isFiniteNumber)(ie)?90*ie:9e4*K+(x||0)};const ae=$;var Z=b(93);function re(ie,K){return ie[K]===255&&(246&ie[K+1])==240}function ee(ie,K){return 1&ie[K+1]?7:9}function ke(ie,K){return(3&ie[K+3])<<11|ie[K+4]<<3|(224&ie[K+5])>>>5}function we(ie,K){return K+1<ie.length&&re(ie,K)}function Ye(ie,K){if(we(ie,K)){var x=ee(ie,K);if(K+x>=ie.length)return!1;var N=ke(ie,K);if(N<=x)return!1;var U=K+N;return U===ie.length||we(ie,U)}return!1}function se(ie,K,x,N,U){if(!ie.samplerate){var W=function(z,te,be,_e){var Re,Fe,$e,Be,Je=navigator.userAgent.toLowerCase(),ut=_e,pt=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];Re=1+((192&te[be+2])>>>6);var Xe=(60&te[be+2])>>>2;if(!(Xe>pt.length-1))return $e=(1&te[be+2])<<2,$e|=(192&te[be+3])>>>6,Z.logger.log("manifest codec:"+_e+", ADTS type:"+Re+", samplingIndex:"+Xe),/firefox/i.test(Je)?Xe>=6?(Re=5,Be=new Array(4),Fe=Xe-3):(Re=2,Be=new Array(2),Fe=Xe):Je.indexOf("android")!==-1?(Re=2,Be=new Array(2),Fe=Xe):(Re=5,Be=new Array(4),_e&&(_e.indexOf("mp4a.40.29")!==-1||_e.indexOf("mp4a.40.5")!==-1)||!_e&&Xe>=6?Fe=Xe-3:((_e&&_e.indexOf("mp4a.40.2")!==-1&&(Xe>=6&&$e===1||/vivaldi/i.test(Je))||!_e&&$e===1)&&(Re=2,Be=new Array(2)),Fe=Xe)),Be[0]=Re<<3,Be[0]|=(14&Xe)>>1,Be[1]|=(1&Xe)<<7,Be[1]|=$e<<3,Re===5&&(Be[1]|=(14&Fe)>>1,Be[2]=(1&Fe)<<7,Be[2]|=8,Be[3]=0),{config:Be,samplerate:pt[Xe],channelCount:$e,codec:"mp4a.40."+Re,manifestCodec:ut};z.trigger(k.Events.ERROR,{type:_.ErrorTypes.MEDIA_ERROR,details:_.ErrorDetails.FRAG_PARSING_ERROR,fatal:!0,reason:"invalid ADTS sampling index:"+Xe})}(K,x,N,U);if(!W)return;ie.config=W.config,ie.samplerate=W.samplerate,ie.channelCount=W.channelCount,ie.codec=W.codec,ie.manifestCodec=W.manifestCodec,Z.logger.log("parsed codec:"+ie.codec+", rate:"+W.samplerate+", channels:"+W.channelCount)}}function I(ie){return 9216e4/ie}function q(ie,K,x,N,U){var W,z=N+U*I(ie.samplerate),te=function(Je,ut){var pt=ee(Je,ut);if(ut+pt<=Je.length){var Xe=ke(Je,ut)-pt;if(Xe>0)return{headerLength:pt,frameLength:Xe}}}(K,x);if(te){var be=te.frameLength,_e=te.headerLength,Re=_e+be,Fe=Math.max(0,x+Re-K.length);Fe?(W=new Uint8Array(Re-_e)).set(K.subarray(x+_e,K.length),0):W=K.subarray(x+_e,x+Re);var $e={unit:W,pts:z};return Fe||ie.samples.push($e),{sample:$e,length:Re,missing:Fe}}var Be=K.length-x;return(W=new Uint8Array(Be)).set(K.subarray(x,K.length),0),{sample:{unit:W,pts:z},length:Be,missing:-1}}function B(ie,K){return B=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(x,N){return x.__proto__=N,x},B(ie,K)}const he=function(ie){var K,x;function N(W,z){var te;return(te=ie.call(this)||this).observer=void 0,te.config=void 0,te.observer=W,te.config=z,te}x=ie,(K=N).prototype=Object.create(x.prototype),K.prototype.constructor=K,B(K,x);var U=N.prototype;return U.resetInitSegment=function(W,z,te,be){ie.prototype.resetInitSegment.call(this,W,z,te,be),this._audioTrack={container:"audio/adts",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"aac",samples:[],manifestCodec:z,duration:be,inputTimeScale:9e4,dropped:0}},N.probe=function(W){if(!W)return!1;for(var z=(w.getID3Data(W,0)||[]).length,te=W.length;z<te;z++)if(Ye(W,z))return Z.logger.log("ADTS sync word found !"),!0;return!1},U.canParse=function(W,z){return function(te,be){return function(_e,Re){return Re+5<_e.length}(te,be)&&re(te,be)&&ke(te,be)<=te.length-be}(W,z)},U.appendFrame=function(W,z,te){se(W,this.observer,z,te,W.manifestCodec);var be=q(W,z,te,this.basePTS,this.frameIndex);if(be&&be.missing===0)return be},N}(ae);var Ee=/\/emsg[-/]ID3/i;const ge=function(){function ie(x,N){this.remainderData=null,this.timeOffset=0,this.config=void 0,this.videoTrack=void 0,this.audioTrack=void 0,this.id3Track=void 0,this.txtTrack=void 0,this.config=N}var K=ie.prototype;return K.resetTimeStamp=function(){},K.resetInitSegment=function(x,N,U,W){var z=this.videoTrack=oe("video",1),te=this.audioTrack=oe("audio",1),be=this.txtTrack=oe("text",1);if(this.id3Track=oe("id3",1),this.timeOffset=0,x&&x.byteLength){var _e=(0,J.parseInitSegment)(x);if(_e.video){var Re=_e.video,Fe=Re.id,$e=Re.timescale,Be=Re.codec;z.id=Fe,z.timescale=be.timescale=$e,z.codec=Be}if(_e.audio){var Je=_e.audio,ut=Je.id,pt=Je.timescale,Xe=Je.codec;te.id=ut,te.timescale=pt,te.codec=Xe}be.id=J.RemuxerTrackIdConfig.text,z.sampleDuration=0,z.duration=te.duration=W}},K.resetContiguity=function(){},ie.probe=function(x){return x=x.length>16384?x.subarray(0,16384):x,(0,J.findBox)(x,["moof"]).length>0},K.demux=function(x,N){this.timeOffset=N;var U=x,W=this.videoTrack,z=this.txtTrack;if(this.config.progressive){this.remainderData&&(U=(0,J.appendUint8Array)(this.remainderData,x));var te=(0,J.segmentValidRange)(U);this.remainderData=te.remainder,W.samples=te.valid||new Uint8Array}else W.samples=U;var be=this.extractID3Track(W,N);return z.samples=(0,J.parseSamples)(N,W),{videoTrack:W,audioTrack:this.audioTrack,id3Track:be,textTrack:this.txtTrack}},K.flush=function(){var x=this.timeOffset,N=this.videoTrack,U=this.txtTrack;N.samples=this.remainderData||new Uint8Array,this.remainderData=null;var W=this.extractID3Track(N,this.timeOffset);return U.samples=(0,J.parseSamples)(x,N),{videoTrack:N,audioTrack:oe(),id3Track:W,textTrack:oe()}},K.extractID3Track=function(x,N){var U=this.id3Track;if(x.samples.length){var W=(0,J.findBox)(x.samples,["emsg"]);W&&W.forEach(function(z){var te=(0,J.parseEmsg)(z);if(Ee.test(te.schemeIdUri)){var be=(0,y.isFiniteNumber)(te.presentationTime)?te.presentationTime/te.timeScale:N+te.presentationTimeDelta/te.timeScale,_e=te.eventDuration===4294967295?Number.POSITIVE_INFINITY:te.eventDuration/te.timeScale;_e<=.001&&(_e=Number.POSITIVE_INFINITY);var Re=te.payload;U.samples.push({data:Re,len:Re.byteLength,dts:be,pts:be,type:P.MetadataSchema.emsg,duration:_e})}})}return U},K.demuxSampleAes=function(x,N,U){return Promise.reject(new Error("The MP4 demuxer does not support SAMPLE-AES decryption"))},K.destroy=function(){},ie}();var fe=null,Ue=[32,64,96,128,160,192,224,256,288,320,352,384,416,448,32,48,56,64,80,96,112,128,160,192,224,256,320,384,32,40,48,56,64,80,96,112,128,160,192,224,256,320,32,48,56,64,80,96,112,128,144,160,176,192,224,256,8,16,24,32,40,48,56,64,80,96,112,128,144,160],He=[44100,48e3,32e3,22050,24e3,16e3,11025,12e3,8e3],je=[[0,72,144,12],[0,0,0,0],[0,72,144,12],[0,144,144,12]],Pe=[0,1,1,4];function et(ie,K,x,N,U){if(!(x+24>K.length)){var W=dt(K,x);if(W&&x+W.frameLength<=K.length){var z=N+U*(9e4*W.samplesPerFrame/W.sampleRate),te={unit:K.subarray(x,x+W.frameLength),pts:z,dts:z};return ie.config=[],ie.channelCount=W.channelCount,ie.samplerate=W.sampleRate,ie.samples.push(te),{sample:te,length:W.frameLength,missing:0}}}}function dt(ie,K){var x=ie[K+1]>>3&3,N=ie[K+1]>>1&3,U=ie[K+2]>>4&15,W=ie[K+2]>>2&3;if(x!==1&&U!==0&&U!==15&&W!==3){var z=ie[K+2]>>1&1,te=ie[K+3]>>6,be=1e3*Ue[14*(x===3?3-N:N===3?3:4)+U-1],_e=He[3*(x===3?0:x===2?1:2)+W],Re=te===3?1:2,Fe=je[x][N],$e=Pe[N],Be=8*Fe*$e,Je=Math.floor(Fe*be/_e+z)*$e;if(fe===null){var ut=(navigator.userAgent||"").match(/Chrome\/(\d+)/i);fe=ut?parseInt(ut[1]):0}return fe&&fe<=87&&N===2&&be>=224e3&&te===0&&(ie[K+3]=128|ie[K+3]),{sampleRate:_e,channelCount:Re,frameLength:Je,samplesPerFrame:Be}}}function M(ie,K){return ie[K]===255&&(224&ie[K+1])==224&&(6&ie[K+1])!=0}function X(ie,K){return K+1<ie.length&&M(ie,K)}function V(ie,K){if(K+1<ie.length&&M(ie,K)){var x=dt(ie,K),N=4;x!=null&&x.frameLength&&(N=x.frameLength);var U=K+N;return U===ie.length||X(ie,U)}return!1}const ce=function(){function ie(x){this.data=void 0,this.bytesAvailable=void 0,this.word=void 0,this.bitsAvailable=void 0,this.data=x,this.bytesAvailable=x.byteLength,this.word=0,this.bitsAvailable=0}var K=ie.prototype;return K.loadWord=function(){var x=this.data,N=this.bytesAvailable,U=x.byteLength-N,W=new Uint8Array(4),z=Math.min(4,N);if(z===0)throw new Error("no bytes available");W.set(x.subarray(U,U+z)),this.word=new DataView(W.buffer).getUint32(0),this.bitsAvailable=8*z,this.bytesAvailable-=z},K.skipBits=function(x){var N;x=Math.min(x,8*this.bytesAvailable+this.bitsAvailable),this.bitsAvailable>x?(this.word<<=x,this.bitsAvailable-=x):(x-=this.bitsAvailable,x-=(N=x>>3)<<3,this.bytesAvailable-=N,this.loadWord(),this.word<<=x,this.bitsAvailable-=x)},K.readBits=function(x){var N=Math.min(this.bitsAvailable,x),U=this.word>>>32-N;if(x>32&&Z.logger.error("Cannot read more than 32 bits at a time"),this.bitsAvailable-=N,this.bitsAvailable>0)this.word<<=N;else{if(!(this.bytesAvailable>0))throw new Error("no bits available");this.loadWord()}return(N=x-N)>0&&this.bitsAvailable?U<<N|this.readBits(N):U},K.skipLZ=function(){var x;for(x=0;x<this.bitsAvailable;++x)if(this.word&2147483648>>>x)return this.word<<=x,this.bitsAvailable-=x,x;return this.loadWord(),x+this.skipLZ()},K.skipUEG=function(){this.skipBits(1+this.skipLZ())},K.skipEG=function(){this.skipBits(1+this.skipLZ())},K.readUEG=function(){var x=this.skipLZ();return this.readBits(x+1)-1},K.readEG=function(){var x=this.readUEG();return 1&x?1+x>>>1:-1*(x>>>1)},K.readBoolean=function(){return this.readBits(1)===1},K.readUByte=function(){return this.readBits(8)},K.readUShort=function(){return this.readBits(16)},K.readUInt=function(){return this.readBits(32)},K.skipScalingList=function(x){for(var N=8,U=8,W=0;W<x;W++)U!==0&&(U=(N+this.readEG()+256)%256),N=U===0?N:U},K.readSPS=function(){var x,N,U,W=0,z=0,te=0,be=0,_e=this.readUByte.bind(this),Re=this.readBits.bind(this),Fe=this.readUEG.bind(this),$e=this.readBoolean.bind(this),Be=this.skipBits.bind(this),Je=this.skipEG.bind(this),ut=this.skipUEG.bind(this),pt=this.skipScalingList.bind(this);_e();var Xe=_e();if(Re(5),Be(3),_e(),ut(),Xe===100||Xe===110||Xe===122||Xe===244||Xe===44||Xe===83||Xe===86||Xe===118||Xe===128){var St=Fe();if(St===3&&Be(1),ut(),ut(),Be(1),$e())for(N=St!==3?8:12,U=0;U<N;U++)$e()&&pt(U<6?16:64)}ut();var Yt=Fe();if(Yt===0)Fe();else if(Yt===1)for(Be(1),Je(),Je(),x=Fe(),U=0;U<x;U++)Je();ut(),Be(1);var _t=Fe(),Wt=Fe(),Ut=Re(1);Ut===0&&Be(1),Be(1),$e()&&(W=Fe(),z=Fe(),te=Fe(),be=Fe());var tt=[1,1];if($e()&&$e())switch(_e()){case 1:tt=[1,1];break;case 2:tt=[12,11];break;case 3:tt=[10,11];break;case 4:tt=[16,11];break;case 5:tt=[40,33];break;case 6:tt=[24,11];break;case 7:tt=[20,11];break;case 8:tt=[32,11];break;case 9:tt=[80,33];break;case 10:tt=[18,11];break;case 11:tt=[15,11];break;case 12:tt=[64,33];break;case 13:tt=[160,99];break;case 14:tt=[4,3];break;case 15:tt=[3,2];break;case 16:tt=[2,1];break;case 255:tt=[_e()<<8|_e(),_e()<<8|_e()]}return{width:Math.ceil(16*(_t+1)-2*W-2*z),height:(2-Ut)*(Wt+1)*16-(Ut?2:4)*(te+be),pixelRatio:tt}},K.readSliceType=function(){return this.readUByte(),this.readUEG(),this.readUEG()},ie}(),ve=function(){function ie(x,N,U){this.keyData=void 0,this.decrypter=void 0,this.keyData=U,this.decrypter=new A.default(N,{removePKCS7Padding:!1})}var K=ie.prototype;return K.decryptBuffer=function(x){return this.decrypter.decrypt(x,this.keyData.key.buffer,this.keyData.iv.buffer)},K.decryptAacSample=function(x,N,U){var W=this,z=x[N].unit;if(!(z.length<=16)){var te=z.subarray(16,z.length-z.length%16),be=te.buffer.slice(te.byteOffset,te.byteOffset+te.length);this.decryptBuffer(be).then(function(_e){var Re=new Uint8Array(_e);z.set(Re,16),W.decrypter.isSync()||W.decryptAacSamples(x,N+1,U)})}},K.decryptAacSamples=function(x,N,U){for(;;N++){if(N>=x.length)return void U();if(!(x[N].unit.length<32||(this.decryptAacSample(x,N,U),this.decrypter.isSync())))return}},K.getAvcEncryptedData=function(x){for(var N=16*Math.floor((x.length-48)/160)+16,U=new Int8Array(N),W=0,z=32;z<x.length-16;z+=160,W+=16)U.set(x.subarray(z,z+16),W);return U},K.getAvcDecryptedUnit=function(x,N){for(var U=new Uint8Array(N),W=0,z=32;z<x.length-16;z+=160,W+=16)x.set(U.subarray(W,W+16),z);return x},K.decryptAvcSample=function(x,N,U,W,z){var te=this,be=(0,J.discardEPB)(z.data),_e=this.getAvcEncryptedData(be);this.decryptBuffer(_e.buffer).then(function(Re){z.data=te.getAvcDecryptedUnit(be,Re),te.decrypter.isSync()||te.decryptAvcSamples(x,N,U+1,W)})},K.decryptAvcSamples=function(x,N,U,W){if(x instanceof Uint8Array)throw new Error("Cannot decrypt samples of type Uint8Array");for(;;N++,U=0){if(N>=x.length)return void W();for(var z=x[N].units;!(U>=z.length);U++){var te=z[U];if(!(te.data.length<=48||te.type!==1&&te.type!==5||(this.decryptAvcSample(x,N,U,W,te),this.decrypter.isSync())))return}}},ie}();function Le(){return Le=Object.assign?Object.assign.bind():function(ie){for(var K=1;K<arguments.length;K++){var x=arguments[K];for(var N in x)Object.prototype.hasOwnProperty.call(x,N)&&(ie[N]=x[N])}return ie},Le.apply(this,arguments)}var pe=188;function R(ie,K,x,N){return{key:ie,frame:!1,pts:K,dts:x,units:[],debug:N,length:0}}function F(ie,K){return((31&ie[K+1])<<8)+ie[K+2]}function O(ie,K){return(31&ie[K+10])<<8|ie[K+11]}function ne(ie,K,x,N){var U={audio:-1,avc:-1,id3:-1,segmentCodec:"aac"},W=K+3+((15&ie[K+1])<<8|ie[K+2])-4;for(K+=12+((15&ie[K+10])<<8|ie[K+11]);K<W;){var z=F(ie,K);switch(ie[K]){case 207:if(!N){Z.logger.log("ADTS AAC with AES-128-CBC frame encryption found in unencrypted stream");break}case 15:U.audio===-1&&(U.audio=z);break;case 21:U.id3===-1&&(U.id3=z);break;case 219:if(!N){Z.logger.log("H.264 with AES-128-CBC slice encryption found in unencrypted stream");break}case 27:U.avc===-1&&(U.avc=z);break;case 3:case 4:x.mpeg!==!0&&x.mp3!==!0?Z.logger.log("MPEG audio found, not supported in this browser"):U.audio===-1&&(U.audio=z,U.segmentCodec="mp3");break;case 36:Z.logger.warn("Unsupported HEVC stream type found")}K+=5+((15&ie[K+3])<<8|ie[K+4])}return U}function ue(ie){var K,x,N,U,W,z=0,te=ie.data;if(!ie||ie.size===0)return null;for(;te[0].length<19&&te.length>1;){var be=new Uint8Array(te[0].length+te[1].length);be.set(te[0]),be.set(te[1],te[0].length),te[0]=be,te.splice(1,1)}if(((K=te[0])[0]<<16)+(K[1]<<8)+K[2]===1){if((x=(K[4]<<8)+K[5])&&x>ie.size-6)return null;var _e=K[7];192&_e&&(U=536870912*(14&K[9])+4194304*(255&K[10])+16384*(254&K[11])+128*(255&K[12])+(254&K[13])/2,64&_e?U-(W=536870912*(14&K[14])+4194304*(255&K[15])+16384*(254&K[16])+128*(255&K[17])+(254&K[18])/2)>54e5&&(Z.logger.warn(Math.round((U-W)/9e4)+"s delta between PTS and DTS, align them"),U=W):W=U);var Re=(N=K[8])+9;if(ie.size<=Re)return null;ie.size-=Re;for(var Fe=new Uint8Array(ie.size),$e=0,Be=te.length;$e<Be;$e++){var Je=(K=te[$e]).byteLength;if(Re){if(Re>Je){Re-=Je;continue}K=K.subarray(Re),Je-=Re,Re=0}Fe.set(K,z),z+=Je}return x&&(x-=N+3),{data:Fe,pts:U,dts:W,len:x}}return null}function Te(ie,K){if(ie.units.length&&ie.frame){if(ie.pts===void 0){var x=K.samples,N=x.length;if(!N)return void K.dropped++;var U=x[N-1];ie.pts=U.pts,ie.dts=U.dts}K.samples.push(ie)}ie.debug.length&&Z.logger.log(ie.pts+"/"+ie.dts+":"+ie.debug)}const De=function(){function ie(x,N,U){this.observer=void 0,this.config=void 0,this.typeSupported=void 0,this.sampleAes=null,this.pmtParsed=!1,this.audioCodec=void 0,this.videoCodec=void 0,this._duration=0,this._pmtId=-1,this._avcTrack=void 0,this._audioTrack=void 0,this._id3Track=void 0,this._txtTrack=void 0,this.aacOverFlow=null,this.avcSample=null,this.remainderData=null,this.observer=x,this.config=N,this.typeSupported=U}ie.probe=function(x){var N=ie.syncOffset(x);return N>0&&Z.logger.warn("MPEG2-TS detected but first sync word found @ offset "+N),N!==-1},ie.syncOffset=function(x){for(var N=x.length,U=Math.min(940,x.length-pe)+1,W=0;W<U;){for(var z=!1,te=W;te<N&&x[te]===71;te+=pe)if(z||F(x,te)!==0||(z=!0),z&&te+pe>U)return W;W++}return-1},ie.createTrack=function(x,N){return{container:x==="video"||x==="audio"?"video/mp2t":void 0,type:x,id:J.RemuxerTrackIdConfig[x],pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:0,duration:x==="audio"?N:void 0}};var K=ie.prototype;return K.resetInitSegment=function(x,N,U,W){this.pmtParsed=!1,this._pmtId=-1,this._avcTrack=ie.createTrack("video"),this._audioTrack=ie.createTrack("audio",W),this._id3Track=ie.createTrack("id3"),this._txtTrack=ie.createTrack("text"),this._audioTrack.segmentCodec="aac",this.aacOverFlow=null,this.avcSample=null,this.remainderData=null,this.audioCodec=N,this.videoCodec=U,this._duration=W},K.resetTimeStamp=function(){},K.resetContiguity=function(){var x=this._audioTrack,N=this._avcTrack,U=this._id3Track;x&&(x.pesData=null),N&&(N.pesData=null),U&&(U.pesData=null),this.aacOverFlow=null,this.avcSample=null,this.remainderData=null},K.demux=function(x,N,U,W){var z;U===void 0&&(U=!1),W===void 0&&(W=!1),U||(this.sampleAes=null);var te=this._avcTrack,be=this._audioTrack,_e=this._id3Track,Re=this._txtTrack,Fe=te.pid,$e=te.pesData,Be=be.pid,Je=_e.pid,ut=be.pesData,pt=_e.pesData,Xe=null,St=this.pmtParsed,Yt=this._pmtId,_t=x.length;if(this.remainderData&&(_t=(x=(0,J.appendUint8Array)(this.remainderData,x)).length,this.remainderData=null),_t<pe&&!W)return this.remainderData=x,{audioTrack:be,videoTrack:te,id3Track:_e,textTrack:Re};var Wt=Math.max(0,ie.syncOffset(x));(_t-=(_t-Wt)%pe)<x.byteLength&&!W&&(this.remainderData=new Uint8Array(x.buffer,_t,x.buffer.byteLength-_t));for(var Ut=0,tt=Wt;tt<_t;tt+=pe)if(x[tt]===71){var Zt=!!(64&x[tt+1]),Sr=F(x,tt),Dt=void 0;if((48&x[tt+3])>>4>1){if((Dt=tt+5+x[tt+4])===tt+pe)continue}else Dt=tt+4;switch(Sr){case Fe:Zt&&($e&&(z=ue($e))&&this.parseAVCPES(te,Re,z,!1),$e={data:[],size:0}),$e&&($e.data.push(x.subarray(Dt,tt+pe)),$e.size+=tt+pe-Dt);break;case Be:if(Zt){if(ut&&(z=ue(ut)))switch(be.segmentCodec){case"aac":this.parseAACPES(be,z);break;case"mp3":this.parseMPEGPES(be,z)}ut={data:[],size:0}}ut&&(ut.data.push(x.subarray(Dt,tt+pe)),ut.size+=tt+pe-Dt);break;case Je:Zt&&(pt&&(z=ue(pt))&&this.parseID3PES(_e,z),pt={data:[],size:0}),pt&&(pt.data.push(x.subarray(Dt,tt+pe)),pt.size+=tt+pe-Dt);break;case 0:Zt&&(Dt+=x[Dt]+1),Yt=this._pmtId=O(x,Dt);break;case Yt:Zt&&(Dt+=x[Dt]+1);var $t=ne(x,Dt,this.typeSupported,U);(Fe=$t.avc)>0&&(te.pid=Fe),(Be=$t.audio)>0&&(be.pid=Be,be.segmentCodec=$t.segmentCodec),(Je=$t.id3)>0&&(_e.pid=Je),Xe===null||St||(Z.logger.warn("MPEG-TS PMT found at "+tt+" after unknown PID '"+Xe+"'. Backtracking to sync byte @"+Wt+" to parse all TS packets."),Xe=null,tt=Wt-188),St=this.pmtParsed=!0;break;case 17:case 8191:break;default:Xe=Sr}}else Ut++;Ut>0&&this.observer.emit(k.Events.ERROR,k.Events.ERROR,{type:_.ErrorTypes.MEDIA_ERROR,details:_.ErrorDetails.FRAG_PARSING_ERROR,fatal:!1,reason:"Found "+Ut+" TS packet/s that do not start with 0x47"}),te.pesData=$e,be.pesData=ut,_e.pesData=pt;var _r={audioTrack:be,videoTrack:te,id3Track:_e,textTrack:Re};return W&&this.extractRemainingSamples(_r),_r},K.flush=function(){var x,N=this.remainderData;return this.remainderData=null,x=N?this.demux(N,-1,!1,!0):{videoTrack:this._avcTrack,audioTrack:this._audioTrack,id3Track:this._id3Track,textTrack:this._txtTrack},this.extractRemainingSamples(x),this.sampleAes?this.decrypt(x,this.sampleAes):x},K.extractRemainingSamples=function(x){var N,U=x.audioTrack,W=x.videoTrack,z=x.id3Track,te=x.textTrack,be=W.pesData,_e=U.pesData,Re=z.pesData;if(be&&(N=ue(be))?(this.parseAVCPES(W,te,N,!0),W.pesData=null):W.pesData=be,_e&&(N=ue(_e))){switch(U.segmentCodec){case"aac":this.parseAACPES(U,N);break;case"mp3":this.parseMPEGPES(U,N)}U.pesData=null}else _e!=null&&_e.size&&Z.logger.log("last AAC PES packet truncated,might overlap between fragments"),U.pesData=_e;Re&&(N=ue(Re))?(this.parseID3PES(z,N),z.pesData=null):z.pesData=Re},K.demuxSampleAes=function(x,N,U){var W=this.demux(x,U,!0,!this.config.progressive),z=this.sampleAes=new ve(this.observer,this.config,N);return this.decrypt(W,z)},K.decrypt=function(x,N){return new Promise(function(U){var W=x.audioTrack,z=x.videoTrack;W.samples&&W.segmentCodec==="aac"?N.decryptAacSamples(W.samples,0,function(){z.samples?N.decryptAvcSamples(z.samples,0,0,function(){U(x)}):U(x)}):z.samples&&N.decryptAvcSamples(z.samples,0,0,function(){U(x)})})},K.destroy=function(){this._duration=0},K.parseAVCPES=function(x,N,U,W){var z,te=this,be=this.parseAVCNALu(x,U.data),_e=this.avcSample,Re=!1;U.data=null,_e&&be.length&&!x.audFound&&(Te(_e,x),_e=this.avcSample=R(!1,U.pts,U.dts,"")),be.forEach(function(Fe){switch(Fe.type){case 1:z=!0,_e||(_e=te.avcSample=R(!0,U.pts,U.dts,"")),_e.frame=!0;var $e=Fe.data;if(Re&&$e.length>4){var Be=new ce($e).readSliceType();Be!==2&&Be!==4&&Be!==7&&Be!==9||(_e.key=!0)}break;case 5:z=!0,_e||(_e=te.avcSample=R(!0,U.pts,U.dts,"")),_e.key=!0,_e.frame=!0;break;case 6:z=!0,(0,J.parseSEIMessageFromNALu)(Fe.data,1,U.pts,N.samples);break;case 7:if(z=!0,Re=!0,!x.sps){var Je=new ce(Fe.data).readSPS();x.width=Je.width,x.height=Je.height,x.pixelRatio=Je.pixelRatio,x.sps=[Fe.data],x.duration=te._duration;for(var ut=Fe.data.subarray(1,4),pt="avc1.",Xe=0;Xe<3;Xe++){var St=ut[Xe].toString(16);St.length<2&&(St="0"+St),pt+=St}x.codec=pt}break;case 8:z=!0,x.pps||(x.pps=[Fe.data]);break;case 9:z=!1,x.audFound=!0,_e&&Te(_e,x),_e=te.avcSample=R(!1,U.pts,U.dts,"");break;case 12:z=!0;break;default:z=!1,_e&&(_e.debug+="unknown NAL "+Fe.type+" ")}_e&&z&&_e.units.push(Fe)}),W&&_e&&(Te(_e,x),this.avcSample=null)},K.getLastNalUnit=function(x){var N,U,W=this.avcSample;if(W&&W.units.length!==0||(W=x[x.length-1]),(N=W)!==null&&N!==void 0&&N.units){var z=W.units;U=z[z.length-1]}return U},K.parseAVCNALu=function(x,N){var U,W,z=N.byteLength,te=x.naluState||0,be=te,_e=[],Re=0,Fe=-1,$e=0;for(te===-1&&(Fe=0,$e=31&N[0],te=0,Re=1);Re<z;)if(U=N[Re++],te)if(te!==1)if(U)if(U===1){if(Fe>=0){var Be={data:N.subarray(Fe,Re-te-1),type:$e};_e.push(Be)}else{var Je=this.getLastNalUnit(x.samples);if(Je&&(be&&Re<=4-be&&Je.state&&(Je.data=Je.data.subarray(0,Je.data.byteLength-be)),(W=Re-te-1)>0)){var ut=new Uint8Array(Je.data.byteLength+W);ut.set(Je.data,0),ut.set(N.subarray(0,W),Je.data.byteLength),Je.data=ut,Je.state=0}}Re<z?(Fe=Re,$e=31&N[Re],te=0):te=-1}else te=0;else te=3;else te=U?0:2;else te=U?0:1;if(Fe>=0&&te>=0){var pt={data:N.subarray(Fe,z),type:$e,state:te};_e.push(pt)}if(_e.length===0){var Xe=this.getLastNalUnit(x.samples);if(Xe){var St=new Uint8Array(Xe.data.byteLength+N.byteLength);St.set(Xe.data,0),St.set(N,Xe.data.byteLength),Xe.data=St}}return x.naluState=te,_e},K.parseAACPES=function(x,N){var U,W,z,te,be,_e=0,Re=this.aacOverFlow,Fe=N.data;if(Re){this.aacOverFlow=null;var $e=Re.missing,Be=Re.sample.unit.byteLength;if($e===-1){var Je=new Uint8Array(Be+Fe.byteLength);Je.set(Re.sample.unit,0),Je.set(Fe,Be),Fe=Je}else{var ut=Be-$e;Re.sample.unit.set(Fe.subarray(0,$e),ut),x.samples.push(Re.sample),_e=Re.missing}}for(U=_e,W=Fe.length;U<W-1&&!we(Fe,U);U++);if(U===_e||(U<W-1?(z="AAC PES did not start with ADTS header,offset:"+U,te=!1):(z="no ADTS header found in AAC PES",te=!0),Z.logger.warn("parsing error:"+z),this.observer.emit(k.Events.ERROR,k.Events.ERROR,{type:_.ErrorTypes.MEDIA_ERROR,details:_.ErrorDetails.FRAG_PARSING_ERROR,fatal:te,reason:z}),!te)){if(se(x,this.observer,Fe,U,this.audioCodec),N.pts!==void 0)be=N.pts;else{if(!Re)return void Z.logger.warn("[tsdemuxer]: AAC PES unknown PTS");var pt=I(x.samplerate);be=Re.sample.pts+pt}for(var Xe,St=0;U<W;){if(U+=(Xe=q(x,Fe,U,be,St)).length,Xe.missing){this.aacOverFlow=Xe;break}for(St++;U<W-1&&!we(Fe,U);U++);}}},K.parseMPEGPES=function(x,N){var U=N.data,W=U.length,z=0,te=0,be=N.pts;if(be!==void 0)for(;te<W;)if(X(U,te)){var _e=et(x,U,te,be,z);if(!_e)break;te+=_e.length,z++}else te++;else Z.logger.warn("[tsdemuxer]: MPEG PES unknown PTS")},K.parseID3PES=function(x,N){if(N.pts!==void 0){var U=Le({},N,{type:this._avcTrack?P.MetadataSchema.emsg:P.MetadataSchema.audioId3,duration:Number.POSITIVE_INFINITY});x.samples.push(U)}else Z.logger.warn("[tsdemuxer]: ID3 PES unknown PTS")},ie}();function Ae(ie,K){return Ae=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(x,N){return x.__proto__=N,x},Ae(ie,K)}const Ie=function(ie){var K,x;function N(){return ie.apply(this,arguments)||this}x=ie,(K=N).prototype=Object.create(x.prototype),K.prototype.constructor=K,Ae(K,x);var U=N.prototype;return U.resetInitSegment=function(W,z,te,be){ie.prototype.resetInitSegment.call(this,W,z,te,be),this._audioTrack={container:"audio/mpeg",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"mp3",samples:[],manifestCodec:z,duration:be,inputTimeScale:9e4,dropped:0}},N.probe=function(W){if(!W)return!1;for(var z=(w.getID3Data(W,0)||[]).length,te=W.length;z<te;z++)if(V(W,z))return Z.logger.log("MPEG Audio sync word found !"),!0;return!1},U.canParse=function(W,z){return function(te,be){return M(te,be)&&4<=te.length-be}(W,z)},U.appendFrame=function(W,z,te){if(this.basePTS!==null)return et(W,z,te,this.basePTS,this.frameIndex)},N}(ae);var ye=b(524),Me=b(923);function Ce(ie,K){var x=ie==null?void 0:ie.codec;return x&&x.length>4?x:x==="hvc1"||x==="hev1"?"hvc1.1.c.L120.90":x==="av01"?"av01.0.04M.08":x==="avc1"||K===Me.ElementaryStreamTypes.VIDEO?"avc1.42e01e":"mp4a.40.5"}const Ne=function(){function ie(){this.emitInitSegment=!1,this.audioCodec=void 0,this.videoCodec=void 0,this.initData=void 0,this.initPTS=void 0,this.initTracks=void 0,this.lastEndTime=null}var K=ie.prototype;return K.destroy=function(){},K.resetTimeStamp=function(x){this.initPTS=x,this.lastEndTime=null},K.resetNextTimestamp=function(){this.lastEndTime=null},K.resetInitSegment=function(x,N,U,W){this.audioCodec=N,this.videoCodec=U,this.generateInitSegment((0,J.patchEncyptionData)(x,W)),this.emitInitSegment=!0},K.generateInitSegment=function(x){var N=this.audioCodec,U=this.videoCodec;if(!x||!x.byteLength)return this.initTracks=void 0,void(this.initData=void 0);var W=this.initData=(0,J.parseInitSegment)(x);N||(N=Ce(W.audio,Me.ElementaryStreamTypes.AUDIO)),U||(U=Ce(W.video,Me.ElementaryStreamTypes.VIDEO));var z={};W.audio&&W.video?z.audiovideo={container:"video/mp4",codec:N+","+U,initSegment:x,id:"main"}:W.audio?z.audio={container:"audio/mp4",codec:N,initSegment:x,id:"audio"}:W.video?z.video={container:"video/mp4",codec:U,initSegment:x,id:"main"}:Z.logger.warn("[passthrough-remuxer.ts]: initSegment does not contain moov or trak boxes."),this.initTracks=z},K.remux=function(x,N,U,W,z){var te,be=this.initPTS,_e=this.lastEndTime,Re={audio:void 0,video:void 0,text:W,id3:U,initSegment:void 0};(0,y.isFiniteNumber)(_e)||(_e=this.lastEndTime=z||0);var Fe=N.samples;if(!Fe||!Fe.length)return Re;var $e={initPTS:void 0,timescale:1},Be=this.initData;if(Be&&Be.length||(this.generateInitSegment(Fe),Be=this.initData),!Be||!Be.length)return Z.logger.warn("[passthrough-remuxer.ts]: Failed to generate initSegment."),Re;this.emitInitSegment&&($e.tracks=this.initTracks,this.emitInitSegment=!1);var Je=(0,J.getStartDTS)(Be,Fe);(0,y.isFiniteNumber)(be)||(this.initPTS=$e.initPTS=be=Je-z);var ut=(0,J.getDuration)(Fe,Be),pt=x?Je-be:_e,Xe=pt+ut;(0,J.offsetStartDTS)(Be,Fe,be),ut>0?this.lastEndTime=Xe:(Z.logger.warn("Duration parsed from mp4 should be greater than zero"),this.resetNextTimestamp());var St=!!Be.audio,Yt=!!Be.video,_t="";St&&(_t+="audio"),Yt&&(_t+="video");var Wt={data1:Fe,startPTS:pt,startDTS:pt,endPTS:Xe,endDTS:Xe,type:_t,hasAudio:St,hasVideo:Yt,nb:1,dropped:0};Re.audio=Wt.type==="audio"?Wt:void 0,Re.video=Wt.type!=="audio"?Wt:void 0,Re.initSegment=$e;var Ut=(te=this.initPTS)!=null?te:0;return Re.id3=(0,ye.flushTextTrackMetadataCueSamples)(U,z,Ut,Ut),W.samples.length&&(Re.text=(0,ye.flushTextTrackUserdataCueSamples)(W,z,Ut)),Re},ie}();var Ve;try{Ve=self.performance.now.bind(self.performance)}catch{Z.logger.debug("Unable to use Performance API on this environment"),Ve=self.Date.now}var ze=[{demux:ge,remux:Ne},{demux:De,remux:ye.default},{demux:he,remux:ye.default},{demux:Ie,remux:ye.default}],it=function(){function ie(x,N,U,W,z){this.async=!1,this.observer=void 0,this.typeSupported=void 0,this.config=void 0,this.vendor=void 0,this.id=void 0,this.demuxer=void 0,this.remuxer=void 0,this.decrypter=void 0,this.probe=void 0,this.decryptionPromise=null,this.transmuxConfig=void 0,this.currentTransmuxState=void 0,this.observer=x,this.typeSupported=N,this.config=U,this.vendor=W,this.id=z}var K=ie.prototype;return K.configure=function(x){this.transmuxConfig=x,this.decrypter&&this.decrypter.reset()},K.push=function(x,N,U,W){var z=this,te=U.transmuxing;te.executeStart=Ve();var be=new Uint8Array(x),_e=this.currentTransmuxState,Re=this.transmuxConfig;W&&(this.currentTransmuxState=W);var Fe=W||_e,$e=Fe.contiguous,Be=Fe.discontinuity,Je=Fe.trackSwitch,ut=Fe.accurateTimeOffset,pt=Fe.timeOffset,Xe=Fe.initSegmentChange,St=Re.audioCodec,Yt=Re.videoCodec,_t=Re.defaultInitPts,Wt=Re.duration,Ut=Re.initSegmentData,tt=function(ln,Or){var Pt=null;return ln.byteLength>0&&Or!=null&&Or.key!=null&&Or.iv!==null&&Or.method!=null&&(Pt=Or),Pt}(be,N);if(tt&&tt.method==="AES-128"){var Zt=this.getDecrypter();if(!Zt.isSync())return this.decryptionPromise=Zt.webCryptoDecrypt(be,tt.key.buffer,tt.iv.buffer).then(function(ln){var Or=z.push(ln,null,U);return z.decryptionPromise=null,Or}),this.decryptionPromise;var Sr=Zt.softwareDecrypt(be,tt.key.buffer,tt.iv.buffer);if(U.part>-1&&(Sr=Zt.flush()),!Sr)return te.executeEnd=Ve(),nt(U);be=new Uint8Array(Sr)}var Dt=this.needsProbing(Be,Je);Dt&&this.configureTransmuxer(be),(Be||Je||Xe||Dt)&&this.resetInitSegment(Ut,St,Yt,Wt,N),(Be||Xe||Dt)&&this.resetInitialTimestamp(_t),$e||this.resetContiguity();var $t=this.transmux(be,tt,pt,ut,U),_r=this.currentTransmuxState;return _r.contiguous=!0,_r.discontinuity=!1,_r.trackSwitch=!1,te.executeEnd=Ve(),$t},K.flush=function(x){var N=this,U=x.transmuxing;U.executeStart=Ve();var W=this.decrypter,z=this.currentTransmuxState,te=this.decryptionPromise;if(te)return te.then(function(){return N.flush(x)});var be=[],_e=z.timeOffset;if(W){var Re=W.flush();Re&&be.push(this.push(Re,null,x))}var Fe=this.demuxer,$e=this.remuxer;if(!Fe||!$e)return this.observer.emit(k.Events.ERROR,k.Events.ERROR,{type:_.ErrorTypes.MEDIA_ERROR,details:_.ErrorDetails.FRAG_PARSING_ERROR,fatal:!0,reason:"no demux matching with content found"}),U.executeEnd=Ve(),[nt(x)];var Be=Fe.flush(_e);return mt(Be)?Be.then(function(Je){return N.flushRemux(be,Je,x),be}):(this.flushRemux(be,Be,x),be)},K.flushRemux=function(x,N,U){var W=N.audioTrack,z=N.videoTrack,te=N.id3Track,be=N.textTrack,_e=this.currentTransmuxState,Re=_e.accurateTimeOffset,Fe=_e.timeOffset;Z.logger.log("[transmuxer.ts]: Flushed fragment "+U.sn+(U.part>-1?" p: "+U.part:"")+" of level "+U.level);var $e=this.remuxer.remux(W,z,te,be,Fe,Re,!0,this.id);x.push({remuxResult:$e,chunkMeta:U}),U.transmuxing.executeEnd=Ve()},K.resetInitialTimestamp=function(x){var N=this.demuxer,U=this.remuxer;N&&U&&(N.resetTimeStamp(x),U.resetTimeStamp(x))},K.resetContiguity=function(){var x=this.demuxer,N=this.remuxer;x&&N&&(x.resetContiguity(),N.resetNextTimestamp())},K.resetInitSegment=function(x,N,U,W,z){var te=this.demuxer,be=this.remuxer;te&&be&&(te.resetInitSegment(x,N,U,W),be.resetInitSegment(x,N,U,z))},K.destroy=function(){this.demuxer&&(this.demuxer.destroy(),this.demuxer=void 0),this.remuxer&&(this.remuxer.destroy(),this.remuxer=void 0)},K.transmux=function(x,N,U,W,z){return N&&N.method==="SAMPLE-AES"?this.transmuxSampleAes(x,N,U,W,z):this.transmuxUnencrypted(x,U,W,z)},K.transmuxUnencrypted=function(x,N,U,W){var z=this.demuxer.demux(x,N,!1,!this.config.progressive),te=z.audioTrack,be=z.videoTrack,_e=z.id3Track,Re=z.textTrack;return{remuxResult:this.remuxer.remux(te,be,_e,Re,N,U,!1,this.id),chunkMeta:W}},K.transmuxSampleAes=function(x,N,U,W,z){var te=this;return this.demuxer.demuxSampleAes(x,N,U).then(function(be){return{remuxResult:te.remuxer.remux(be.audioTrack,be.videoTrack,be.id3Track,be.textTrack,U,W,!1,te.id),chunkMeta:z}})},K.configureTransmuxer=function(x){for(var N,U=this.config,W=this.observer,z=this.typeSupported,te=this.vendor,be=0,_e=ze.length;be<_e;be++)if(ze[be].demux.probe(x)){N=ze[be];break}N||(Z.logger.warn("Failed to find demuxer by probing frag, treating as mp4 passthrough"),N={demux:ge,remux:Ne});var Re=this.demuxer,Fe=this.remuxer,$e=N.remux,Be=N.demux;Fe&&Fe instanceof $e||(this.remuxer=new $e(W,U,z,te)),Re&&Re instanceof Be||(this.demuxer=new Be(W,U,z),this.probe=Be.probe)},K.needsProbing=function(x,N){return!this.demuxer||!this.remuxer||x||N},K.getDecrypter=function(){var x=this.decrypter;return x||(x=this.decrypter=new A.default(this.config)),x},ie}(),nt=function(ie){return{remuxResult:{},chunkMeta:ie}};function mt(ie){return"then"in ie&&ie.then instanceof Function}var wt=function(ie,K,x,N,U){this.audioCodec=void 0,this.videoCodec=void 0,this.initSegmentData=void 0,this.duration=void 0,this.defaultInitPts=void 0,this.audioCodec=ie,this.videoCodec=K,this.initSegmentData=x,this.duration=N,this.defaultInitPts=U},xt=function(ie,K,x,N,U,W){this.discontinuity=void 0,this.contiguous=void 0,this.accurateTimeOffset=void 0,this.trackSwitch=void 0,this.timeOffset=void 0,this.initSegmentChange=void 0,this.discontinuity=ie,this.contiguous=K,this.accurateTimeOffset=x,this.trackSwitch=N,this.timeOffset=U,this.initSegmentChange=W}},973:(E,S,b)=>{var k,_;b.r(S),b.d(S,{ErrorDetails:()=>_,ErrorTypes:()=>k}),function(A){A.NETWORK_ERROR="networkError",A.MEDIA_ERROR="mediaError",A.KEY_SYSTEM_ERROR="keySystemError",A.MUX_ERROR="muxError",A.OTHER_ERROR="otherError"}(k||(k={})),function(A){A.KEY_SYSTEM_NO_KEYS="keySystemNoKeys",A.KEY_SYSTEM_NO_ACCESS="keySystemNoAccess",A.KEY_SYSTEM_NO_SESSION="keySystemNoSession",A.KEY_SYSTEM_NO_CONFIGURED_LICENSE="keySystemNoConfiguredLicense",A.KEY_SYSTEM_LICENSE_REQUEST_FAILED="keySystemLicenseRequestFailed",A.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED="keySystemServerCertificateRequestFailed",A.KEY_SYSTEM_SERVER_CERTIFICATE_UPDATE_FAILED="keySystemServerCertificateUpdateFailed",A.KEY_SYSTEM_SESSION_UPDATE_FAILED="keySystemSessionUpdateFailed",A.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED="keySystemStatusOutputRestricted",A.KEY_SYSTEM_STATUS_INTERNAL_ERROR="keySystemStatusInternalError",A.MANIFEST_LOAD_ERROR="manifestLoadError",A.MANIFEST_LOAD_TIMEOUT="manifestLoadTimeOut",A.MANIFEST_PARSING_ERROR="manifestParsingError",A.MANIFEST_INCOMPATIBLE_CODECS_ERROR="manifestIncompatibleCodecsError",A.LEVEL_EMPTY_ERROR="levelEmptyError",A.LEVEL_LOAD_ERROR="levelLoadError",A.LEVEL_LOAD_TIMEOUT="levelLoadTimeOut",A.LEVEL_SWITCH_ERROR="levelSwitchError",A.AUDIO_TRACK_LOAD_ERROR="audioTrackLoadError",A.AUDIO_TRACK_LOAD_TIMEOUT="audioTrackLoadTimeOut",A.SUBTITLE_LOAD_ERROR="subtitleTrackLoadError",A.SUBTITLE_TRACK_LOAD_TIMEOUT="subtitleTrackLoadTimeOut",A.FRAG_LOAD_ERROR="fragLoadError",A.FRAG_LOAD_TIMEOUT="fragLoadTimeOut",A.FRAG_DECRYPT_ERROR="fragDecryptError",A.FRAG_PARSING_ERROR="fragParsingError",A.REMUX_ALLOC_ERROR="remuxAllocError",A.KEY_LOAD_ERROR="keyLoadError",A.KEY_LOAD_TIMEOUT="keyLoadTimeOut",A.BUFFER_ADD_CODEC_ERROR="bufferAddCodecError",A.BUFFER_INCOMPATIBLE_CODECS_ERROR="bufferIncompatibleCodecsError",A.BUFFER_APPEND_ERROR="bufferAppendError",A.BUFFER_APPENDING_ERROR="bufferAppendingError",A.BUFFER_STALLED_ERROR="bufferStalledError",A.BUFFER_FULL_ERROR="bufferFullError",A.BUFFER_SEEK_OVER_HOLE="bufferSeekOverHole",A.BUFFER_NUDGE_ON_STALL="bufferNudgeOnStall",A.INTERNAL_EXCEPTION="internalException",A.INTERNAL_ABORTED="aborted",A.UNKNOWN="unknown"}(_||(_={}))},851:(E,S,b)=>{var k;b.r(S),b.d(S,{Events:()=>k}),function(_){_.MEDIA_ATTACHING="hlsMediaAttaching",_.MEDIA_ATTACHED="hlsMediaAttached",_.MEDIA_DETACHING="hlsMediaDetaching",_.MEDIA_DETACHED="hlsMediaDetached",_.BUFFER_RESET="hlsBufferReset",_.BUFFER_CODECS="hlsBufferCodecs",_.BUFFER_CREATED="hlsBufferCreated",_.BUFFER_APPENDING="hlsBufferAppending",_.BUFFER_APPENDED="hlsBufferAppended",_.BUFFER_EOS="hlsBufferEos",_.BUFFER_FLUSHING="hlsBufferFlushing",_.BUFFER_FLUSHED="hlsBufferFlushed",_.MANIFEST_LOADING="hlsManifestLoading",_.MANIFEST_LOADED="hlsManifestLoaded",_.MANIFEST_PARSED="hlsManifestParsed",_.LEVEL_SWITCHING="hlsLevelSwitching",_.LEVEL_SWITCHED="hlsLevelSwitched",_.LEVEL_LOADING="hlsLevelLoading",_.LEVEL_LOADED="hlsLevelLoaded",_.LEVEL_UPDATED="hlsLevelUpdated",_.LEVEL_PTS_UPDATED="hlsLevelPtsUpdated",_.LEVELS_UPDATED="hlsLevelsUpdated",_.AUDIO_TRACKS_UPDATED="hlsAudioTracksUpdated",_.AUDIO_TRACK_SWITCHING="hlsAudioTrackSwitching",_.AUDIO_TRACK_SWITCHED="hlsAudioTrackSwitched",_.AUDIO_TRACK_LOADING="hlsAudioTrackLoading",_.AUDIO_TRACK_LOADED="hlsAudioTrackLoaded",_.SUBTITLE_TRACKS_UPDATED="hlsSubtitleTracksUpdated",_.SUBTITLE_TRACKS_CLEARED="hlsSubtitleTracksCleared",_.SUBTITLE_TRACK_SWITCH="hlsSubtitleTrackSwitch",_.SUBTITLE_TRACK_LOADING="hlsSubtitleTrackLoading",_.SUBTITLE_TRACK_LOADED="hlsSubtitleTrackLoaded",_.SUBTITLE_FRAG_PROCESSED="hlsSubtitleFragProcessed",_.CUES_PARSED="hlsCuesParsed",_.NON_NATIVE_TEXT_TRACKS_FOUND="hlsNonNativeTextTracksFound",_.INIT_PTS_FOUND="hlsInitPtsFound",_.FRAG_LOADING="hlsFragLoading",_.FRAG_LOAD_EMERGENCY_ABORTED="hlsFragLoadEmergencyAborted",_.FRAG_LOADED="hlsFragLoaded",_.FRAG_DECRYPTED="hlsFragDecrypted",_.FRAG_PARSING_INIT_SEGMENT="hlsFragParsingInitSegment",_.FRAG_PARSING_USERDATA="hlsFragParsingUserdata",_.FRAG_PARSING_METADATA="hlsFragParsingMetadata",_.FRAG_PARSED="hlsFragParsed",_.FRAG_BUFFERED="hlsFragBuffered",_.FRAG_CHANGED="hlsFragChanged",_.FPS_DROP="hlsFpsDrop",_.FPS_DROP_LEVEL_CAPPING="hlsFpsDropLevelCapping",_.ERROR="hlsError",_.DESTROYING="hlsDestroying",_.KEY_LOADING="hlsKeyLoading",_.KEY_LOADED="hlsKeyLoaded",_.LIVE_BACK_BUFFER_REACHED="hlsLiveBackBufferReached",_.BACK_BUFFER_REACHED="hlsBackBufferReached"}(k||(k={}))},76:(E,S,b)=>{b.r(S),b.d(S,{default:()=>Yl});var k,_=b(945),A=b(965),y=b(851),w=b(973),P=b(93),oe=/^(\d+)x(\d+)$/,J=/\s*(.+?)\s*=((?:\".*?\")|.*?)(?:,|$)/g,Y=function(){function v(t){for(var n in typeof t=="string"&&(t=v.parseAttrList(t)),t)t.hasOwnProperty(n)&&(this[n]=t[n])}var f=v.prototype;return f.decimalInteger=function(t){var n=parseInt(this[t],10);return n>Number.MAX_SAFE_INTEGER?1/0:n},f.hexadecimalInteger=function(t){if(this[t]){var n=(this[t]||"0x").slice(2);n=(1&n.length?"0":"")+n;for(var a=new Uint8Array(n.length/2),s=0;s<n.length/2;s++)a[s]=parseInt(n.slice(2*s,2*s+2),16);return a}return null},f.hexadecimalIntegerAsNumber=function(t){var n=parseInt(this[t],16);return n>Number.MAX_SAFE_INTEGER?1/0:n},f.decimalFloatingPoint=function(t){return parseFloat(this[t])},f.optionalFloat=function(t,n){var a=this[t];return a?parseFloat(a):n},f.enumeratedString=function(t){return this[t]},f.bool=function(t){return this[t]==="YES"},f.decimalResolution=function(t){var n=oe.exec(this[t]);if(n!==null)return{width:parseInt(n[1],10),height:parseInt(n[2],10)}},v.parseAttrList=function(t){var n,a={};for(J.lastIndex=0;(n=J.exec(t))!==null;){var s=n[2];s.indexOf('"')===0&&s.lastIndexOf('"')===s.length-1&&(s=s.slice(1,-1)),a[n[1]]=s}return a},v}();function $(){return $=Object.assign?Object.assign.bind():function(v){for(var f=1;f<arguments.length;f++){var t=arguments[f];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(v[n]=t[n])}return v},$.apply(this,arguments)}function H(v,f){for(var t=0;t<f.length;t++){var n=f[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(v,typeof(a=function(s,l){if(typeof s!="object"||s===null)return s;var i=s[Symbol.toPrimitive];if(i!==void 0){var u=i.call(s,l);if(typeof u!="object")return u;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(s)}(n.key,"string"))=="symbol"?a:String(a),n)}var a}(function(v){v.ID="ID",v.CLASS="CLASS",v.START_DATE="START-DATE",v.DURATION="DURATION",v.END_DATE="END-DATE",v.END_ON_NEXT="END-ON-NEXT",v.PLANNED_DURATION="PLANNED-DURATION",v.SCTE35_OUT="SCTE35-OUT",v.SCTE35_IN="SCTE35-IN"})(k||(k={}));var ae=function(){function v(n,a){if(this.attr=void 0,this._startDate=void 0,this._endDate=void 0,this._badValueForSameId=void 0,a){var s=a.attr;for(var l in s)if(Object.prototype.hasOwnProperty.call(n,l)&&n[l]!==s[l]){P.logger.warn('DATERANGE tag attribute: "'+l+'" does not match for tags with ID: "'+n.ID+'"'),this._badValueForSameId=l;break}n=$(new Y({}),s,n)}if(this.attr=n,this._startDate=new Date(n[k.START_DATE]),k.END_DATE in this.attr){var i=new Date(this.attr[k.END_DATE]);(0,A.isFiniteNumber)(i.getTime())&&(this._endDate=i)}}var f,t;return f=v,(t=[{key:"id",get:function(){return this.attr.ID}},{key:"class",get:function(){return this.attr.CLASS}},{key:"startDate",get:function(){return this._startDate}},{key:"endDate",get:function(){if(this._endDate)return this._endDate;var n=this.duration;return n!==null?new Date(this._startDate.getTime()+1e3*n):null}},{key:"duration",get:function(){if(k.DURATION in this.attr){var n=this.attr.decimalFloatingPoint(k.DURATION);if((0,A.isFiniteNumber)(n))return n}else if(this._endDate)return(this._endDate.getTime()-this._startDate.getTime())/1e3;return null}},{key:"plannedDuration",get:function(){return k.PLANNED_DURATION in this.attr?this.attr.decimalFloatingPoint(k.PLANNED_DURATION):null}},{key:"endOnNext",get:function(){return this.attr.bool(k.END_ON_NEXT)}},{key:"isValid",get:function(){return!!this.id&&!this._badValueForSameId&&(0,A.isFiniteNumber)(this.startDate.getTime())&&(this.duration===null||this.duration>=0)&&(!this.endOnNext||!!this.class)}}])&&H(f.prototype,t),Object.defineProperty(f,"prototype",{writable:!1}),v}(),Z=b(923);function re(v,f){for(var t=0;t<f.length;t++){var n=f[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(v,typeof(a=function(s,l){if(typeof s!="object"||s===null)return s;var i=s[Symbol.toPrimitive];if(i!==void 0){var u=i.call(s,l);if(typeof u!="object")return u;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(s)}(n.key,"string"))=="symbol"?a:String(a),n)}var a}var ee,ke,we,Ye=function(){function v(n){this.PTSKnown=!1,this.alignedSliding=!1,this.averagetargetduration=void 0,this.endCC=0,this.endSN=0,this.fragments=void 0,this.fragmentHint=void 0,this.partList=null,this.dateRanges=void 0,this.live=!0,this.ageHeader=0,this.advancedDateTime=void 0,this.updated=!0,this.advanced=!0,this.availabilityDelay=void 0,this.misses=0,this.startCC=0,this.startSN=0,this.startTimeOffset=null,this.targetduration=0,this.totalduration=0,this.type=null,this.url=void 0,this.m3u8="",this.version=null,this.canBlockReload=!1,this.canSkipUntil=0,this.canSkipDateRanges=!1,this.skippedSegments=0,this.recentlyRemovedDateranges=void 0,this.partHoldBack=0,this.holdBack=0,this.partTarget=0,this.preloadHint=void 0,this.renditionReports=void 0,this.tuneInGoal=0,this.deltaUpdateFailed=void 0,this.driftStartTime=0,this.driftEndTime=0,this.driftStart=0,this.driftEnd=0,this.encryptedFragments=void 0,this.fragments=[],this.encryptedFragments=[],this.dateRanges={},this.url=n}var f,t;return v.prototype.reloaded=function(n){if(!n)return this.advanced=!0,void(this.updated=!0);var a=this.lastPartSn-n.lastPartSn,s=this.lastPartIndex-n.lastPartIndex;this.updated=this.endSN!==n.endSN||!!s||!!a,this.advanced=this.endSN>n.endSN||a>0||a===0&&s>0,this.updated||this.advanced?this.misses=Math.floor(.6*n.misses):this.misses=n.misses+1,this.availabilityDelay=n.availabilityDelay},f=v,(t=[{key:"hasProgramDateTime",get:function(){return!!this.fragments.length&&(0,A.isFiniteNumber)(this.fragments[this.fragments.length-1].programDateTime)}},{key:"levelTargetDuration",get:function(){return this.averagetargetduration||this.targetduration||10}},{key:"drift",get:function(){var n=this.driftEndTime-this.driftStartTime;return n>0?1e3*(this.driftEnd-this.driftStart)/n:1}},{key:"edge",get:function(){return this.partEnd||this.fragmentEnd}},{key:"partEnd",get:function(){var n;return(n=this.partList)!==null&&n!==void 0&&n.length?this.partList[this.partList.length-1].end:this.fragmentEnd}},{key:"fragmentEnd",get:function(){var n;return(n=this.fragments)!==null&&n!==void 0&&n.length?this.fragments[this.fragments.length-1].end:0}},{key:"age",get:function(){return this.advancedDateTime?Math.max(Date.now()-this.advancedDateTime,0)/1e3:0}},{key:"lastPartIndex",get:function(){var n;return(n=this.partList)!==null&&n!==void 0&&n.length?this.partList[this.partList.length-1].index:-1}},{key:"lastPartSn",get:function(){var n;return(n=this.partList)!==null&&n!==void 0&&n.length?this.partList[this.partList.length-1].fragment.sn:this.endSN}}])&&re(f.prototype,t),Object.defineProperty(f,"prototype",{writable:!1}),v}();function se(v){return Uint8Array.from(atob(v),function(f){return f.charCodeAt(0)})}function I(v){return Uint8Array.from(unescape(encodeURIComponent(v)),function(f){return f.charCodeAt(0)})}function q(v){switch(v){case ke.FAIRPLAY:return ee.FAIRPLAY;case ke.PLAYREADY:return ee.PLAYREADY;case ke.WIDEVINE:return ee.WIDEVINE;case ke.CLEARKEY:return ee.CLEARKEY}}function B(v){switch(v){case ee.FAIRPLAY:return ke.FAIRPLAY;case ee.PLAYREADY:return ke.PLAYREADY;case ee.WIDEVINE:return ke.WIDEVINE;case ee.CLEARKEY:return ke.CLEARKEY}}function he(v){var f=v.drmSystems,t=v.widevineLicenseUrl,n=f?[ee.FAIRPLAY,ee.WIDEVINE,ee.PLAYREADY,ee.CLEARKEY].filter(function(a){return!!f[a]}):[];return!n[ee.WIDEVINE]&&t&&n.push(ee.WIDEVINE),n}(function(v){v.CLEARKEY="org.w3.clearkey",v.FAIRPLAY="com.apple.fps",v.PLAYREADY="com.microsoft.playready",v.WIDEVINE="com.widevine.alpha"})(ee||(ee={})),function(v){v.CLEARKEY="org.w3.clearkey",v.FAIRPLAY="com.apple.streamingkeydelivery",v.PLAYREADY="com.microsoft.playready",v.WIDEVINE="urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed"}(ke||(ke={})),function(v){v.WIDEVINE="edef8ba979d64acea3c827dcd51d21ed"}(we||(we={}));var Ee=typeof self<"u"&&self.navigator&&self.navigator.requestMediaKeySystemAccess?self.navigator.requestMediaKeySystemAccess.bind(self.navigator):null,ge=b(63),fe={},Ue=function(){function v(t,n,a,s,l){s===void 0&&(s=[1]),l===void 0&&(l=null),this.uri=void 0,this.method=void 0,this.keyFormat=void 0,this.keyFormatVersions=void 0,this.encrypted=void 0,this.isCommonEncryption=void 0,this.iv=null,this.key=null,this.keyId=null,this.pssh=null,this.method=t,this.uri=n,this.keyFormat=a,this.keyFormatVersions=s,this.iv=l,this.encrypted=!!t&&t!=="NONE",this.isCommonEncryption=this.encrypted&&t!=="AES-128"}v.clearKeyUriToKeyIdMap=function(){fe={}};var f=v.prototype;return f.isSupported=function(){if(this.method){if(this.method==="AES-128"||this.method==="NONE")return!0;switch(this.keyFormat){case"identity":return this.method==="SAMPLE-AES";case ke.FAIRPLAY:case ke.WIDEVINE:case ke.PLAYREADY:case ke.CLEARKEY:return["ISO-23001-7","SAMPLE-AES","SAMPLE-AES-CENC","SAMPLE-AES-CTR"].indexOf(this.method)!==-1}}return!1},f.getDecryptData=function(t){if(!this.encrypted||!this.uri)return null;if(this.method==="AES-128"&&this.uri&&!this.iv){typeof t!="number"&&(this.method!=="AES-128"||this.iv||P.logger.warn('missing IV for initialization segment with method="'+this.method+'" - compliance issue'),t=0);var n=function(G){for(var j=new Uint8Array(16),Q=12;Q<16;Q++)j[Q]=G>>8*(15-Q)&255;return j}(t);return new v(this.method,this.uri,"identity",this.keyFormatVersions,n)}var a=function(G){var j,Q,le=G.split(":"),me=null;if(le[0]==="data"&&le.length===2){var de=le[1].split(";"),Se=de[de.length-1].split(",");if(Se.length===2){var Ge=Se[0]==="base64",We=Se[1];Ge?(de.splice(-1,1),me=se(We)):(j=I(We).subarray(0,16),(Q=new Uint8Array(16)).set(j,16-j.length),me=Q)}}return me}(this.uri);if(a)switch(this.keyFormat){case ke.WIDEVINE:this.pssh=a,a.length>=22&&(this.keyId=a.subarray(a.length-22,a.length-6));break;case ke.PLAYREADY:var s=new Uint8Array([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]);this.pssh=(0,ge.mp4pssh)(s,null,a);var l=new Uint16Array(a.buffer,a.byteOffset,a.byteLength/2),i=String.fromCharCode.apply(null,Array.from(l)),u=i.substring(i.indexOf("<"),i.length),d=new DOMParser().parseFromString(u,"text/xml").getElementsByTagName("KID")[0];if(d){var g=d.childNodes[0]?d.childNodes[0].nodeValue:d.getAttribute("VALUE");if(g){var m=se(g).subarray(0,16);(function(G){var j=function(Q,le,me){var de=Q[le];Q[le]=Q[me],Q[me]=de};j(G,0,3),j(G,1,2),j(G,4,5),j(G,6,7)})(m),this.keyId=m}}break;default:var T=a.subarray(0,16);if(T.length!==16){var L=new Uint8Array(16);L.set(T,16-T.length),T=L}this.keyId=T}if(!this.keyId||this.keyId.byteLength!==16){var D=fe[this.uri];if(!D){var C=Object.keys(fe).length%Number.MAX_SAFE_INTEGER;D=new Uint8Array(16),new DataView(D.buffer,12,4).setUint32(0,C),fe[this.uri]=D}this.keyId=D}return this},v}(),He={audio:{a3ds:!0,"ac-3":!0,"ac-4":!0,alac:!0,alaw:!0,dra1:!0,"dts+":!0,"dts-":!0,dtsc:!0,dtse:!0,dtsh:!0,"ec-3":!0,enca:!0,g719:!0,g726:!0,m4ae:!0,mha1:!0,mha2:!0,mhm1:!0,mhm2:!0,mlpa:!0,mp4a:!0,"raw ":!0,Opus:!0,opus:!0,samr:!0,sawb:!0,sawp:!0,sevc:!0,sqcp:!0,ssmv:!0,twos:!0,ulaw:!0},video:{avc1:!0,avc2:!0,avc3:!0,avc4:!0,avcp:!0,av01:!0,drac:!0,dva1:!0,dvav:!0,dvh1:!0,dvhe:!0,encv:!0,hev1:!0,hvc1:!0,mjp2:!0,mp4v:!0,mvc1:!0,mvc2:!0,mvc3:!0,mvc4:!0,resv:!0,rv60:!0,s263:!0,svc1:!0,svc2:!0,"vc-1":!0,vp08:!0,vp09:!0},text:{stpp:!0,wvtt:!0}};function je(v,f){return MediaSource.isTypeSupported((f||"video")+'/mp4;codecs="'+v+'"')}function Pe(){return Pe=Object.assign?Object.assign.bind():function(v){for(var f=1;f<arguments.length;f++){var t=arguments[f];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(v[n]=t[n])}return v},Pe.apply(this,arguments)}var et=/#EXT-X-STREAM-INF:([^\r\n]*)(?:[\r\n](?:#[^\r\n]*)?)*([^\r\n]+)|#EXT-X-SESSION-DATA:([^\r\n]*)[\r\n]+|#EXT-X-SESSION-KEY:([^\n\r]*)[\r\n]+/g,dt=/#EXT-X-MEDIA:(.*)/g,M=new RegExp([/#EXTINF:\s*(\d*(?:\.\d+)?)(?:,(.*)\s+)?/.source,/(?!#) *(\S[\S ]*)/.source,/#EXT-X-BYTERANGE:*(.+)/.source,/#EXT-X-PROGRAM-DATE-TIME:(.+)/.source,/#.*/.source].join("|"),"g"),X=new RegExp([/#(EXTM3U)/.source,/#EXT-X-(DATERANGE|KEY|MAP|PART|PART-INF|PLAYLIST-TYPE|PRELOAD-HINT|RENDITION-REPORT|SERVER-CONTROL|SKIP|START):(.+)/.source,/#EXT-X-(BITRATE|DISCONTINUITY-SEQUENCE|MEDIA-SEQUENCE|TARGETDURATION|VERSION): *(\d+)/.source,/#EXT-X-(DISCONTINUITY|ENDLIST|GAP)/.source,/(#)([^:]*):(.*)/.source,/(#)(.*)(?:.*)\r?\n?/.source].join("|")),V=function(){function v(){}return v.findGroup=function(f,t){for(var n=0;n<f.length;n++){var a=f[n];if(a.id===t)return a}},v.convertAVC1ToAVCOTI=function(f){var t=f.split(".");if(t.length>2){var n=t.shift()+".";return(n+=parseInt(t.shift()).toString(16))+("000"+parseInt(t.shift()).toString(16)).slice(-4)}return f},v.resolve=function(f,t){return(0,_.buildAbsoluteURL)(t,f,{alwaysNormalize:!0})},v.parseMasterPlaylist=function(f,t){var n,a=[],s=[],l={},i=[],u=!1;for(et.lastIndex=0;(n=et.exec(f))!=null;)if(n[1]){var d,g=new Y(n[1]),m={attrs:g,bitrate:g.decimalInteger("AVERAGE-BANDWIDTH")||g.decimalInteger("BANDWIDTH"),name:g.NAME,url:v.resolve(n[2],t)},T=g.decimalResolution("RESOLUTION");T&&(m.width=T.width,m.height=T.height),ve((g.CODECS||"").split(/[ ,]+/).filter(function(G){return G}),m),m.videoCodec&&m.videoCodec.indexOf("avc1")!==-1&&(m.videoCodec=v.convertAVC1ToAVCOTI(m.videoCodec)),(d=m.unknownCodecs)!==null&&d!==void 0&&d.length||s.push(m),a.push(m)}else if(n[3]){var L=new Y(n[3]);L["DATA-ID"]&&(u=!0,l[L["DATA-ID"]]=L)}else if(n[4]){var D=n[4],C=ce(D,t);C.encrypted&&C.isSupported()?i.push(C):P.logger.warn('[Keys] Ignoring invalid EXT-X-SESSION-KEY tag: "'+D+'"')}return{levels:s.length>0&&s.length<a.length?s:a,sessionData:u?l:null,sessionKeys:i.length?i:null}},v.parseMasterPlaylistMedia=function(f,t,n,a){var s;a===void 0&&(a=[]);var l=[],i=0;for(dt.lastIndex=0;(s=dt.exec(f))!==null;){var u=new Y(s[1]);if(u.TYPE===n){var d={attrs:u,bitrate:0,id:i++,groupId:u["GROUP-ID"],instreamId:u["INSTREAM-ID"],name:u.NAME||u.LANGUAGE||"",type:n,default:u.bool("DEFAULT"),autoselect:u.bool("AUTOSELECT"),forced:u.bool("FORCED"),lang:u.LANGUAGE,url:u.URI?v.resolve(u.URI,t):""};if(a.length){var g=v.findGroup(a,d.groupId)||a[0];Le(d,g,"audioCodec"),Le(d,g,"textCodec")}l.push(d)}}return l},v.parseLevelPlaylist=function(f,t,n,a,s){var l,i,u,d=new Ye(t),g=d.fragments,m=null,T=0,L=0,D=0,C=0,G=null,j=new Z.Fragment(a,t),Q=-1,le=!1;for(M.lastIndex=0,d.m3u8=f;(l=M.exec(f))!==null;){le&&(le=!1,(j=new Z.Fragment(a,t)).start=D,j.sn=T,j.cc=C,j.level=n,m&&(j.initSegment=m,j.rawProgramDateTime=m.rawProgramDateTime,m.rawProgramDateTime=null));var me=l[1];if(me){j.duration=parseFloat(me);var de=(" "+l[2]).slice(1);j.title=de||null,j.tagList.push(de?["INF",me,de]:["INF",me])}else if(l[3])(0,A.isFiniteNumber)(j.duration)&&(j.start=D,u&&F(j,u,d),j.sn=T,j.level=n,j.cc=C,j.urlId=s,g.push(j),j.relurl=(" "+l[3]).slice(1),pe(j,G),G=j,D+=j.duration,T++,L=0,le=!0);else if(l[4]){var Se=(" "+l[4]).slice(1);G?j.setByteRange(Se,G):j.setByteRange(Se)}else if(l[5])j.rawProgramDateTime=(" "+l[5]).slice(1),j.tagList.push(["PROGRAM-DATE-TIME",j.rawProgramDateTime]),Q===-1&&(Q=g.length);else{if(!(l=l[0].match(X))){P.logger.warn("No matches on slow regex match for level playlist!");continue}for(i=1;i<l.length&&l[i]===void 0;i++);var Ge=(" "+l[i]).slice(1),We=(" "+l[i+1]).slice(1),xe=l[i+2]?(" "+l[i+2]).slice(1):"";switch(Ge){case"PLAYLIST-TYPE":d.type=We.toUpperCase();break;case"MEDIA-SEQUENCE":T=d.startSN=parseInt(We);break;case"SKIP":var Ke=new Y(We),Oe=Ke.decimalInteger("SKIPPED-SEGMENTS");if((0,A.isFiniteNumber)(Oe)){d.skippedSegments=Oe;for(var ct=Oe;ct--;)g.unshift(null);T+=Oe}var At=Ke.enumeratedString("RECENTLY-REMOVED-DATERANGES");At&&(d.recentlyRemovedDateranges=At.split("	"));break;case"TARGETDURATION":d.targetduration=parseFloat(We);break;case"VERSION":d.version=parseInt(We);break;case"EXTM3U":break;case"ENDLIST":d.live=!1;break;case"#":(We||xe)&&j.tagList.push(xe?[We,xe]:[We]);break;case"DISCONTINUITY":C++,j.tagList.push(["DIS"]);break;case"GAP":j.tagList.push([Ge]);break;case"BITRATE":j.tagList.push([Ge,We]);break;case"DATERANGE":var ot=new Y(We),ht=new ae(ot,d.dateRanges[ot.ID]);ht.isValid||d.skippedSegments?d.dateRanges[ht.id]=ht:P.logger.warn('Ignoring invalid DATERANGE tag: "'+We+'"'),j.tagList.push(["EXT-X-DATERANGE",We]);break;case"DISCONTINUITY-SEQUENCE":C=parseInt(We);break;case"KEY":var Et=ce(We,t);if(Et.isSupported()){if(Et.method==="NONE"){u=void 0;break}u||(u={}),u[Et.keyFormat]&&(u=Pe({},u)),u[Et.keyFormat]=Et}else P.logger.warn('[Keys] Ignoring invalid EXT-X-KEY tag: "'+We+'"');break;case"START":var qt=new Y(We).decimalFloatingPoint("TIME-OFFSET");(0,A.isFiniteNumber)(qt)&&(d.startTimeOffset=qt);break;case"MAP":var Kt=new Y(We);if(j.duration){var Ft=new Z.Fragment(a,t);R(Ft,Kt,n,u),m=Ft,j.initSegment=m,m.rawProgramDateTime&&!j.rawProgramDateTime&&(j.rawProgramDateTime=m.rawProgramDateTime)}else R(j,Kt,n,u),m=j,le=!0;break;case"SERVER-CONTROL":var Nt=new Y(We);d.canBlockReload=Nt.bool("CAN-BLOCK-RELOAD"),d.canSkipUntil=Nt.optionalFloat("CAN-SKIP-UNTIL",0),d.canSkipDateRanges=d.canSkipUntil>0&&Nt.bool("CAN-SKIP-DATERANGES"),d.partHoldBack=Nt.optionalFloat("PART-HOLD-BACK",0),d.holdBack=Nt.optionalFloat("HOLD-BACK",0);break;case"PART-INF":var Mr=new Y(We);d.partTarget=Mr.decimalFloatingPoint("PART-TARGET");break;case"PART":var hn=d.partList;hn||(hn=d.partList=[]);var In=L>0?hn[hn.length-1]:void 0,oi=L++,Cn=new Z.Part(new Y(We),j,t,oi,In);hn.push(Cn),j.duration+=Cn.duration;break;case"PRELOAD-HINT":var $i=new Y(We);d.preloadHint=$i;break;case"RENDITION-REPORT":var rt=new Y(We);d.renditionReports=d.renditionReports||[],d.renditionReports.push(rt);break;default:P.logger.warn("line parsed but not handled: "+l)}}}G&&!G.relurl?(g.pop(),D-=G.duration,d.partList&&(d.fragmentHint=G)):d.partList&&(pe(j,G),j.cc=C,d.fragmentHint=j,u&&F(j,u,d));var st=g.length,li=g[0],kr=g[st-1];if((D+=d.skippedSegments*d.targetduration)>0&&st&&kr){d.averagetargetduration=D/st;var Nr=kr.sn;d.endSN=Nr!=="initSegment"?Nr:0,d.live||(kr.endList=!0),li&&(d.startCC=li.cc)}else d.endSN=0,d.startCC=0;return d.fragmentHint&&(D+=d.fragmentHint.duration),d.totalduration=D,d.endCC=C,Q>0&&function(On,Ur){for(var Br=On[Ur],qr=Ur;qr--;){var nr=On[qr];if(!nr)return;nr.programDateTime=Br.programDateTime-1e3*nr.duration,Br=nr}}(g,Q),d},v}();function ce(v,f){var t,n,a=new Y(v),s=(t=a.enumeratedString("METHOD"))!=null?t:"",l=a.URI,i=a.hexadecimalInteger("IV"),u=a.enumeratedString("KEYFORMATVERSIONS"),d=(n=a.enumeratedString("KEYFORMAT"))!=null?n:"identity";l&&a.IV&&!i&&P.logger.error("Invalid IV: "+a.IV);var g=l?V.resolve(l,f):"",m=(u||"1").split("/").map(Number).filter(Number.isFinite);return new Ue(s,g,d,m,i)}function ve(v,f){["video","audio","text"].forEach(function(t){var n=v.filter(function(s){return function(l,i){var u=He[i];return!!u&&u[l.slice(0,4)]===!0}(s,t)});if(n.length){var a=n.filter(function(s){return s.lastIndexOf("avc1",0)===0||s.lastIndexOf("mp4a",0)===0});f[t+"Codec"]=a.length>0?a[0]:n[0],v=v.filter(function(s){return n.indexOf(s)===-1})}}),f.unknownCodecs=v}function Le(v,f,t){var n=f[t];n&&(v[t]=n)}function pe(v,f){v.rawProgramDateTime?v.programDateTime=Date.parse(v.rawProgramDateTime):f!=null&&f.programDateTime&&(v.programDateTime=f.endProgramDateTime),(0,A.isFiniteNumber)(v.programDateTime)||(v.programDateTime=null,v.rawProgramDateTime=null)}function R(v,f,t,n){v.relurl=f.URI,f.BYTERANGE&&v.setByteRange(f.BYTERANGE),v.level=t,v.sn="initSegment",n&&(v.levelkeys=n),v.initSegment=null}function F(v,f,t){v.levelkeys=f;var n=t.encryptedFragments;n.length&&n[n.length-1].levelkeys===f||!Object.keys(f).some(function(a){return f[a].isCommonEncryption})||n.push(v)}var O=b(308);function ne(v,f){var t=v.url;return t!==void 0&&t.indexOf("data:")!==0||(t=f.url),t}const ue=function(){function v(t){this.hls=void 0,this.loaders=Object.create(null),this.hls=t,this.registerListeners()}var f=v.prototype;return f.startLoad=function(t){},f.stopLoad=function(){this.destroyInternalLoaders()},f.registerListeners=function(){var t=this.hls;t.on(y.Events.MANIFEST_LOADING,this.onManifestLoading,this),t.on(y.Events.LEVEL_LOADING,this.onLevelLoading,this),t.on(y.Events.AUDIO_TRACK_LOADING,this.onAudioTrackLoading,this),t.on(y.Events.SUBTITLE_TRACK_LOADING,this.onSubtitleTrackLoading,this)},f.unregisterListeners=function(){var t=this.hls;t.off(y.Events.MANIFEST_LOADING,this.onManifestLoading,this),t.off(y.Events.LEVEL_LOADING,this.onLevelLoading,this),t.off(y.Events.AUDIO_TRACK_LOADING,this.onAudioTrackLoading,this),t.off(y.Events.SUBTITLE_TRACK_LOADING,this.onSubtitleTrackLoading,this)},f.createInternalLoader=function(t){var n=this.hls.config,a=n.pLoader,s=n.loader,l=new(a||s)(n);return t.loader=l,this.loaders[t.type]=l,l},f.getInternalLoader=function(t){return this.loaders[t.type]},f.resetInternalLoader=function(t){this.loaders[t]&&delete this.loaders[t]},f.destroyInternalLoaders=function(){for(var t in this.loaders){var n=this.loaders[t];n&&n.destroy(),this.resetInternalLoader(t)}},f.destroy=function(){this.unregisterListeners(),this.destroyInternalLoaders()},f.onManifestLoading=function(t,n){var a=n.url;this.load({id:null,groupId:null,level:0,responseType:"text",type:O.PlaylistContextType.MANIFEST,url:a,deliveryDirectives:null})},f.onLevelLoading=function(t,n){var a=n.id,s=n.level,l=n.url,i=n.deliveryDirectives;this.load({id:a,groupId:null,level:s,responseType:"text",type:O.PlaylistContextType.LEVEL,url:l,deliveryDirectives:i})},f.onAudioTrackLoading=function(t,n){var a=n.id,s=n.groupId,l=n.url,i=n.deliveryDirectives;this.load({id:a,groupId:s,level:null,responseType:"text",type:O.PlaylistContextType.AUDIO_TRACK,url:l,deliveryDirectives:i})},f.onSubtitleTrackLoading=function(t,n){var a=n.id,s=n.groupId,l=n.url,i=n.deliveryDirectives;this.load({id:a,groupId:s,level:null,responseType:"text",type:O.PlaylistContextType.SUBTITLE_TRACK,url:l,deliveryDirectives:i})},f.load=function(t){var n,a,s,l,i,u,d=this.hls.config,g=this.getInternalLoader(t);if(g){var m=g.context;if(m&&m.url===t.url)return void P.logger.trace("[playlist-loader]: playlist request ongoing");P.logger.log("[playlist-loader]: aborting previous loader for type: "+t.type),g.abort()}switch(t.type){case O.PlaylistContextType.MANIFEST:a=d.manifestLoadingMaxRetry,s=d.manifestLoadingTimeOut,l=d.manifestLoadingRetryDelay,i=d.manifestLoadingMaxRetryTimeout;break;case O.PlaylistContextType.LEVEL:case O.PlaylistContextType.AUDIO_TRACK:case O.PlaylistContextType.SUBTITLE_TRACK:a=0,s=d.levelLoadingTimeOut;break;default:a=d.levelLoadingMaxRetry,s=d.levelLoadingTimeOut,l=d.levelLoadingRetryDelay,i=d.levelLoadingMaxRetryTimeout}if(g=this.createInternalLoader(t),(n=t.deliveryDirectives)!==null&&n!==void 0&&n.part&&(t.type===O.PlaylistContextType.LEVEL&&t.level!==null?u=this.hls.levels[t.level].details:t.type===O.PlaylistContextType.AUDIO_TRACK&&t.id!==null?u=this.hls.audioTracks[t.id].details:t.type===O.PlaylistContextType.SUBTITLE_TRACK&&t.id!==null&&(u=this.hls.subtitleTracks[t.id].details),u)){var T=u.partTarget,L=u.targetduration;T&&L&&(s=Math.min(1e3*Math.max(3*T,.8*L),s))}var D={timeout:s,maxRetry:a,retryDelay:l,maxRetryDelay:i,highWaterMark:0},C={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this)};g.load(t,D,C)},f.loadsuccess=function(t,n,a,s){s===void 0&&(s=null),this.resetInternalLoader(a.type);var l=t.data;l.indexOf("#EXTM3U")===0?(n.parsing.start=performance.now(),l.indexOf("#EXTINF:")>0||l.indexOf("#EXT-X-TARGETDURATION:")>0?this.handleTrackOrLevelPlaylist(t,n,a,s):this.handleMasterPlaylist(t,n,a,s)):this.handleManifestParsingError(t,a,"no EXTM3U delimiter",s)},f.loaderror=function(t,n,a){a===void 0&&(a=null),this.handleNetworkError(n,a,!1,t)},f.loadtimeout=function(t,n,a){a===void 0&&(a=null),this.handleNetworkError(n,a,!0)},f.handleMasterPlaylist=function(t,n,a,s){var l=this.hls,i=t.data,u=ne(t,a),d=V.parseMasterPlaylist(i,u),g=d.levels,m=d.sessionData,T=d.sessionKeys;if(g.length){var L=g.map(function(Q){return{id:Q.attrs.AUDIO,audioCodec:Q.audioCodec}}),D=g.map(function(Q){return{id:Q.attrs.SUBTITLES,textCodec:Q.textCodec}}),C=V.parseMasterPlaylistMedia(i,u,"AUDIO",L),G=V.parseMasterPlaylistMedia(i,u,"SUBTITLES",D),j=V.parseMasterPlaylistMedia(i,u,"CLOSED-CAPTIONS");C.length&&(C.some(function(Q){return!Q.url})||!g[0].audioCodec||g[0].attrs.AUDIO||(P.logger.log("[playlist-loader]: audio codec signaled in quality level, but no embedded audio track signaled, create one"),C.unshift({type:"main",name:"main",default:!1,autoselect:!1,forced:!1,id:-1,attrs:new Y({}),bitrate:0,url:""}))),l.trigger(y.Events.MANIFEST_LOADED,{levels:g,audioTracks:C,subtitles:G,captions:j,url:u,stats:n,networkDetails:s,sessionData:m,sessionKeys:T})}else this.handleManifestParsingError(t,a,"no level found in manifest",s)},f.handleTrackOrLevelPlaylist=function(t,n,a,s){var l=this.hls,i=a.id,u=a.level,d=a.type,g=ne(t,a),m=(0,A.isFiniteNumber)(i)?i:0,T=(0,A.isFiniteNumber)(u)?u:m,L=function(G){switch(G.type){case O.PlaylistContextType.AUDIO_TRACK:return O.PlaylistLevelType.AUDIO;case O.PlaylistContextType.SUBTITLE_TRACK:return O.PlaylistLevelType.SUBTITLE;default:return O.PlaylistLevelType.MAIN}}(a),D=V.parseLevelPlaylist(t.data,g,T,L,m);if(D.fragments.length){if(d===O.PlaylistContextType.MANIFEST){var C={attrs:new Y({}),bitrate:0,details:D,name:"",url:g};l.trigger(y.Events.MANIFEST_LOADED,{levels:[C],audioTracks:[],url:g,stats:n,networkDetails:s,sessionData:null,sessionKeys:null})}n.parsing.end=performance.now(),a.levelDetails=D,this.handlePlaylistLoaded(t,n,a,s)}else l.trigger(y.Events.ERROR,{type:w.ErrorTypes.NETWORK_ERROR,details:w.ErrorDetails.LEVEL_EMPTY_ERROR,fatal:!1,url:g,reason:"no fragments found in level",level:typeof a.level=="number"?a.level:void 0})},f.handleManifestParsingError=function(t,n,a,s){this.hls.trigger(y.Events.ERROR,{type:w.ErrorTypes.NETWORK_ERROR,details:w.ErrorDetails.MANIFEST_PARSING_ERROR,fatal:n.type===O.PlaylistContextType.MANIFEST,url:t.url,reason:a,response:t,context:n,networkDetails:s})},f.handleNetworkError=function(t,n,a,s){a===void 0&&(a=!1),P.logger.warn("[playlist-loader]: A network "+(a?"timeout":"error")+" occurred while loading "+t.type+" level: "+t.level+" id: "+t.id+' group-id: "'+t.groupId+'"');var l=w.ErrorDetails.UNKNOWN,i=!1,u=this.getInternalLoader(t);switch(t.type){case O.PlaylistContextType.MANIFEST:l=a?w.ErrorDetails.MANIFEST_LOAD_TIMEOUT:w.ErrorDetails.MANIFEST_LOAD_ERROR,i=!0;break;case O.PlaylistContextType.LEVEL:l=a?w.ErrorDetails.LEVEL_LOAD_TIMEOUT:w.ErrorDetails.LEVEL_LOAD_ERROR,i=!1;break;case O.PlaylistContextType.AUDIO_TRACK:l=a?w.ErrorDetails.AUDIO_TRACK_LOAD_TIMEOUT:w.ErrorDetails.AUDIO_TRACK_LOAD_ERROR,i=!1;break;case O.PlaylistContextType.SUBTITLE_TRACK:l=a?w.ErrorDetails.SUBTITLE_TRACK_LOAD_TIMEOUT:w.ErrorDetails.SUBTITLE_LOAD_ERROR,i=!1}u&&this.resetInternalLoader(t.type);var d={type:w.ErrorTypes.NETWORK_ERROR,details:l,fatal:i,url:t.url,loader:u,context:t,networkDetails:n};s&&(d.response=s),this.hls.trigger(y.Events.ERROR,d)},f.handlePlaylistLoaded=function(t,n,a,s){var l=a.type,i=a.level,u=a.id,d=a.groupId,g=a.loader,m=a.levelDetails,T=a.deliveryDirectives;if(m!=null&&m.targetduration){if(g)switch(m.live&&(g.getCacheAge&&(m.ageHeader=g.getCacheAge()||0),g.getCacheAge&&!isNaN(m.ageHeader)||(m.ageHeader=0)),l){case O.PlaylistContextType.MANIFEST:case O.PlaylistContextType.LEVEL:this.hls.trigger(y.Events.LEVEL_LOADED,{details:m,level:i||0,id:u||0,stats:n,networkDetails:s,deliveryDirectives:T});break;case O.PlaylistContextType.AUDIO_TRACK:this.hls.trigger(y.Events.AUDIO_TRACK_LOADED,{details:m,id:u||0,groupId:d||"",stats:n,networkDetails:s,deliveryDirectives:T});break;case O.PlaylistContextType.SUBTITLE_TRACK:this.hls.trigger(y.Events.SUBTITLE_TRACK_LOADED,{details:m,id:u||0,groupId:d||"",stats:n,networkDetails:s,deliveryDirectives:T})}}else this.handleManifestParsingError(t,a,"invalid target duration",s)},v}();function Te(v,f){var t;try{t=new Event("addtrack")}catch{(t=document.createEvent("Event")).initEvent("addtrack",!1,!1)}t.track=v,f.dispatchEvent(t)}function De(v,f){var t=v.mode;if(t==="disabled"&&(v.mode="hidden"),v.cues&&!v.cues.getCueById(f.id))try{if(v.addCue(f),!v.cues.getCueById(f.id))throw new Error("addCue is failed for: "+f)}catch(a){P.logger.debug("[texttrack-utils]: "+a);var n=new self.TextTrackCue(f.startTime,f.endTime,f.text);n.id=f.id,v.addCue(n)}t==="disabled"&&(v.mode=t)}function Ae(v){var f=v.mode;if(f==="disabled"&&(v.mode="hidden"),v.cues)for(var t=v.cues.length;t--;)v.removeCue(v.cues[t]);f==="disabled"&&(v.mode=f)}function Ie(v,f,t,n){var a=v.mode;if(a==="disabled"&&(v.mode="hidden"),v.cues&&v.cues.length>0)for(var s=function(i,u,d){var g=[],m=function(C,G){if(G<C[0].startTime)return 0;var j=C.length-1;if(G>C[j].endTime)return-1;for(var Q=0,le=j;Q<=le;){var me=Math.floor((le+Q)/2);if(G<C[me].startTime)le=me-1;else{if(!(G>C[me].startTime&&Q<j))return me;Q=me+1}}return C[Q].startTime-G<G-C[le].startTime?Q:le}(i,u);if(m>-1)for(var T=m,L=i.length;T<L;T++){var D=i[T];if(D.startTime>=u&&D.endTime<=d)g.push(D);else if(D.startTime>d)return g}return g}(v.cues,f,t),l=0;l<s.length;l++)n&&!n(s[l])||v.removeCue(s[l]);a==="disabled"&&(v.mode=a)}var ye=b(181),Me=b(856);function Ce(){return self.WebKitDataCue||self.VTTCue||self.TextTrackCue}var Ne=function(){var v=Ce();try{new v(0,Number.POSITIVE_INFINITY,"")}catch{return Number.MAX_VALUE}return Number.POSITIVE_INFINITY}();function Ve(v,f){return v.getTime()/1e3-f}const ze=function(){function v(t){this.hls=void 0,this.id3Track=null,this.media=null,this.dateRangeCuesAppended={},this.hls=t,this._registerListeners()}var f=v.prototype;return f.destroy=function(){this._unregisterListeners(),this.id3Track=null,this.media=null,this.dateRangeCuesAppended={},this.hls=null},f._registerListeners=function(){var t=this.hls;t.on(y.Events.MEDIA_ATTACHED,this.onMediaAttached,this),t.on(y.Events.MEDIA_DETACHING,this.onMediaDetaching,this),t.on(y.Events.MANIFEST_LOADING,this.onManifestLoading,this),t.on(y.Events.FRAG_PARSING_METADATA,this.onFragParsingMetadata,this),t.on(y.Events.BUFFER_FLUSHING,this.onBufferFlushing,this),t.on(y.Events.LEVEL_UPDATED,this.onLevelUpdated,this)},f._unregisterListeners=function(){var t=this.hls;t.off(y.Events.MEDIA_ATTACHED,this.onMediaAttached,this),t.off(y.Events.MEDIA_DETACHING,this.onMediaDetaching,this),t.off(y.Events.MANIFEST_LOADING,this.onManifestLoading,this),t.off(y.Events.FRAG_PARSING_METADATA,this.onFragParsingMetadata,this),t.off(y.Events.BUFFER_FLUSHING,this.onBufferFlushing,this),t.off(y.Events.LEVEL_UPDATED,this.onLevelUpdated,this)},f.onMediaAttached=function(t,n){this.media=n.media},f.onMediaDetaching=function(){this.id3Track&&(Ae(this.id3Track),this.id3Track=null,this.media=null,this.dateRangeCuesAppended={})},f.onManifestLoading=function(){this.dateRangeCuesAppended={}},f.createTrack=function(t){var n=this.getID3Track(t.textTracks);return n.mode="hidden",n},f.getID3Track=function(t){if(this.media){for(var n=0;n<t.length;n++){var a=t[n];if(a.kind==="metadata"&&a.label==="id3")return Te(a,this.media),a}return this.media.addTextTrack("metadata","id3")}},f.onFragParsingMetadata=function(t,n){if(this.media){var a=this.hls.config,s=a.enableEmsgMetadataCues,l=a.enableID3MetadataCues;if(s||l){var i=n.samples;this.id3Track||(this.id3Track=this.createTrack(this.media));for(var u=Ce(),d=0;d<i.length;d++){var g=i[d].type;if((g!==Me.MetadataSchema.emsg||s)&&l){var m=ye.getID3Frames(i[d].data);if(m){var T=i[d].pts,L=T+i[d].duration;L>Ne&&(L=Ne),L-T<=0&&(L=T+.25);for(var D=0;D<m.length;D++){var C=m[D];if(!ye.isTimeStampFrame(C)){this.updateId3CueEnds(T);var G=new u(T,L,"");G.value=C,g&&(G.type=g),this.id3Track.addCue(G)}}}}}}}},f.updateId3CueEnds=function(t){var n,a=(n=this.id3Track)===null||n===void 0?void 0:n.cues;if(a)for(var s=a.length;s--;){var l=a[s];l.startTime<t&&l.endTime===Ne&&(l.endTime=t)}},f.onBufferFlushing=function(t,n){var a=n.startOffset,s=n.endOffset,l=n.type,i=this.id3Track,u=this.hls;if(u){var d=u.config,g=d.enableEmsgMetadataCues,m=d.enableID3MetadataCues;i&&(g||m)&&Ie(i,a,s,l==="audio"?function(T){return T.type===Me.MetadataSchema.audioId3&&m}:l==="video"?function(T){return T.type===Me.MetadataSchema.emsg&&g}:function(T){return T.type===Me.MetadataSchema.audioId3&&m||T.type===Me.MetadataSchema.emsg&&g})}},f.onLevelUpdated=function(t,n){var a=this,s=n.details;if(this.media&&s.hasProgramDateTime&&this.hls.config.enableDateRangeMetadataCues){var l=this.dateRangeCuesAppended,i=this.id3Track,u=s.dateRanges,d=Object.keys(u);if(i)for(var g=Object.keys(l).filter(function(Q){return!d.includes(Q)}),m=function(Q){var le=g[Q];Object.keys(l[le].cues).forEach(function(me){i.removeCue(l[le].cues[me])}),delete l[le]},T=g.length;T--;)m(T);var L=s.fragments[s.fragments.length-1];if(d.length!==0&&(0,A.isFiniteNumber)(L==null?void 0:L.programDateTime)){this.id3Track||(this.id3Track=this.createTrack(this.media));for(var D=L.programDateTime/1e3-L.start,C=Ce(),G=function(Q){var le=d[Q],me=u[le],de=l[le],Se=(de==null?void 0:de.cues)||{},Ge=(de==null?void 0:de.durationKnown)||!1,We=Ve(me.startDate,D),xe=Ne,Ke=me.endDate;if(Ke)xe=Ve(Ke,D),Ge=!0;else if(me.endOnNext&&!Ge){var Oe=d.reduce(function(Kt,Ft){var Nt=u[Ft];return Nt.class===me.class&&Nt.id!==Ft&&Nt.startDate>me.startDate&&Kt.push(Nt),Kt},[]).sort(function(Kt,Ft){return Kt.startDate.getTime()-Ft.startDate.getTime()})[0];Oe&&(xe=Ve(Oe.startDate,D),Ge=!0)}for(var ct,At=Object.keys(me.attr),ot=0;ot<At.length;ot++){var ht=At[ot];if(ht!==k.ID&&ht!==k.CLASS&&ht!==k.START_DATE&&ht!==k.DURATION&&ht!==k.END_DATE&&ht!==k.END_ON_NEXT){var Et=Se[ht];if(Et)Ge&&!de.durationKnown&&(Et.endTime=xe);else{var qt=me.attr[ht];Et=new C(We,xe,""),ht!==k.SCTE35_OUT&&ht!==k.SCTE35_IN||(ct=qt,qt=Uint8Array.from(ct.replace(/^0x/,"").replace(/([\da-fA-F]{2}) ?/g,"0x$1 ").replace(/ +$/,"").split(" ")).buffer),Et.value={key:ht,data:qt},Et.type=Me.MetadataSchema.dateRange,a.id3Track.addCue(Et),Se[ht]=Et}}}l[le]={cues:Se,dateRange:me,durationKnown:Ge}},j=0;j<d.length;j++)G(j)}}},v}();function it(v,f){for(var t=0;t<f.length;t++){var n=f[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(v,typeof(a=function(s,l){if(typeof s!="object"||s===null)return s;var i=s[Symbol.toPrimitive];if(i!==void 0){var u=i.call(s,l);if(typeof u!="object")return u;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(s)}(n.key,"string"))=="symbol"?a:String(a),n)}var a}var nt=function(){function v(a){var s=this;this.hls=void 0,this.config=void 0,this.media=null,this.levelDetails=null,this.currentTime=0,this.stallCount=0,this._latency=null,this.timeupdateHandler=function(){return s.timeupdate()},this.hls=a,this.config=a.config,this.registerListeners()}var f,t,n=v.prototype;return n.destroy=function(){this.unregisterListeners(),this.onMediaDetaching(),this.levelDetails=null,this.hls=this.timeupdateHandler=null},n.registerListeners=function(){this.hls.on(y.Events.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.on(y.Events.MEDIA_DETACHING,this.onMediaDetaching,this),this.hls.on(y.Events.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.on(y.Events.LEVEL_UPDATED,this.onLevelUpdated,this),this.hls.on(y.Events.ERROR,this.onError,this)},n.unregisterListeners=function(){this.hls.off(y.Events.MEDIA_ATTACHED,this.onMediaAttached),this.hls.off(y.Events.MEDIA_DETACHING,this.onMediaDetaching),this.hls.off(y.Events.MANIFEST_LOADING,this.onManifestLoading),this.hls.off(y.Events.LEVEL_UPDATED,this.onLevelUpdated),this.hls.off(y.Events.ERROR,this.onError)},n.onMediaAttached=function(a,s){this.media=s.media,this.media.addEventListener("timeupdate",this.timeupdateHandler)},n.onMediaDetaching=function(){this.media&&(this.media.removeEventListener("timeupdate",this.timeupdateHandler),this.media=null)},n.onManifestLoading=function(){this.levelDetails=null,this._latency=null,this.stallCount=0},n.onLevelUpdated=function(a,s){var l=s.details;this.levelDetails=l,l.advanced&&this.timeupdate(),!l.live&&this.media&&this.media.removeEventListener("timeupdate",this.timeupdateHandler)},n.onError=function(a,s){s.details===w.ErrorDetails.BUFFER_STALLED_ERROR&&(this.stallCount++,P.logger.warn("[playback-rate-controller]: Stall detected, adjusting target latency"))},n.timeupdate=function(){var a=this.media,s=this.levelDetails;if(a&&s){this.currentTime=a.currentTime;var l=this.computeLatency();if(l!==null){this._latency=l;var i=this.config,u=i.lowLatencyMode,d=i.maxLiveSyncPlaybackRate;if(u&&d!==1){var g=this.targetLatency;if(g!==null){var m=l-g,T=m<Math.min(this.maxLatency,g+s.targetduration);if(s.live&&T&&m>.05&&this.forwardBufferLength>1){var L=Math.min(2,Math.max(1,d)),D=Math.round(2/(1+Math.exp(-.75*m-this.edgeStalled))*20)/20;a.playbackRate=Math.min(L,Math.max(1,D))}else a.playbackRate!==1&&a.playbackRate!==0&&(a.playbackRate=1)}}}}},n.estimateLiveEdge=function(){var a=this.levelDetails;return a===null?null:a.edge+a.age},n.computeLatency=function(){var a=this.estimateLiveEdge();return a===null?null:a-this.currentTime},f=v,(t=[{key:"latency",get:function(){return this._latency||0}},{key:"maxLatency",get:function(){var a=this.config,s=this.levelDetails;return a.liveMaxLatencyDuration!==void 0?a.liveMaxLatencyDuration:s?a.liveMaxLatencyDurationCount*s.targetduration:0}},{key:"targetLatency",get:function(){var a=this.levelDetails;if(a===null)return null;var s=a.holdBack,l=a.partHoldBack,i=a.targetduration,u=this.config,d=u.liveSyncDuration,g=u.liveSyncDurationCount,m=u.lowLatencyMode,T=this.hls.userConfig,L=m&&l||s;(T.liveSyncDuration||T.liveSyncDurationCount||L===0)&&(L=d!==void 0?d:g*i);var D=i;return L+Math.min(1*this.stallCount,D)}},{key:"liveSyncPosition",get:function(){var a=this.estimateLiveEdge(),s=this.targetLatency,l=this.levelDetails;if(a===null||s===null||l===null)return null;var i=l.edge,u=a-s-this.edgeStalled,d=i-l.totalduration,g=i-(this.config.lowLatencyMode&&l.partTarget||l.targetduration);return Math.min(Math.max(d,u),g)}},{key:"drift",get:function(){var a=this.levelDetails;return a===null?1:a.drift}},{key:"edgeStalled",get:function(){var a=this.levelDetails;if(a===null)return 0;var s=3*(this.config.lowLatencyMode&&a.partTarget||a.targetduration);return Math.max(a.age-s,0)}},{key:"forwardBufferLength",get:function(){var a=this.media,s=this.levelDetails;if(!a||!s)return 0;var l=a.buffered.length;return(l?a.buffered.end(l-1):s.edge)-this.currentTime}}])&&it(f.prototype,t),Object.defineProperty(f,"prototype",{writable:!1}),v}();function mt(v,f){for(var t=0;t<f.length;t++){var n=f[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(v,typeof(a=function(s,l){if(typeof s!="object"||s===null)return s;var i=s[Symbol.toPrimitive];if(i!==void 0){var u=i.call(s,l);if(typeof u!="object")return u;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(s)}(n.key,"string"))=="symbol"?a:String(a),n)}var a}var wt,xt=["NONE","TYPE-0","TYPE-1","TYPE-2",null];(function(v){v.No="",v.Yes="YES",v.v2="v2"})(wt||(wt={}));var ie=function(){function v(f,t,n){this.msn=void 0,this.part=void 0,this.skip=void 0,this.msn=f,this.part=t,this.skip=n}return v.prototype.addDirectives=function(f){var t=new self.URL(f);return this.msn!==void 0&&t.searchParams.set("_HLS_msn",this.msn.toString()),this.part!==void 0&&t.searchParams.set("_HLS_part",this.part.toString()),this.skip&&t.searchParams.set("_HLS_skip",this.skip),t.href},v}(),K=function(){function v(n){this.attrs=void 0,this.audioCodec=void 0,this.bitrate=void 0,this.codecSet=void 0,this.height=void 0,this.id=void 0,this.name=void 0,this.videoCodec=void 0,this.width=void 0,this.unknownCodecs=void 0,this.audioGroupIds=void 0,this.details=void 0,this.fragmentError=0,this.loadError=0,this.loaded=void 0,this.realBitrate=0,this.textGroupIds=void 0,this.url=void 0,this._urlId=0,this.url=[n.url],this.attrs=n.attrs,this.bitrate=n.bitrate,n.details&&(this.details=n.details),this.id=n.id||0,this.name=n.name,this.width=n.width||0,this.height=n.height||0,this.audioCodec=n.audioCodec,this.videoCodec=n.videoCodec,this.unknownCodecs=n.unknownCodecs,this.codecSet=[n.videoCodec,n.audioCodec].filter(function(a){return a}).join(",").replace(/\.[^.,]+/g,"")}var f,t;return f=v,(t=[{key:"maxBitrate",get:function(){return Math.max(this.realBitrate,this.bitrate)}},{key:"uri",get:function(){return this.url[this._urlId]||""}},{key:"urlId",get:function(){return this._urlId},set:function(n){var a=n%this.url.length;this._urlId!==a&&(this.details=void 0,this._urlId=a)}}])&&mt(f.prototype,t),Object.defineProperty(f,"prototype",{writable:!1}),v}();function x(){return x=Object.assign?Object.assign.bind():function(v){for(var f=1;f<arguments.length;f++){var t=arguments[f];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(v[n]=t[n])}return v},x.apply(this,arguments)}function N(v,f,t){switch(f){case"audio":v.audioGroupIds||(v.audioGroupIds=[]),v.audioGroupIds.push(t);break;case"text":v.textGroupIds||(v.textGroupIds=[]),v.textGroupIds.push(t)}}function U(v){var f={};v.forEach(function(t){var n=t.groupId||"";t.id=f[n]=f[n]||0,f[n]++})}function W(v,f){var t=f.startPTS;if((0,A.isFiniteNumber)(t)){var n,a=0;f.sn>v.sn?(a=t-v.start,n=v):(a=v.start-t,n=f),n.duration!==a&&(n.duration=a)}else f.sn>v.sn?v.cc===f.cc&&v.minEndPTS?f.start=v.start+(v.minEndPTS-v.start):f.start=v.start+v.duration:f.start=Math.max(v.start-f.duration,0)}function z(v,f,t,n,a,s){n-t<=0&&(P.logger.warn("Fragment should have a positive duration",f),n=t+f.duration,s=a+f.duration);var l=t,i=n,u=f.startPTS,d=f.endPTS;if((0,A.isFiniteNumber)(u)){var g=Math.abs(u-t);(0,A.isFiniteNumber)(f.deltaPTS)?f.deltaPTS=Math.max(g,f.deltaPTS):f.deltaPTS=g,l=Math.max(t,u),t=Math.min(t,u),a=Math.min(a,f.startDTS),i=Math.min(n,d),n=Math.max(n,d),s=Math.max(s,f.endDTS)}f.duration=n-t;var m=t-f.start;f.start=f.startPTS=t,f.maxStartPTS=l,f.startDTS=a,f.endPTS=n,f.minEndPTS=i,f.endDTS=s;var T,L=f.sn;if(!v||L<v.startSN||L>v.endSN)return 0;var D=L-v.startSN,C=v.fragments;for(C[D]=f,T=D;T>0;T--)W(C[T],C[T-1]);for(T=D;T<C.length-1;T++)W(C[T],C[T+1]);return v.fragmentHint&&W(C[C.length-1],v.fragmentHint),v.PTSKnown=v.alignedSliding=!0,m}function te(v,f){var t=f.startSN+f.skippedSegments-v.startSN,n=v.fragments;t<0||t>=n.length||be(f,n[t].start)}function be(v,f){if(f){for(var t=v.fragments,n=v.skippedSegments;n<t.length;n++)t[n].start+=f;v.fragmentHint&&(v.fragmentHint.start+=f)}}var _e=function(){function v(t,n){this.hls=void 0,this.timer=-1,this.requestScheduled=-1,this.canLoad=!1,this.retryCount=0,this.log=void 0,this.warn=void 0,this.log=P.logger.log.bind(P.logger,n+":"),this.warn=P.logger.warn.bind(P.logger,n+":"),this.hls=t}var f=v.prototype;return f.destroy=function(){this.clearTimer(),this.hls=this.log=this.warn=null},f.onError=function(t,n){!n.fatal||n.type!==w.ErrorTypes.NETWORK_ERROR&&n.type!==w.ErrorTypes.KEY_SYSTEM_ERROR||this.stopLoad()},f.clearTimer=function(){clearTimeout(this.timer),this.timer=-1},f.startLoad=function(){this.canLoad=!0,this.retryCount=0,this.requestScheduled=-1,this.loadPlaylist()},f.stopLoad=function(){this.canLoad=!1,this.clearTimer()},f.switchParams=function(t,n){var a=n==null?void 0:n.renditionReports;if(a)for(var s=0;s<a.length;s++){var l=a[s],i=void 0;try{i=new self.URL(l.URI,n.url).href}catch(m){P.logger.warn("Could not construct new URL for Rendition Report: "+m),i=l.URI||""}if(i===t.slice(-i.length)){var u=parseInt(l["LAST-MSN"])||(n==null?void 0:n.lastPartSn),d=parseInt(l["LAST-PART"])||(n==null?void 0:n.lastPartIndex);if(this.hls.config.lowLatencyMode){var g=Math.min(n.age-n.partTarget,n.targetduration);d>=0&&g>n.partTarget&&(d+=1)}return new ie(u,d>=0?d:void 0,wt.No)}}},f.loadPlaylist=function(t){this.requestScheduled===-1&&(this.requestScheduled=self.performance.now())},f.shouldLoadTrack=function(t){return this.canLoad&&t&&!!t.url&&(!t.details||t.details.live)},f.playlistLoaded=function(t,n,a){var s=this,l=n.details,i=n.stats,u=self.performance.now(),d=i.loading.first?Math.max(0,u-i.loading.first):0;if(l.advancedDateTime=Date.now()-d,l.live||a!=null&&a.live){if(l.reloaded(a),a&&this.log("live playlist "+t+" "+(l.advanced?"REFRESHED "+l.lastPartSn+"-"+l.lastPartIndex:"MISSED")),a&&l.fragments.length>0&&function(Ke,Oe){for(var ct=null,At=Ke.fragments,ot=At.length-1;ot>=0;ot--){var ht=At[ot].initSegment;if(ht){ct=ht;break}}Ke.fragmentHint&&delete Ke.fragmentHint.endPTS;var Et,qt,Kt,Ft,Nt,Mr=0;if(function(rt,st,li){for(var kr=st.skippedSegments,Nr=Math.max(rt.startSN,st.startSN)-st.startSN,On=(rt.fragmentHint?1:0)+(kr?st.endSN:Math.min(rt.endSN,st.endSN))-st.startSN,Ur=st.startSN-rt.startSN,Br=st.fragmentHint?st.fragments.concat(st.fragmentHint):st.fragments,qr=rt.fragmentHint?rt.fragments.concat(rt.fragmentHint):rt.fragments,nr=Nr;nr<=On;nr++){var Is=qr[Ur+nr],zi=Br[nr];kr&&!zi&&nr<kr&&(zi=st.fragments[nr]=Is),Is&&zi&&li(Is,zi)}}(Ke,Oe,function(rt,st){rt.relurl&&(Mr=rt.cc-st.cc),(0,A.isFiniteNumber)(rt.startPTS)&&(0,A.isFiniteNumber)(rt.endPTS)&&(st.start=st.startPTS=rt.startPTS,st.startDTS=rt.startDTS,st.appendedPTS=rt.appendedPTS,st.maxStartPTS=rt.maxStartPTS,st.endPTS=rt.endPTS,st.endDTS=rt.endDTS,st.minEndPTS=rt.minEndPTS,st.duration=rt.endPTS-rt.startPTS,st.duration&&(Et=st),Oe.PTSKnown=Oe.alignedSliding=!0),st.elementaryStreams=rt.elementaryStreams,st.loader=rt.loader,st.stats=rt.stats,st.urlId=rt.urlId,rt.initSegment&&(st.initSegment=rt.initSegment,ct=rt.initSegment)}),ct&&(Oe.fragmentHint?Oe.fragments.concat(Oe.fragmentHint):Oe.fragments).forEach(function(rt){var st;rt.initSegment&&rt.initSegment.relurl!==((st=ct)===null||st===void 0?void 0:st.relurl)||(rt.initSegment=ct)}),Oe.skippedSegments)if(Oe.deltaUpdateFailed=Oe.fragments.some(function(rt){return!rt}),Oe.deltaUpdateFailed){P.logger.warn("[level-helper] Previous playlist missing segments skipped in delta playlist");for(var hn=Oe.skippedSegments;hn--;)Oe.fragments.shift();Oe.startSN=Oe.fragments[0].sn,Oe.startCC=Oe.fragments[0].cc}else Oe.canSkipDateRanges&&(Oe.dateRanges=(qt=Ke.dateRanges,Kt=Oe.dateRanges,Ft=Oe.recentlyRemovedDateranges,Nt=x({},qt),Ft&&Ft.forEach(function(rt){delete Nt[rt]}),Object.keys(Kt).forEach(function(rt){var st=new ae(Kt[rt].attr,Nt[rt]);st.isValid?Nt[rt]=st:P.logger.warn('Ignoring invalid Playlist Delta Update DATERANGE tag: "'+JSON.stringify(Kt[rt].attr)+'"')}),Nt));var In=Oe.fragments;if(Mr){P.logger.warn("discontinuity sliding from playlist, take drift into account");for(var oi=0;oi<In.length;oi++)In[oi].cc+=Mr}Oe.skippedSegments&&(Oe.startCC=Oe.fragments[0].cc),function(rt,st,li){if(rt&&st)for(var kr=0,Nr=0,On=rt.length;Nr<=On;Nr++){var Ur=rt[Nr],Br=st[Nr+kr];Ur&&Br&&Ur.index===Br.index&&Ur.fragment.sn===Br.fragment.sn?(qr=Ur,(nr=Br).elementaryStreams=qr.elementaryStreams,nr.stats=qr.stats):kr--}var qr,nr}(Ke.partList,Oe.partList),Et?z(Oe,Et,Et.startPTS,Et.endPTS,Et.startDTS,Et.endDTS):te(Ke,Oe),In.length&&(Oe.totalduration=Oe.edge-In[0].start),Oe.driftStartTime=Ke.driftStartTime,Oe.driftStart=Ke.driftStart;var Cn=Oe.advancedDateTime;if(Oe.advanced&&Cn){var $i=Oe.edge;Oe.driftStart||(Oe.driftStartTime=Cn,Oe.driftStart=$i),Oe.driftEndTime=Cn,Oe.driftEnd=$i}else Oe.driftEndTime=Ke.driftEndTime,Oe.driftEnd=Ke.driftEnd,Oe.advancedDateTime=Ke.advancedDateTime}(a,l),!this.canLoad||!l.live)return;var g,m=void 0,T=void 0;if(l.canBlockReload&&l.endSN&&l.advanced){var L=this.hls.config.lowLatencyMode,D=l.lastPartSn,C=l.endSN,G=l.lastPartIndex,j=D===C;G!==-1?(m=j?C+1:D,T=j?L?0:G:G+1):m=C+1;var Q=l.age,le=Q+l.ageHeader,me=Math.min(le-l.partTarget,1.5*l.targetduration);if(me>0){if(a&&me>a.tuneInGoal)this.warn("CDN Tune-in goal increased from: "+a.tuneInGoal+" to: "+me+" with playlist age: "+l.age),me=0;else{var de=Math.floor(me/l.targetduration);m+=de,T!==void 0&&(T+=Math.round(me%l.targetduration/l.partTarget)),this.log("CDN Tune-in age: "+l.ageHeader+"s last advanced "+Q.toFixed(2)+"s goal: "+me+" skip sn "+de+" to part "+T)}l.tuneInGoal=me}if(g=this.getDeliveryDirectives(l,n.deliveryDirectives,m,T),L||!j)return void this.loadPlaylist(g)}else g=this.getDeliveryDirectives(l,n.deliveryDirectives,m,T);var Se=this.hls.mainForwardBufferInfo,Ge=Se?Se.end-Se.len:0,We=function(Ke,Oe){Oe===void 0&&(Oe=1/0);var ct=1e3*Ke.targetduration;if(Ke.updated){var At=Ke.fragments;if(At.length&&4*ct>Oe){var ot=1e3*At[At.length-1].duration;ot<ct&&(ct=ot)}}else ct/=2;return Math.round(ct)}(l,1e3*(l.edge-Ge));l.updated?u>this.requestScheduled+We&&(this.requestScheduled=i.loading.start):this.requestScheduled=-1,m!==void 0&&l.canBlockReload?this.requestScheduled=i.loading.first+We-(1e3*l.partTarget||1e3):this.requestScheduled=(this.requestScheduled===-1?u:this.requestScheduled)+We;var xe=this.requestScheduled-u;xe=Math.max(0,xe),this.log("reload live playlist "+t+" in "+Math.round(xe)+" ms"),this.timer=self.setTimeout(function(){return s.loadPlaylist(g)},xe)}else this.clearTimer()},f.getDeliveryDirectives=function(t,n,a,s){var l=function(i,u){var d=i.canSkipUntil,g=i.canSkipDateRanges,m=i.endSN;return d&&(u!==void 0?u-m:0)<d?g?wt.v2:wt.Yes:wt.No}(t,a);return n!=null&&n.skip&&t.deltaUpdateFailed&&(a=n.msn,s=n.part,l=wt.No),new ie(a,s,l)},f.retryLoadingOrFail=function(t){var n,a=this,s=this.hls.config,l=this.retryCount<s.levelLoadingMaxRetry;if(l)if(this.requestScheduled=-1,this.retryCount++,t.details.indexOf("LoadTimeOut")>-1&&(n=t.context)!==null&&n!==void 0&&n.deliveryDirectives)this.warn("retry playlist loading #"+this.retryCount+' after "'+t.details+'"'),this.loadPlaylist();else{var i=Math.min(Math.pow(2,this.retryCount)*s.levelLoadingRetryDelay,s.levelLoadingMaxRetryTimeout);this.timer=self.setTimeout(function(){return a.loadPlaylist()},i),this.warn("retry playlist loading #"+this.retryCount+" in "+i+' ms after "'+t.details+'"')}else this.warn('cannot recover from error "'+t.details+'"'),this.clearTimer(),t.fatal=!0;return l},v}();function Re(){return Re=Object.assign?Object.assign.bind():function(v){for(var f=1;f<arguments.length;f++){var t=arguments[f];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(v[n]=t[n])}return v},Re.apply(this,arguments)}function Fe(v,f){for(var t=0;t<f.length;t++){var n=f[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(v,typeof(a=function(s,l){if(typeof s!="object"||s===null)return s;var i=s[Symbol.toPrimitive];if(i!==void 0){var u=i.call(s,l);if(typeof u!="object")return u;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(s)}(n.key,"string"))=="symbol"?a:String(a),n)}var a}function $e(v,f){return $e=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,n){return t.__proto__=n,t},$e(v,f)}var Be,Je=/chrome|firefox/.test(navigator.userAgent.toLowerCase()),ut=function(v){var f,t;function n(i){var u;return(u=v.call(this,i,"[level-controller]")||this)._levels=[],u._firstLevel=-1,u._startLevel=void 0,u.currentLevelIndex=-1,u.manualLevelIndex=-1,u.onParsedComplete=void 0,u._registerListeners(),u}t=v,(f=n).prototype=Object.create(t.prototype),f.prototype.constructor=f,$e(f,t);var a,s,l=n.prototype;return l._registerListeners=function(){var i=this.hls;i.on(y.Events.MANIFEST_LOADED,this.onManifestLoaded,this),i.on(y.Events.LEVEL_LOADED,this.onLevelLoaded,this),i.on(y.Events.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),i.on(y.Events.FRAG_LOADED,this.onFragLoaded,this),i.on(y.Events.ERROR,this.onError,this)},l._unregisterListeners=function(){var i=this.hls;i.off(y.Events.MANIFEST_LOADED,this.onManifestLoaded,this),i.off(y.Events.LEVEL_LOADED,this.onLevelLoaded,this),i.off(y.Events.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),i.off(y.Events.FRAG_LOADED,this.onFragLoaded,this),i.off(y.Events.ERROR,this.onError,this)},l.destroy=function(){this._unregisterListeners(),this.manualLevelIndex=-1,this._levels.length=0,v.prototype.destroy.call(this)},l.startLoad=function(){this._levels.forEach(function(i){i.loadError=0}),v.prototype.startLoad.call(this)},l.onManifestLoaded=function(i,u){var d,g,m=[],T=[],L=[],D={},C=!1,G=!1,j=!1;if(u.levels.forEach(function(de){var Se=de.attrs;C=C||!(!de.width||!de.height),G=G||!!de.videoCodec,j=j||!!de.audioCodec,Je&&de.audioCodec&&de.audioCodec.indexOf("mp4a.40.34")!==-1&&(de.audioCodec=void 0);var Ge=de.bitrate+"-"+de.attrs.RESOLUTION+"-"+de.attrs.CODECS;(g=D[Ge])?g.url.push(de.url):(g=new K(de),D[Ge]=g,m.push(g)),Se&&(Se.AUDIO&&N(g,"audio",Se.AUDIO),Se.SUBTITLES&&N(g,"text",Se.SUBTITLES))}),(C||G)&&j&&(m=m.filter(function(de){var Se=de.videoCodec,Ge=de.width,We=de.height;return!!Se||!(!Ge||!We)})),m=m.filter(function(de){var Se=de.audioCodec,Ge=de.videoCodec;return(!Se||je(Se,"audio"))&&(!Ge||je(Ge,"video"))}),u.audioTracks&&U(T=u.audioTracks.filter(function(de){return!de.audioCodec||je(de.audioCodec,"audio")})),u.subtitles&&U(L=u.subtitles),m.length>0){d=m[0].bitrate,m.sort(function(de,Se){return de.attrs["HDCP-LEVEL"]!==Se.attrs["HDCP-LEVEL"]?(de.attrs["HDCP-LEVEL"]||"")>(Se.attrs["HDCP-LEVEL"]||"")?1:-1:de.bitrate!==Se.bitrate?de.bitrate-Se.bitrate:de.attrs.SCORE!==Se.attrs.SCORE?de.attrs.decimalFloatingPoint("SCORE")-Se.attrs.decimalFloatingPoint("SCORE"):C&&de.height!==Se.height?de.height-Se.height:0}),this._levels=m;for(var Q=0;Q<m.length;Q++)if(m[Q].bitrate===d){this._firstLevel=Q,this.log("manifest loaded, "+m.length+" level(s) found, first bitrate: "+d);break}var le=j&&!G,me={levels:m,audioTracks:T,subtitleTracks:L,sessionData:u.sessionData,sessionKeys:u.sessionKeys,firstLevel:this._firstLevel,stats:u.stats,audio:j,video:G,altAudio:!le&&T.some(function(de){return!!de.url})};this.hls.trigger(y.Events.MANIFEST_PARSED,me),(this.hls.config.autoStartLoad||this.hls.forceStartLoad)&&this.hls.startLoad(this.hls.config.startPosition)}else this.hls.trigger(y.Events.ERROR,{type:w.ErrorTypes.MEDIA_ERROR,details:w.ErrorDetails.MANIFEST_INCOMPATIBLE_CODECS_ERROR,fatal:!0,url:u.url,reason:"no level with compatible codecs found in manifest"})},l.onError=function(i,u){var d,g;if(v.prototype.onError.call(this,i,u),!u.fatal){var m=u.context,T=this._levels[this.currentLevelIndex];if(m&&(m.type===O.PlaylistContextType.AUDIO_TRACK&&T.audioGroupIds&&m.groupId===T.audioGroupIds[T.urlId]||m.type===O.PlaylistContextType.SUBTITLE_TRACK&&T.textGroupIds&&m.groupId===T.textGroupIds[T.urlId]))this.redundantFailover(this.currentLevelIndex);else{var L,D=!1,C=!0;switch(u.details){case w.ErrorDetails.FRAG_LOAD_ERROR:case w.ErrorDetails.FRAG_LOAD_TIMEOUT:case w.ErrorDetails.KEY_LOAD_ERROR:case w.ErrorDetails.KEY_LOAD_TIMEOUT:if(u.frag){var G=u.frag.type===O.PlaylistLevelType.MAIN?u.frag.level:this.currentLevelIndex,j=this._levels[G];j?(j.fragmentError++,j.fragmentError>this.hls.config.fragLoadingMaxRetry&&(L=G)):L=G}break;case w.ErrorDetails.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED:var Q=T.attrs["HDCP-LEVEL"];Q&&(this.hls.maxHdcpLevel=xt[xt.indexOf(Q)-1],this.warn('Restricting playback to HDCP-LEVEL of "'+this.hls.maxHdcpLevel+'" or lower'));case w.ErrorDetails.FRAG_PARSING_ERROR:case w.ErrorDetails.KEY_SYSTEM_NO_SESSION:L=((d=u.frag)===null||d===void 0?void 0:d.type)===O.PlaylistLevelType.MAIN?u.frag.level:this.currentLevelIndex,u.levelRetry=!1;break;case w.ErrorDetails.LEVEL_LOAD_ERROR:case w.ErrorDetails.LEVEL_LOAD_TIMEOUT:m&&(m.deliveryDirectives&&(C=!1),L=m.level),D=!0;break;case w.ErrorDetails.REMUX_ALLOC_ERROR:L=(g=u.level)!=null?g:this.currentLevelIndex,D=!0}L!==void 0&&this.recoverLevel(u,L,D,C)}}},l.recoverLevel=function(i,u,d,g){var m=i.details,T=this._levels[u];if(T.loadError++,d){if(!this.retryLoadingOrFail(i))return void(this.currentLevelIndex=-1);i.levelRetry=!0}if(g){var L=T.url.length;if(L>1&&T.loadError<L)i.levelRetry=!0,this.redundantFailover(u);else if(this.manualLevelIndex===-1){for(var D=-1,C=this._levels,G=C.length;G--;){var j=(G+this.currentLevelIndex)%C.length;if(j!==this.currentLevelIndex&&C[j].loadError===0){D=j;break}}D>-1&&this.currentLevelIndex!==D?(this.warn(m+": switch to "+D),i.levelRetry=!0,this.hls.nextAutoLevel=D):i.levelRetry===!1&&(i.fatal=!0)}}},l.redundantFailover=function(i){var u=this._levels[i],d=u.url.length;if(d>1){var g=(u.urlId+1)%d;this.warn("Switching to redundant URL-id "+g),this._levels.forEach(function(m){m.urlId=g}),this.level=i}},l.onFragLoaded=function(i,u){var d=u.frag;if(d!==void 0&&d.type===O.PlaylistLevelType.MAIN){var g=this._levels[d.level];g!==void 0&&(g.fragmentError=0,g.loadError=0)}},l.onLevelLoaded=function(i,u){var d,g,m=u.level,T=u.details,L=this._levels[m];if(!L)return this.warn("Invalid level index "+m),void((g=u.deliveryDirectives)!==null&&g!==void 0&&g.skip&&(T.deltaUpdateFailed=!0));m===this.currentLevelIndex?(L.fragmentError===0&&(L.loadError=0,this.retryCount=0),this.playlistLoaded(m,u,L.details)):(d=u.deliveryDirectives)!==null&&d!==void 0&&d.skip&&(T.deltaUpdateFailed=!0)},l.onAudioTrackSwitched=function(i,u){var d=this.hls.levels[this.currentLevelIndex];if(d&&d.audioGroupIds){for(var g=-1,m=this.hls.audioTracks[u.id].groupId,T=0;T<d.audioGroupIds.length;T++)if(d.audioGroupIds[T]===m){g=T;break}g!==d.urlId&&(d.urlId=g,this.startLoad())}},l.loadPlaylist=function(i){v.prototype.loadPlaylist.call(this);var u=this.currentLevelIndex,d=this._levels[u];if(this.canLoad&&d&&d.url.length>0){var g=d.urlId,m=d.url[g];if(i)try{m=i.addDirectives(m)}catch(T){this.warn("Could not construct new URL with HLS Delivery Directives: "+T)}this.log("Attempt loading level index "+u+((i==null?void 0:i.msn)!==void 0?" at sn "+i.msn+" part "+i.part:"")+" with URL-id "+g+" "+m),this.clearTimer(),this.hls.trigger(y.Events.LEVEL_LOADING,{url:m,level:u,id:g,deliveryDirectives:i||null})}},l.removeLevel=function(i,u){var d=function(m,T){return T!==u},g=this._levels.filter(function(m,T){return T!==i||m.url.length>1&&u!==void 0&&(m.url=m.url.filter(d),m.audioGroupIds&&(m.audioGroupIds=m.audioGroupIds.filter(d)),m.textGroupIds&&(m.textGroupIds=m.textGroupIds.filter(d)),m.urlId=0,!0)}).map(function(m,T){var L=m.details;return L!=null&&L.fragments&&L.fragments.forEach(function(D){D.level=T}),m});this._levels=g,this.hls.trigger(y.Events.LEVELS_UPDATED,{levels:g})},a=n,(s=[{key:"levels",get:function(){return this._levels.length===0?null:this._levels}},{key:"level",get:function(){return this.currentLevelIndex},set:function(i){var u,d=this._levels;if(d.length!==0&&(this.currentLevelIndex!==i||(u=d[i])===null||u===void 0||!u.details)){if(i<0||i>=d.length){var g=i<0;if(this.hls.trigger(y.Events.ERROR,{type:w.ErrorTypes.OTHER_ERROR,details:w.ErrorDetails.LEVEL_SWITCH_ERROR,level:i,fatal:g,reason:"invalid level idx"}),g)return;i=Math.min(i,d.length-1)}this.clearTimer();var m=this.currentLevelIndex,T=d[m],L=d[i];this.log("switching to level "+i+" from "+m),this.currentLevelIndex=i;var D=Re({},L,{level:i,maxBitrate:L.maxBitrate,uri:L.uri,urlId:L.urlId});delete D._urlId,this.hls.trigger(y.Events.LEVEL_SWITCHING,D);var C=L.details;if(!C||C.live){var G=this.switchParams(L.uri,T==null?void 0:T.details);this.loadPlaylist(G)}}}},{key:"manualLevel",get:function(){return this.manualLevelIndex},set:function(i){this.manualLevelIndex=i,this._startLevel===void 0&&(this._startLevel=i),i!==-1&&(this.level=i)}},{key:"firstLevel",get:function(){return this._firstLevel},set:function(i){this._firstLevel=i}},{key:"startLevel",get:function(){if(this._startLevel===void 0){var i=this.hls.config.startLevel;return i!==void 0?i:this._firstLevel}return this._startLevel},set:function(i){this._startLevel=i}},{key:"nextLoadLevel",get:function(){return this.manualLevelIndex!==-1?this.manualLevelIndex:this.hls.nextAutoLevel},set:function(i){this.level=i,this.manualLevelIndex===-1&&(this.hls.nextAutoLevel=i)}}])&&Fe(a.prototype,s),Object.defineProperty(a,"prototype",{writable:!1}),n}(_e);(function(v){v.NOT_LOADED="NOT_LOADED",v.APPENDING="APPENDING",v.PARTIAL="PARTIAL",v.OK="OK"})(Be||(Be={}));var pt=function(){function v(t){this.activeFragment=null,this.activeParts=null,this.endListFragments=Object.create(null),this.fragments=Object.create(null),this.timeRanges=Object.create(null),this.bufferPadding=.2,this.hls=void 0,this.hls=t,this._registerListeners()}var f=v.prototype;return f._registerListeners=function(){var t=this.hls;t.on(y.Events.BUFFER_APPENDED,this.onBufferAppended,this),t.on(y.Events.FRAG_BUFFERED,this.onFragBuffered,this),t.on(y.Events.FRAG_LOADED,this.onFragLoaded,this)},f._unregisterListeners=function(){var t=this.hls;t.off(y.Events.BUFFER_APPENDED,this.onBufferAppended,this),t.off(y.Events.FRAG_BUFFERED,this.onFragBuffered,this),t.off(y.Events.FRAG_LOADED,this.onFragLoaded,this)},f.destroy=function(){this._unregisterListeners(),this.fragments=this.endListFragments=this.timeRanges=this.activeFragment=this.activeParts=null},f.getAppendedFrag=function(t,n){if(n===O.PlaylistLevelType.MAIN){var a=this.activeFragment,s=this.activeParts;if(!a)return null;if(s)for(var l=s.length;l--;){var i=s[l],u=i?i.end:a.appendedPTS;if(i.start<=t&&u!==void 0&&t<=u)return l>9&&(this.activeParts=s.slice(l-9)),i}else if(a.start<=t&&a.appendedPTS!==void 0&&t<=a.appendedPTS)return a}return this.getBufferedFrag(t,n)},f.getBufferedFrag=function(t,n){for(var a=this.fragments,s=Object.keys(a),l=s.length;l--;){var i=a[s[l]];if((i==null?void 0:i.body.type)===n&&i.buffered){var u=i.body;if(u.start<=t&&t<=u.end)return u}}return null},f.detectEvictedFragments=function(t,n,a){var s=this;this.timeRanges&&(this.timeRanges[t]=n),Object.keys(this.fragments).forEach(function(l){var i=s.fragments[l];if(i)if(i.buffered||i.loaded){var u=i.range[t];u&&u.time.some(function(d){var g=!s.isTimeBuffered(d.startPTS,d.endPTS,n);return g&&s.removeFragment(i.body),g})}else i.body.type===a&&s.removeFragment(i.body)})},f.detectPartialFragments=function(t){var n=this,a=this.timeRanges,s=t.frag,l=t.part;if(a&&s.sn!=="initSegment"){var i=St(s),u=this.fragments[i];u&&(Object.keys(a).forEach(function(d){var g=s.elementaryStreams[d];if(g){var m=a[d],T=l!==null||g.partial===!0;u.range[d]=n.getBufferedTimes(s,l,T,m)}}),u.loaded=null,Object.keys(u.range).length?(u.buffered=!0,u.body.endList&&(this.endListFragments[u.body.type]=u)):this.removeFragment(u.body))}},f.fragBuffered=function(t){var n=St(t),a=this.fragments[n];a&&(a.loaded=null,a.buffered=!0)},f.getBufferedTimes=function(t,n,a,s){for(var l={time:[],partial:a},i=n?n.start:t.start,u=n?n.end:t.end,d=t.minEndPTS||u,g=t.maxStartPTS||i,m=0;m<s.length;m++){var T=s.start(m)-this.bufferPadding,L=s.end(m)+this.bufferPadding;if(g>=T&&d<=L){l.time.push({startPTS:Math.max(i,s.start(m)),endPTS:Math.min(u,s.end(m))});break}if(i<L&&u>T)l.partial=!0,l.time.push({startPTS:Math.max(i,s.start(m)),endPTS:Math.min(u,s.end(m))});else if(u<=T)break}return l},f.getPartialFragment=function(t){var n,a,s,l=null,i=0,u=this.bufferPadding,d=this.fragments;return Object.keys(d).forEach(function(g){var m=d[g];m&&Xe(m)&&(a=m.body.start-u,s=m.body.end+u,t>=a&&t<=s&&(n=Math.min(t-a,s-t),i<=n&&(l=m.body,i=n)))}),l},f.isEndListAppended=function(t){var n=this.endListFragments[t];return n!==void 0&&(n.buffered||Xe(n))},f.getState=function(t){var n=St(t),a=this.fragments[n];return a?a.buffered?Xe(a)?Be.PARTIAL:Be.OK:Be.APPENDING:Be.NOT_LOADED},f.isTimeBuffered=function(t,n,a){for(var s,l,i=0;i<a.length;i++){if(s=a.start(i)-this.bufferPadding,l=a.end(i)+this.bufferPadding,t>=s&&n<=l)return!0;if(n<=s)return!1}return!1},f.onFragLoaded=function(t,n){var a=n.frag,s=n.part;if(a.sn!=="initSegment"&&!a.bitrateTest&&!s){var l=St(a);this.fragments[l]={body:a,loaded:n,buffered:!1,range:Object.create(null)}}},f.onBufferAppended=function(t,n){var a=this,s=n.frag,l=n.part,i=n.timeRanges;if(s.type===O.PlaylistLevelType.MAIN)if(this.activeFragment!==s&&(this.activeFragment=s,s.appendedPTS=void 0),l){var u=this.activeParts;u||(this.activeParts=u=[]),u.push(l)}else this.activeParts=null;this.timeRanges=i,Object.keys(i).forEach(function(d){var g=i[d];if(a.detectEvictedFragments(d,g),!l&&s.type===O.PlaylistLevelType.MAIN){var m=s.elementaryStreams[d];if(!m)return;for(var T=0;T<g.length;T++){var L=g.end(T);L<=m.endPTS&&L>m.startPTS?s.appendedPTS=Math.max(L,s.appendedPTS||0):s.appendedPTS=m.endPTS}}})},f.onFragBuffered=function(t,n){this.detectPartialFragments(n)},f.hasFragment=function(t){var n=St(t);return!!this.fragments[n]},f.removeFragmentsInRange=function(t,n,a){var s=this;Object.keys(this.fragments).forEach(function(l){var i=s.fragments[l];if(i&&i.buffered){var u=i.body;u.type===a&&u.start<n&&u.end>t&&s.removeFragment(u)}})},f.removeFragment=function(t){var n=St(t);t.stats.loaded=0,t.clearElementaryStreamInfo(),t.appendedPTS=void 0,delete this.fragments[n],t.endList&&delete this.endListFragments[t.type]},f.removeAllFragments=function(){this.fragments=Object.create(null),this.endListFragments=Object.create(null),this.activeFragment=null,this.activeParts=null},v}();function Xe(v){var f,t;return v.buffered&&(((f=v.range.video)===null||f===void 0?void 0:f.partial)||((t=v.range.audio)===null||t===void 0?void 0:t.partial))}function St(v){return v.type+"_"+v.level+"_"+v.urlId+"_"+v.sn}function Yt(v){var f=typeof Map=="function"?new Map:void 0;return Yt=function(t){if(t===null||(n=t,Function.toString.call(n).indexOf("[native code]")===-1))return t;var n;if(typeof t!="function")throw new TypeError("Super expression must either be null or a function");if(f!==void 0){if(f.has(t))return f.get(t);f.set(t,a)}function a(){return _t(t,arguments,tt(this).constructor)}return a.prototype=Object.create(t.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),Ut(a,t)},Yt(v)}function _t(v,f,t){return _t=Wt()?Reflect.construct.bind():function(n,a,s){var l=[null];l.push.apply(l,a);var i=new(Function.bind.apply(n,l));return s&&Ut(i,s.prototype),i},_t.apply(null,arguments)}function Wt(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ut(v,f){return Ut=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,n){return t.__proto__=n,t},Ut(v,f)}function tt(v){return tt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(f){return f.__proto__||Object.getPrototypeOf(f)},tt(v)}var Zt=Math.pow(2,17),Sr=function(){function v(t){this.config=void 0,this.loader=null,this.partLoadTimeout=-1,this.config=t}var f=v.prototype;return f.destroy=function(){this.loader&&(this.loader.destroy(),this.loader=null)},f.abort=function(){this.loader&&this.loader.abort()},f.load=function(t,n){var a=this,s=t.url;if(!s)return Promise.reject(new $t({type:w.ErrorTypes.NETWORK_ERROR,details:w.ErrorDetails.FRAG_LOAD_ERROR,fatal:!1,frag:t,networkDetails:null},"Fragment does not have a "+(s?"part list":"url")));this.abort();var l=this.config,i=l.fLoader,u=l.loader;return new Promise(function(d,g){a.loader&&a.loader.destroy();var m=a.loader=t.loader=i?new i(l):new u(l),T=Dt(t),L={timeout:l.fragLoadingTimeOut,maxRetry:0,retryDelay:0,maxRetryDelay:l.fragLoadingMaxRetryTimeout,highWaterMark:t.sn==="initSegment"?1/0:Zt};t.stats=m.stats,m.load(T,L,{onSuccess:function(D,C,G,j){a.resetLoader(t,m);var Q=D.data;G.resetIV&&t.decryptdata&&(t.decryptdata.iv=new Uint8Array(Q.slice(0,16)),Q=Q.slice(16)),d({frag:t,part:null,payload:Q,networkDetails:j})},onError:function(D,C,G){a.resetLoader(t,m),g(new $t({type:w.ErrorTypes.NETWORK_ERROR,details:w.ErrorDetails.FRAG_LOAD_ERROR,fatal:!1,frag:t,response:D,networkDetails:G}))},onAbort:function(D,C,G){a.resetLoader(t,m),g(new $t({type:w.ErrorTypes.NETWORK_ERROR,details:w.ErrorDetails.INTERNAL_ABORTED,fatal:!1,frag:t,networkDetails:G}))},onTimeout:function(D,C,G){a.resetLoader(t,m),g(new $t({type:w.ErrorTypes.NETWORK_ERROR,details:w.ErrorDetails.FRAG_LOAD_TIMEOUT,fatal:!1,frag:t,networkDetails:G}))},onProgress:function(D,C,G,j){n&&n({frag:t,part:null,payload:G,networkDetails:j})}})})},f.loadPart=function(t,n,a){var s=this;this.abort();var l=this.config,i=l.fLoader,u=l.loader;return new Promise(function(d,g){s.loader&&s.loader.destroy();var m=s.loader=t.loader=i?new i(l):new u(l),T=Dt(t,n),L={timeout:l.fragLoadingTimeOut,maxRetry:0,retryDelay:0,maxRetryDelay:l.fragLoadingMaxRetryTimeout,highWaterMark:Zt};n.stats=m.stats,m.load(T,L,{onSuccess:function(D,C,G,j){s.resetLoader(t,m),s.updateStatsFromPart(t,n);var Q={frag:t,part:n,payload:D.data,networkDetails:j};a(Q),d(Q)},onError:function(D,C,G){s.resetLoader(t,m),g(new $t({type:w.ErrorTypes.NETWORK_ERROR,details:w.ErrorDetails.FRAG_LOAD_ERROR,fatal:!1,frag:t,part:n,response:D,networkDetails:G}))},onAbort:function(D,C,G){t.stats.aborted=n.stats.aborted,s.resetLoader(t,m),g(new $t({type:w.ErrorTypes.NETWORK_ERROR,details:w.ErrorDetails.INTERNAL_ABORTED,fatal:!1,frag:t,part:n,networkDetails:G}))},onTimeout:function(D,C,G){s.resetLoader(t,m),g(new $t({type:w.ErrorTypes.NETWORK_ERROR,details:w.ErrorDetails.FRAG_LOAD_TIMEOUT,fatal:!1,frag:t,part:n,networkDetails:G}))}})})},f.updateStatsFromPart=function(t,n){var a=t.stats,s=n.stats,l=s.total;if(a.loaded+=s.loaded,l){var i=Math.round(t.duration/n.duration),u=Math.min(Math.round(a.loaded/l),i),d=(i-u)*Math.round(a.loaded/u);a.total=a.loaded+d}else a.total=Math.max(a.loaded,a.total);var g=a.loading,m=s.loading;g.start?g.first+=m.first-m.start:(g.start=m.start,g.first=m.first),g.end=m.end},f.resetLoader=function(t,n){t.loader=null,this.loader===n&&(self.clearTimeout(this.partLoadTimeout),this.loader=null),n.destroy()},v}();function Dt(v,f){f===void 0&&(f=null);var t=f||v,n={frag:v,part:f,responseType:"arraybuffer",url:t.url,headers:{},rangeStart:0,rangeEnd:0},a=t.byteRangeStartOffset,s=t.byteRangeEndOffset;if((0,A.isFiniteNumber)(a)&&(0,A.isFiniteNumber)(s)){var l,i=a,u=s;if(v.sn==="initSegment"&&((l=v.decryptdata)===null||l===void 0?void 0:l.method)==="AES-128"){var d=s-a;d%16&&(u=s+(16-d%16)),a!==0&&(n.resetIV=!0,i=a-16)}n.rangeStart=i,n.rangeEnd=u}return n}var $t=function(v){var f,t;function n(a){for(var s,l=arguments.length,i=new Array(l>1?l-1:0),u=1;u<l;u++)i[u-1]=arguments[u];return(s=v.call.apply(v,[this].concat(i))||this).data=void 0,s.data=a,s}return t=v,(f=n).prototype=Object.create(t.prototype),f.prototype.constructor=f,Ut(f,t),n}(Yt(Error)),_r=function(){function v(t){this.config=void 0,this.keyUriToKeyInfo={},this.emeController=null,this.config=t}var f=v.prototype;return f.abort=function(){for(var t in this.keyUriToKeyInfo){var n=this.keyUriToKeyInfo[t].loader;n&&n.abort()}},f.detach=function(){for(var t in this.keyUriToKeyInfo){var n=this.keyUriToKeyInfo[t];(n.mediaKeySessionContext||n.decryptdata.isCommonEncryption)&&delete this.keyUriToKeyInfo[t]}},f.destroy=function(){for(var t in this.detach(),this.keyUriToKeyInfo){var n=this.keyUriToKeyInfo[t].loader;n&&n.destroy()}this.keyUriToKeyInfo={}},f.createKeyLoadError=function(t,n,a,s){return n===void 0&&(n=w.ErrorDetails.KEY_LOAD_ERROR),new $t({type:w.ErrorTypes.NETWORK_ERROR,details:n,fatal:!1,frag:t,networkDetails:a})},f.loadClear=function(t,n){var a=this;if(this.emeController&&this.config.emeEnabled)for(var s=t.sn,l=t.cc,i=function(d){var g=n[d];if(l<=g.cc&&(s==="initSegment"||s<g.sn))return a.emeController.selectKeySystemFormat(g).then(function(m){g.setKeyFormat(m)}),"break"},u=0;u<n.length&&i(u)!=="break";u++);},f.load=function(t){var n=this;return!t.decryptdata&&t.encrypted&&this.emeController?this.emeController.selectKeySystemFormat(t).then(function(a){return n.loadInternal(t,a)}):this.loadInternal(t)},f.loadInternal=function(t,n){var a,s;n&&t.setKeyFormat(n);var l=t.decryptdata;if(!l){var i=n?"Expected frag.decryptdata to be defined after setting format "+n:"Missing decryption data on fragment in onKeyLoading";return Promise.reject(this.createKeyLoadError(t,w.ErrorDetails.KEY_LOAD_ERROR,null,i))}var u=l.uri;if(!u)return Promise.reject(this.createKeyLoadError(t,w.ErrorDetails.KEY_LOAD_ERROR,null,'Invalid key URI: "'+u+'"'));var d,g=this.keyUriToKeyInfo[u];if((a=g)!==null&&a!==void 0&&a.decryptdata.key)return l.key=g.decryptdata.key,Promise.resolve({frag:t,keyInfo:g});if((s=g)!==null&&s!==void 0&&s.keyLoadPromise)switch((d=g.mediaKeySessionContext)===null||d===void 0?void 0:d.keyStatus){case void 0:case"status-pending":case"usable":case"usable-in-future":return g.keyLoadPromise.then(function(m){return l.key=m.keyInfo.decryptdata.key,{frag:t,keyInfo:g}})}switch(g=this.keyUriToKeyInfo[u]={decryptdata:l,keyLoadPromise:null,loader:null,mediaKeySessionContext:null},l.method){case"ISO-23001-7":case"SAMPLE-AES":case"SAMPLE-AES-CENC":case"SAMPLE-AES-CTR":return l.keyFormat==="identity"?this.loadKeyHTTP(g,t):this.loadKeyEME(g,t);case"AES-128":return this.loadKeyHTTP(g,t);default:return Promise.reject(this.createKeyLoadError(t,w.ErrorDetails.KEY_LOAD_ERROR,null,'Key supplied with unsupported METHOD: "'+l.method+'"'))}},f.loadKeyEME=function(t,n){var a={frag:n,keyInfo:t};if(this.emeController&&this.config.emeEnabled){var s=this.emeController.loadKey(a);if(s)return(t.keyLoadPromise=s.then(function(l){return t.mediaKeySessionContext=l,a})).catch(function(l){throw t.keyLoadPromise=null,l})}return Promise.resolve(a)},f.loadKeyHTTP=function(t,n){var a=this,s=this.config,l=new s.loader(s);return n.keyLoader=t.loader=l,t.keyLoadPromise=new Promise(function(i,u){var d={keyInfo:t,frag:n,responseType:"arraybuffer",url:t.decryptdata.uri},g={timeout:s.fragLoadingTimeOut,maxRetry:0,retryDelay:s.fragLoadingRetryDelay,maxRetryDelay:s.fragLoadingMaxRetryTimeout,highWaterMark:0},m={onSuccess:function(T,L,D,C){var G=D.frag,j=D.keyInfo,Q=D.url;if(!G.decryptdata||j!==a.keyUriToKeyInfo[Q])return u(a.createKeyLoadError(G,w.ErrorDetails.KEY_LOAD_ERROR,C,"after key load, decryptdata unset or changed"));j.decryptdata.key=G.decryptdata.key=new Uint8Array(T.data),G.keyLoader=null,j.loader=null,i({frag:G,keyInfo:j})},onError:function(T,L,D){a.resetLoader(L),u(a.createKeyLoadError(n,w.ErrorDetails.KEY_LOAD_ERROR,D))},onTimeout:function(T,L,D){a.resetLoader(L),u(a.createKeyLoadError(n,w.ErrorDetails.KEY_LOAD_TIMEOUT,D))},onAbort:function(T,L,D){a.resetLoader(L),u(a.createKeyLoadError(n,w.ErrorDetails.INTERNAL_ABORTED,D))}};l.load(d,g,m)})},f.resetLoader=function(t){var n=t.frag,a=t.keyInfo,s=t.url,l=a.loader;n.keyLoader===l&&(n.keyLoader=null,a.loader=null),delete this.keyUriToKeyInfo[s],l&&l.destroy()},v}(),ln=function(){function v(){this._boundTick=void 0,this._tickTimer=null,this._tickInterval=null,this._tickCallCount=0,this._boundTick=this.tick.bind(this)}var f=v.prototype;return f.destroy=function(){this.onHandlerDestroying(),this.onHandlerDestroyed()},f.onHandlerDestroying=function(){this.clearNextTick(),this.clearInterval()},f.onHandlerDestroyed=function(){},f.hasInterval=function(){return!!this._tickInterval},f.hasNextTick=function(){return!!this._tickTimer},f.setInterval=function(t){return!this._tickInterval&&(this._tickInterval=self.setInterval(this._boundTick,t),!0)},f.clearInterval=function(){return!!this._tickInterval&&(self.clearInterval(this._tickInterval),this._tickInterval=null,!0)},f.clearNextTick=function(){return!!this._tickTimer&&(self.clearTimeout(this._tickTimer),this._tickTimer=null,!0)},f.tick=function(){this._tickCallCount++,this._tickCallCount===1&&(this.doTick(),this._tickCallCount>1&&this.tickImmediate(),this._tickCallCount=0)},f.tickImmediate=function(){this.clearNextTick(),this._tickTimer=self.setTimeout(this._boundTick,0)},f.doTick=function(){},v}(),Or={length:0,start:function(){return 0},end:function(){return 0}},Pt=function(){function v(){}return v.isBuffered=function(f,t){try{if(f){for(var n=v.getBuffered(f),a=0;a<n.length;a++)if(t>=n.start(a)&&t<=n.end(a))return!0}}catch{}return!1},v.bufferInfo=function(f,t,n){try{if(f){var a,s=v.getBuffered(f),l=[];for(a=0;a<s.length;a++)l.push({start:s.start(a),end:s.end(a)});return this.bufferedInfo(l,t,n)}}catch{}return{len:0,start:t,end:t,nextStart:void 0}},v.bufferedInfo=function(f,t,n){t=Math.max(0,t),f.sort(function(C,G){return C.start-G.start||G.end-C.end});var a=[];if(n)for(var s=0;s<f.length;s++){var l=a.length;if(l){var i=a[l-1].end;f[s].start-i<n?f[s].end>i&&(a[l-1].end=f[s].end):a.push(f[s])}else a.push(f[s])}else a=f;for(var u,d=0,g=t,m=t,T=0;T<a.length;T++){var L=a[T].start,D=a[T].end;if(t+n>=L&&t<D)g=L,d=(m=D)-t;else if(t+n<L){u=L;break}}return{len:d,start:g||0,end:m||0,nextStart:u}},v.getBuffered=function(f){try{return f.buffered}catch(t){return P.logger.log("failed to get media.buffered",t),Or}},v}(),za=function(v,f,t,n,a,s){n===void 0&&(n=0),a===void 0&&(a=-1),s===void 0&&(s=!1),this.level=void 0,this.sn=void 0,this.part=void 0,this.id=void 0,this.size=void 0,this.partial=void 0,this.transmuxing={start:0,executeStart:0,executeEnd:0,end:0},this.buffering={audio:{start:0,executeStart:0,executeEnd:0,end:0},video:{start:0,executeStart:0,executeEnd:0,end:0},audiovideo:{start:0,executeStart:0,executeEnd:0,end:0}},this.level=v,this.sn=f,this.id=t,this.size=n,this.part=a,this.partial=s};function al(v,f){for(var t=null,n=0,a=v.length;n<a;n++){var s=v[n];if(s&&s.cc===f){t=s;break}}return t}function sl(v,f){if(v){var t=v.start+f;v.start=v.startPTS=t,v.endPTS=t+v.duration}}function qa(v,f){for(var t=f.fragments,n=0,a=t.length;n<a;n++)sl(t[n],v);f.fragmentHint&&sl(f.fragmentHint,v),f.alignedSliding=!0}function ol(v,f){if(v.hasProgramDateTime&&f.hasProgramDateTime){var t=v.fragments,n=f.fragments;if(t.length&&n.length){var a=n[Math.round(n.length/2)-1],s=al(t,a.cc)||t[Math.round(t.length/2)-1],l=a.programDateTime,i=s.programDateTime;l!==null&&i!==null&&qa((i-l)/1e3-(s.start-a.start),v)}}}const ll=function(v,f){for(var t=0,n=v.length-1,a=null,s=null;t<=n;){var l=f(s=v[a=(t+n)/2|0]);if(l>0)t=a+1;else{if(!(l<0))return s;n=a-1}}return null};function Xa(v,f,t,n){t===void 0&&(t=0),n===void 0&&(n=0);var a=null;if(v?a=f[v.sn-f[0].sn+1]||null:t===0&&f[0].start===0&&(a=f[0]),a&&Qa(t,n,a)===0)return a;var s=ll(f,Qa.bind(null,t,n));return!s||s===v&&a?a:s}function Qa(v,f,t){if(v===void 0&&(v=0),f===void 0&&(f=0),t.start<=v&&t.start+t.duration>v)return 0;var n=Math.min(f,t.duration+(t.deltaPTS?t.deltaPTS:0));return t.start+t.duration-n<=v?1:t.start-n>v&&t.start?-1:0}function od(v,f,t){var n=1e3*Math.min(f,t.duration+(t.deltaPTS?t.deltaPTS:0));return(t.endProgramDateTime||0)-n>v}var ld=b(21);const ud=function(v){for(var f="",t=v.length,n=0;n<t;n++)f+="["+v.start(n).toFixed(3)+"-"+v.end(n).toFixed(3)+"]";return f};function cd(v,f){for(var t=0;t<f.length;t++){var n=f[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(v,typeof(a=function(s,l){if(typeof s!="object"||s===null)return s;var i=s[Symbol.toPrimitive];if(i!==void 0){var u=i.call(s,l);if(typeof u!="object")return u;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(s)}(n.key,"string"))=="symbol"?a:String(a),n)}var a}function Ja(v,f){return Ja=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,n){return t.__proto__=n,t},Ja(v,f)}var fr="STOPPED",gt="IDLE",Za="KEY_LOADING",wn="FRAG_LOADING",Rn="FRAG_LOADING_WAITING_RETRY",Ki="WAITING_TRACK",Ar="PARSING",ri="PARSED",ni="ENDED",Pr="ERROR",ii="WAITING_INIT_PTS",xn="WAITING_LEVEL",es=function(v){var f,t;function n(i,u,d,g){var m;return(m=v.call(this)||this).hls=void 0,m.fragPrevious=null,m.fragCurrent=null,m.fragmentTracker=void 0,m.transmuxer=null,m._state=fr,m.media=null,m.mediaBuffer=null,m.config=void 0,m.bitrateTest=!1,m.lastCurrentTime=0,m.nextLoadPosition=0,m.startPosition=0,m.loadedmetadata=!1,m.fragLoadError=0,m.retryDate=0,m.levels=null,m.fragmentLoader=void 0,m.keyLoader=void 0,m.levelLastLoaded=null,m.startFragRequested=!1,m.decrypter=void 0,m.initPTS=[],m.onvseeking=null,m.onvended=null,m.logPrefix="",m.log=void 0,m.warn=void 0,m.logPrefix=g,m.log=P.logger.log.bind(P.logger,g+":"),m.warn=P.logger.warn.bind(P.logger,g+":"),m.hls=i,m.fragmentLoader=new Sr(i.config),m.keyLoader=d,m.fragmentTracker=u,m.config=i.config,m.decrypter=new ld.default(i.config),i.on(y.Events.LEVEL_SWITCHING,m.onLevelSwitching,function(T){if(T===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T}(m)),m}t=v,(f=n).prototype=Object.create(t.prototype),f.prototype.constructor=f,Ja(f,t);var a,s,l=n.prototype;return l.doTick=function(){this.onTickEnd()},l.onTickEnd=function(){},l.startLoad=function(i){},l.stopLoad=function(){this.fragmentLoader.abort(),this.keyLoader.abort();var i=this.fragCurrent;i&&(i.abortRequests(),this.fragmentTracker.removeFragment(i)),this.resetTransmuxer(),this.fragCurrent=null,this.fragPrevious=null,this.clearInterval(),this.clearNextTick(),this.state=fr},l._streamEnded=function(i,u){if(u.live||i.nextStart||!i.end||!this.media)return!1;var d=u.partList;if(d!=null&&d.length){var g=d[d.length-1];return Pt.isBuffered(this.media,g.start+g.duration/2)}var m=u.fragments[u.fragments.length-1].type;return this.fragmentTracker.isEndListAppended(m)},l.getLevelDetails=function(){var i;if(this.levels&&this.levelLastLoaded!==null)return(i=this.levels[this.levelLastLoaded])===null||i===void 0?void 0:i.details},l.onMediaAttached=function(i,u){var d=this.media=this.mediaBuffer=u.media;this.onvseeking=this.onMediaSeeking.bind(this),this.onvended=this.onMediaEnded.bind(this),d.addEventListener("seeking",this.onvseeking),d.addEventListener("ended",this.onvended);var g=this.config;this.levels&&g.autoStartLoad&&this.state===fr&&this.startLoad(g.startPosition)},l.onMediaDetaching=function(){var i=this.media;i!=null&&i.ended&&(this.log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0),i&&this.onvseeking&&this.onvended&&(i.removeEventListener("seeking",this.onvseeking),i.removeEventListener("ended",this.onvended),this.onvseeking=this.onvended=null),this.keyLoader&&this.keyLoader.detach(),this.media=this.mediaBuffer=null,this.loadedmetadata=!1,this.fragmentTracker.removeAllFragments(),this.stopLoad()},l.onMediaSeeking=function(){var i=this.config,u=this.fragCurrent,d=this.media,g=this.mediaBuffer,m=this.state,T=d?d.currentTime:0,L=Pt.bufferInfo(g||d,T,i.maxBufferHole);if(this.log("media seeking to "+((0,A.isFiniteNumber)(T)?T.toFixed(3):T)+", state: "+m),this.state===ni)this.resetLoadingState();else if(u){var D=i.maxFragLookUpTolerance,C=u.start-D,G=u.start+u.duration+D;if(!L.len||G<L.start||C>L.end){var j=T>G;(T<C||j)&&(j&&u.loader&&(this.log("seeking outside of buffer while fragment load in progress, cancel fragment load"),u.abortRequests()),this.resetLoadingState())}}d&&(this.lastCurrentTime=T),this.loadedmetadata||L.len||(this.nextLoadPosition=this.startPosition=T),this.tickImmediate()},l.onMediaEnded=function(){this.startPosition=this.lastCurrentTime=0},l.onLevelSwitching=function(i,u){this.fragLoadError=0},l.onHandlerDestroying=function(){this.stopLoad(),v.prototype.onHandlerDestroying.call(this)},l.onHandlerDestroyed=function(){this.state=fr,this.hls.off(y.Events.LEVEL_SWITCHING,this.onLevelSwitching,this),this.fragmentLoader&&this.fragmentLoader.destroy(),this.keyLoader&&this.keyLoader.destroy(),this.decrypter&&this.decrypter.destroy(),this.hls=this.log=this.warn=this.decrypter=this.keyLoader=this.fragmentLoader=this.fragmentTracker=null,v.prototype.onHandlerDestroyed.call(this)},l.loadFragment=function(i,u,d){this._loadFragForPlayback(i,u,d)},l._loadFragForPlayback=function(i,u,d){var g=this;this._doFragLoad(i,u,d,function(m){if(g.fragContextChanged(i))return g.warn("Fragment "+i.sn+(m.part?" p: "+m.part.index:"")+" of level "+i.level+" was dropped during download."),void g.fragmentTracker.removeFragment(i);i.stats.chunkCount++,g._handleFragmentLoadProgress(m)}).then(function(m){if(m){g.fragLoadError=0;var T=g.state;g.fragContextChanged(i)?(T===wn||!g.fragCurrent&&T===Ar)&&(g.fragmentTracker.removeFragment(i),g.state=gt):("payload"in m&&(g.log("Loaded fragment "+i.sn+" of level "+i.level),g.hls.trigger(y.Events.FRAG_LOADED,m)),g._handleFragmentLoadComplete(m))}}).catch(function(m){g.state!==fr&&g.state!==Pr&&(g.warn(m),g.resetFragmentLoading(i))})},l.flushMainBuffer=function(i,u,d){if(d===void 0&&(d=null),i-u){var g={startOffset:i,endOffset:u,type:d};this.fragLoadError=0,this.hls.trigger(y.Events.BUFFER_FLUSHING,g)}},l._loadInitSegment=function(i,u){var d=this;this._doFragLoad(i,u).then(function(g){if(!g||d.fragContextChanged(i)||!d.levels)throw new Error("init load aborted");return g}).then(function(g){var m=d.hls,T=g.payload,L=i.decryptdata;if(T&&T.byteLength>0&&L&&L.key&&L.iv&&L.method==="AES-128"){var D=self.performance.now();return d.decrypter.decrypt(new Uint8Array(T),L.key.buffer,L.iv.buffer).then(function(C){var G=self.performance.now();return m.trigger(y.Events.FRAG_DECRYPTED,{frag:i,payload:C,stats:{tstart:D,tdecrypt:G}}),g.payload=C,g})}return g}).then(function(g){var m=d.fragCurrent,T=d.hls,L=d.levels;if(!L)throw new Error("init load aborted, missing levels");L[i.level].details;var D=i.stats;d.state=gt,d.fragLoadError=0,i.data=new Uint8Array(g.payload),D.parsing.start=D.buffering.start=self.performance.now(),D.parsing.end=D.buffering.end=self.performance.now(),g.frag===m&&T.trigger(y.Events.FRAG_BUFFERED,{stats:D,frag:m,part:null,id:i.type}),d.tick()}).catch(function(g){d.state!==fr&&d.state!==Pr&&(d.warn(g),d.resetFragmentLoading(i))})},l.fragContextChanged=function(i){var u=this.fragCurrent;return!i||!u||i.level!==u.level||i.sn!==u.sn||i.urlId!==u.urlId},l.fragBufferedComplete=function(i,u){var d,g,m,T,L=this.mediaBuffer?this.mediaBuffer:this.media;this.log("Buffered "+i.type+" sn: "+i.sn+(u?" part: "+u.index:"")+" of "+(this.logPrefix==="[stream-controller]"?"level":"track")+" "+i.level+" (frag:["+((d=i.startPTS)!=null?d:NaN).toFixed(3)+"-"+((g=i.endPTS)!=null?g:NaN).toFixed(3)+"] > buffer:"+(L?ud(Pt.getBuffered(L)):"(detached)")+")"),this.state=gt,L&&(!this.loadedmetadata&&i.type==O.PlaylistLevelType.MAIN&&L.buffered.length&&((m=this.fragCurrent)===null||m===void 0?void 0:m.sn)===((T=this.fragPrevious)===null||T===void 0?void 0:T.sn)&&(this.loadedmetadata=!0,this.seekToStartPos()),this.tick())},l.seekToStartPos=function(){},l._handleFragmentLoadComplete=function(i){var u=this.transmuxer;if(u){var d=i.frag,g=i.part,m=i.partsLoaded,T=!m||m.length===0||m.some(function(D){return!D}),L=new za(d.level,d.sn,d.stats.chunkCount+1,0,g?g.index:-1,!T);u.flush(L)}},l._handleFragmentLoadProgress=function(i){},l._doFragLoad=function(i,u,d,g){var m,T=this;if(d===void 0&&(d=null),!this.levels)throw new Error("frag load aborted, missing levels");var L=null;if(!i.encrypted||(m=i.decryptdata)!==null&&m!==void 0&&m.key?!i.encrypted&&u.encryptedFragments.length&&this.keyLoader.loadClear(i,u.encryptedFragments):(this.log("Loading key for "+i.sn+" of ["+u.startSN+"-"+u.endSN+"], "+(this.logPrefix==="[stream-controller]"?"level":"track")+" "+i.level),this.state=Za,this.fragCurrent=i,L=this.keyLoader.load(i).then(function(Q){if(!T.fragContextChanged(Q.frag))return T.hls.trigger(y.Events.KEY_LOADED,Q),T.state===Za&&(T.state=gt),Q}),this.hls.trigger(y.Events.KEY_LOADING,{frag:i}),this.throwIfFragContextChanged("KEY_LOADING")),d=Math.max(i.start,d||0),this.config.lowLatencyMode&&u){var D=u.partList;if(D&&g){d>i.end&&u.fragmentHint&&(i=u.fragmentHint);var C=this.getNextPart(D,i,d);if(C>-1){var G=D[C];return this.log("Loading part sn: "+i.sn+" p: "+G.index+" cc: "+i.cc+" of playlist ["+u.startSN+"-"+u.endSN+"] parts [0-"+C+"-"+(D.length-1)+"] "+(this.logPrefix==="[stream-controller]"?"level":"track")+": "+i.level+", target: "+parseFloat(d.toFixed(3))),this.nextLoadPosition=G.start+G.duration,this.state=wn,this.hls.trigger(y.Events.FRAG_LOADING,{frag:i,part:D[C],targetBufferTime:d}),this.throwIfFragContextChanged("FRAG_LOADING parts"),L?L.then(function(Q){return!Q||T.fragContextChanged(Q.frag)?null:T.doFragPartsLoad(i,D,C,g)}).catch(function(Q){return T.handleFragLoadError(Q)}):this.doFragPartsLoad(i,D,C,g).catch(function(Q){return T.handleFragLoadError(Q)})}if(!i.url||this.loadedEndOfParts(D,d))return Promise.resolve(null)}}this.log("Loading fragment "+i.sn+" cc: "+i.cc+" "+(u?"of ["+u.startSN+"-"+u.endSN+"] ":"")+(this.logPrefix==="[stream-controller]"?"level":"track")+": "+i.level+", target: "+parseFloat(d.toFixed(3))),(0,A.isFiniteNumber)(i.sn)&&!this.bitrateTest&&(this.nextLoadPosition=i.start+i.duration),this.state=wn,this.hls.trigger(y.Events.FRAG_LOADING,{frag:i,targetBufferTime:d}),this.throwIfFragContextChanged("FRAG_LOADING");var j=this.config.progressive;return j&&L?L.then(function(Q){return!Q||T.fragContextChanged(Q==null?void 0:Q.frag)?null:T.fragmentLoader.load(i,g)}).catch(function(Q){return T.handleFragLoadError(Q)}):Promise.all([this.fragmentLoader.load(i,j?g:void 0),L]).then(function(Q){var le=Q[0];return!j&&le&&g&&g(le),le}).catch(function(Q){return T.handleFragLoadError(Q)})},l.throwIfFragContextChanged=function(i){if(this.fragCurrent===null)throw new Error("frag load aborted, context changed in "+i)},l.doFragPartsLoad=function(i,u,d,g){var m=this;return new Promise(function(T,L){var D=[];(function C(G){var j=u[G];m.fragmentLoader.loadPart(i,j,g).then(function(Q){D[j.index]=Q;var le=Q.part;m.hls.trigger(y.Events.FRAG_LOADED,Q);var me=u[G+1];if(!me||me.fragment!==i)return T({frag:i,part:le,partsLoaded:D});C(G+1)}).catch(L)})(d)})},l.handleFragLoadError=function(i){if("data"in i){var u=i.data;i.data&&u.details===w.ErrorDetails.INTERNAL_ABORTED?this.handleFragLoadAborted(u.frag,u.part):this.hls.trigger(y.Events.ERROR,u)}else this.hls.trigger(y.Events.ERROR,{type:w.ErrorTypes.OTHER_ERROR,details:w.ErrorDetails.INTERNAL_EXCEPTION,err:i,fatal:!0});return null},l._handleTransmuxerFlush=function(i){var u=this.getCurrentContext(i);if(u&&this.state===Ar){var d=u.frag,g=u.part,m=u.level,T=self.performance.now();d.stats.parsing.end=T,g&&(g.stats.parsing.end=T),this.updateLevelTiming(d,g,m,i.partial)}else this.fragCurrent||this.state===fr||this.state===Pr||(this.state=gt)},l.getCurrentContext=function(i){var u=this.levels,d=i.level,g=i.sn,m=i.part;if(!u||!u[d])return this.warn("Levels object was unset while buffering fragment "+g+" of level "+d+". The current chunk will not be buffered."),null;var T=u[d],L=m>-1?function(C,G,j){if(!C||!C.details)return null;var Q=C.details.partList;if(Q)for(var le=Q.length;le--;){var me=Q[le];if(me.index===j&&me.fragment.sn===G)return me}return null}(T,g,m):null,D=L?L.fragment:function(C,G,j){if(!C||!C.details)return null;var Q=C.details,le=Q.fragments[G-Q.startSN];return le||((le=Q.fragmentHint)&&le.sn===G?le:G<Q.startSN&&j&&j.sn===G?j:null)}(T,g,this.fragCurrent);return D?{frag:D,part:L,level:T}:null},l.bufferFragmentData=function(i,u,d,g){if(i&&this.state===Ar){var m=i.data1,T=i.data2,L=m;if(m&&T&&(L=(0,ge.appendUint8Array)(m,T)),L&&L.length){var D={type:i.type,frag:u,part:d,chunkMeta:g,parent:u.type,data:L};this.hls.trigger(y.Events.BUFFER_APPENDING,D),i.dropped&&i.independent&&!d&&this.flushBufferGap(u)}}},l.flushBufferGap=function(i){var u=this.media;if(u)if(Pt.isBuffered(u,u.currentTime)){var d=u.currentTime,g=Pt.bufferInfo(u,d,0),m=i.duration,T=Math.min(2*this.config.maxFragLookUpTolerance,.25*m),L=Math.max(Math.min(i.start-T,g.end-T),d+T);i.start-L>T&&this.flushMainBuffer(L,i.start)}else this.flushMainBuffer(0,i.start)},l.getFwdBufferInfo=function(i,u){var d=this.config,g=this.getLoadPosition();if(!(0,A.isFiniteNumber)(g))return null;var m=Pt.bufferInfo(i,g,d.maxBufferHole);if(m.len===0&&m.nextStart!==void 0){var T=this.fragmentTracker.getBufferedFrag(g,u);if(T&&m.nextStart<T.end)return Pt.bufferInfo(i,g,Math.max(m.nextStart,d.maxBufferHole))}return m},l.getMaxBufferLength=function(i){var u,d=this.config;return u=i?Math.max(8*d.maxBufferSize/i,d.maxBufferLength):d.maxBufferLength,Math.min(u,d.maxMaxBufferLength)},l.reduceMaxBufferLength=function(i){var u=this.config,d=i||u.maxBufferLength;return u.maxMaxBufferLength>=d&&(u.maxMaxBufferLength/=2,this.warn("Reduce max buffer length to "+u.maxMaxBufferLength+"s"),!0)},l.getNextFragment=function(i,u){var d=u.fragments,g=d.length;if(!g)return null;var m,T=this.config,L=d[0].start;if(u.live){var D=T.initialLiveManifestSize;if(g<D)return this.warn("Not enough fragments to start playback (have: "+g+", need: "+D+")"),null;u.PTSKnown||this.startFragRequested||this.startPosition!==-1||(m=this.getInitialLiveFragment(u,d),this.startPosition=m?this.hls.liveSyncPosition||m.start:i)}else i<=L&&(m=d[0]);if(!m){var C=T.lowLatencyMode?u.partEnd:u.fragmentEnd;m=this.getFragmentAtPosition(i,C,u)}return this.mapToInitFragWhenRequired(m)},l.mapToInitFragWhenRequired=function(i){return i==null||!i.initSegment||i!=null&&i.initSegment.data||this.bitrateTest?i:i.initSegment},l.getNextPart=function(i,u,d){for(var g=-1,m=!1,T=!0,L=0,D=i.length;L<D;L++){var C=i[L];if(T=T&&!C.independent,g>-1&&d<C.start)break;var G=C.loaded;G?g=-1:(m||C.independent||T)&&C.fragment===u&&(g=L),m=G}return g},l.loadedEndOfParts=function(i,u){var d=i[i.length-1];return d&&u>d.start&&d.loaded},l.getInitialLiveFragment=function(i,u){var d=this.fragPrevious,g=null;if(d){if(i.hasProgramDateTime&&(this.log("Live playlist, switching playlist, load frag with same PDT: "+d.programDateTime),g=function(D,C,G){if(C===null||!Array.isArray(D)||!D.length||!(0,A.isFiniteNumber)(C)||C<(D[0].programDateTime||0)||C>=(D[D.length-1].endProgramDateTime||0))return null;G=G||0;for(var j=0;j<D.length;++j){var Q=D[j];if(od(C,G,Q))return Q}return null}(u,d.endProgramDateTime,this.config.maxFragLookUpTolerance)),!g){var m=d.sn+1;if(m>=i.startSN&&m<=i.endSN){var T=u[m-i.startSN];d.cc===T.cc&&(g=T,this.log("Live playlist, switching playlist, load frag with next SN: "+g.sn))}g||(g=function(D,C){return ll(D,function(G){return G.cc<C?1:G.cc>C?-1:0})}(u,d.cc),g&&this.log("Live playlist, switching playlist, load frag with same CC: "+g.sn))}}else{var L=this.hls.liveSyncPosition;L!==null&&(g=this.getFragmentAtPosition(L,this.bitrateTest?i.fragmentEnd:i.edge,i))}return g},l.getFragmentAtPosition=function(i,u,d){var g,m=this.config,T=this.fragPrevious,L=d.fragments,D=d.endSN,C=d.fragmentHint,G=m.maxFragLookUpTolerance,j=!!(m.lowLatencyMode&&d.partList&&C);if(j&&C&&!this.bitrateTest&&(L=L.concat(C),D=C.sn),g=i<u?Xa(T,L,i,i>u-G?0:G):L[L.length-1]){var Q=g.sn-d.startSN;if(this.fragmentTracker.getState(g)===Be.OK&&(T=g),T&&g.sn===T.sn&&!j&&T&&g.level===T.level){var le=L[Q+1];g.sn<D&&this.fragmentTracker.getState(le)!==Be.OK?(this.log("SN "+g.sn+" just loaded, load next one: "+le.sn),g=le):g=null}}return g},l.synchronizeToLiveEdge=function(i){var u=this.config,d=this.media;if(d){var g=this.hls.liveSyncPosition,m=d.currentTime,T=i.fragments[0].start,L=i.edge,D=m>=T-u.maxFragLookUpTolerance&&m<=L;if(g!==null&&d.duration>g&&(m<g||!D)){var C=u.liveMaxLatencyDuration!==void 0?u.liveMaxLatencyDuration:u.liveMaxLatencyDurationCount*i.targetduration;(!D&&d.readyState<4||m<L-C)&&(this.loadedmetadata||(this.nextLoadPosition=g),d.readyState&&(this.warn("Playback: "+m.toFixed(3)+" is located too far from the end of live sliding playlist: "+L+", reset currentTime to : "+g.toFixed(3)),d.currentTime=g))}}},l.alignPlaylists=function(i,u){var d=this.levels,g=this.levelLastLoaded,m=this.fragPrevious,T=g!==null?d[g]:null,L=i.fragments.length;if(!L)return this.warn("No fragments in live playlist"),0;var D=i.fragments[0].start,C=!u,G=i.alignedSliding&&(0,A.isFiniteNumber)(D);if(C||!G&&!D){(function(Q,le,me){le&&(function(de,Se,Ge){if(function(xe,Ke,Oe){return!(!Ke.details||!(Oe.endCC>Oe.startCC||xe&&xe.cc<Oe.startCC))}(de,Ge,Se)){var We=function(xe,Ke,Oe){var ct=xe.fragments,At=Ke.fragments;if(At.length&&ct.length){var ot=al(ct,At[0].cc);if(ot&&(!ot||ot.startPTS))return ot;P.logger.log("No frag in previous level to align on")}else P.logger.log("No fragments to align")}(Ge.details,Se);We&&(0,A.isFiniteNumber)(We.start)&&(P.logger.log("Adjusting PTS using last level due to CC increase within current level "+Se.url),qa(We.start,Se))}}(Q,me,le),!me.alignedSliding&&le.details&&function(de,Se){if(Se.fragments.length&&de.hasProgramDateTime&&Se.hasProgramDateTime){var Ge=Se.fragments[0].programDateTime,We=de.fragments[0].programDateTime,xe=(We-Ge)/1e3+Se.fragments[0].start;xe&&(0,A.isFiniteNumber)(xe)&&(P.logger.log("Adjusting PTS using programDateTime delta "+(We-Ge)+"ms, sliding:"+xe.toFixed(3)+" "+de.url+" "),qa(xe,de))}}(me,le.details),me.alignedSliding||!le.details||me.skippedSegments||te(le.details,me))})(m,T,i);var j=i.fragments[0].start;return this.log("Live playlist sliding: "+j.toFixed(2)+" start-sn: "+(u?u.startSN:"na")+"->"+i.startSN+" prev-sn: "+(m?m.sn:"na")+" fragments: "+L),j}return D},l.waitForCdnTuneIn=function(i){return i.live&&i.canBlockReload&&i.partTarget&&i.tuneInGoal>Math.max(i.partHoldBack,3*i.partTarget)},l.setStartPosition=function(i,u){var d=this.startPosition;if(d<u&&(d=-1),d===-1||this.lastCurrentTime===-1){var g=i.startTimeOffset;(0,A.isFiniteNumber)(g)?(d=u+g,g<0&&(d+=i.totalduration),d=Math.min(Math.max(u,d),u+i.totalduration),this.log("Start time offset "+g+" found in playlist, adjust startPosition to "+d),this.startPosition=d):i.live?d=this.hls.liveSyncPosition||u:this.startPosition=d=0,this.lastCurrentTime=d}this.nextLoadPosition=d},l.getLoadPosition=function(){var i=this.media,u=0;return this.loadedmetadata&&i?u=i.currentTime:this.nextLoadPosition&&(u=this.nextLoadPosition),u},l.handleFragLoadAborted=function(i,u){this.transmuxer&&i.sn!=="initSegment"&&i.stats.aborted&&(this.warn("Fragment "+i.sn+(u?" part"+u.index:"")+" of level "+i.level+" was aborted"),this.resetFragmentLoading(i))},l.resetFragmentLoading=function(i){this.fragCurrent&&(this.fragContextChanged(i)||this.state===Rn)||(this.state=gt)},l.onFragmentOrKeyLoadError=function(i,u){if(u.fatal)return this.stopLoad(),void(this.state=Pr);var d=this.config;if(u.chunkMeta){var g=this.getCurrentContext(u.chunkMeta);g&&(u.frag=g.frag,u.levelRetry=!0,this.fragLoadError=d.fragLoadingMaxRetry)}var m=u.frag;if(m&&m.type===i)if(this.fragCurrent,this.fragLoadError+1<=d.fragLoadingMaxRetry){this.loadedmetadata||(this.startFragRequested=!1,this.nextLoadPosition=this.startPosition);var T=Math.min(Math.pow(2,this.fragLoadError)*d.fragLoadingRetryDelay,d.fragLoadingMaxRetryTimeout);this.warn("Fragment "+m.sn+" of "+i+" "+m.level+" failed to load, retrying in "+T+"ms"),this.retryDate=self.performance.now()+T,this.fragLoadError++,this.state=Rn}else u.levelRetry?(i===O.PlaylistLevelType.AUDIO&&(this.fragCurrent=null),this.fragLoadError=0,this.state=gt):(P.logger.error(u.details+" reaches max retry, redispatch as fatal ..."),u.fatal=!0,this.hls.stopLoad(),this.state=Pr)},l.afterBufferFlushed=function(i,u,d){if(i){var g=Pt.getBuffered(i);this.fragmentTracker.detectEvictedFragments(u,g,d),this.state===ni&&this.resetLoadingState()}},l.resetLoadingState=function(){this.log("Reset loading state"),this.fragCurrent=null,this.fragPrevious=null,this.state=gt},l.resetStartWhenNotLoaded=function(i){if(!this.loadedmetadata){this.startFragRequested=!1;var u=this.levels?this.levels[i].details:null;u!=null&&u.live?(this.startPosition=-1,this.setStartPosition(u,0),this.resetLoadingState()):this.nextLoadPosition=this.startPosition}},l.updateLevelTiming=function(i,u,d,g){var m=this,T=d.details;Object.keys(i.elementaryStreams).reduce(function(L,D){var C=i.elementaryStreams[D];if(C){var G=C.endPTS-C.startPTS;if(G<=0)return m.warn("Could not parse fragment "+i.sn+" "+D+" duration reliably ("+G+")"),L||!1;var j=g?0:z(T,i,C.startPTS,C.endPTS,C.startDTS,C.endDTS);return m.hls.trigger(y.Events.LEVEL_PTS_UPDATED,{details:T,level:d,drift:j,type:D,frag:i,start:C.startPTS,end:C.endPTS}),!0}return L},!1)||(this.warn("Found no media in fragment "+i.sn+" of level "+d.id+" resetting transmuxer to fallback to playlist timing"),this.resetTransmuxer()),this.state=ri,this.hls.trigger(y.Events.FRAG_PARSED,{frag:i,part:u})},l.resetTransmuxer=function(){this.transmuxer&&(this.transmuxer.destroy(),this.transmuxer=null)},a=n,(s=[{key:"state",get:function(){return this._state},set:function(i){var u=this._state;u!==i&&(this._state=i,this.log(u+"->"+i))}}])&&cd(a.prototype,s),Object.defineProperty(a,"prototype",{writable:!1}),n}(ln);function ts(){return self.MediaSource||self.WebKitMediaSource}function ul(){return self.SourceBuffer||self.WebKitSourceBuffer}var rs=function(){var v=ENTRY_MODULE,f={},t=function a(s){var l=f[s];if(l!==void 0)return l.exports;var i=f[s]={exports:{}};return v[s].call(i.exports,i,i.exports,a),i.exports};t.m=v,t.n=function(a){var s=a&&a.__esModule?function(){return a.default}:function(){return a};return t.d(s,{a:s}),s},t.d=function(a,s){for(var l in s)t.o(s,l)&&!t.o(a,l)&&Object.defineProperty(a,l,{enumerable:!0,get:s[l]})},t.o=function(a,s){return Object.prototype.hasOwnProperty.call(a,s)},t.r=function(a){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})};var n=t(ENTRY_MODULE);return n.default||n}.toString().split("ENTRY_MODULE"),cl="\\(\\s*(/\\*.*?\\*/)?\\s*.*?([\\.|\\-|\\+|\\w|/|@]+).*?\\)";function fl(v){return(v+"").replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}function fd(v,f,t){var n={};n[t]=[];var a=f.toString().replace(/^"[^"]+"/,"function"),s=a.match(/^function\s?\w*\(\w+,\s*\w+,\s*(\w+)\)/)||a.match(/^\(\w+,\s*\w+,\s*(\w+)\)\s?\=\s?\>/);if(!s)return n;for(var l,i=s[1],u=new RegExp("(\\\\n|\\W)"+fl(i)+cl,"g");l=u.exec(a);)l[3]!=="dll-reference"&&n[t].push(l[3]);for(u=new RegExp("\\("+fl(i)+'\\("(dll-reference\\s([\\.|\\-|\\+|\\w|/|@]+))"\\)\\)'+cl,"g");l=u.exec(a);)v[l[2]]||(n[t].push(l[1]),v[l[2]]=b(l[1]).m),n[l[2]]=n[l[2]]||[],n[l[2]].push(l[4]);for(var d,g=Object.keys(n),m=0;m<g.length;m++)for(var T=0;T<n[g[m]].length;T++)d=n[g[m]][T],isNaN(1*d)||(n[g[m]][T]=1*n[g[m]][T]);return n}function dd(v){return Object.keys(v).reduce(function(f,t){return f||v[t].length>0},!1)}function dl(v,f,t,n){var a=v[n].map(function(s){return'"'+s+'": '+f[n][s].toString().replace(/^"[^"]+"/,"function")}).join(",");return rs[0]+"{"+a+"}"+rs[1]+'"'+t+'"'+rs[2]}var un=b(544),ns=b(729),hd=b.n(ns),is=ts()||{isTypeSupported:function(){return!1}},hl=function(){function v(t,n,a,s){var l=this;this.hls=void 0,this.id=void 0,this.observer=void 0,this.frag=null,this.part=null,this.useWorker=void 0,this.worker=void 0,this.onwmsg=void 0,this.transmuxer=null,this.onTransmuxComplete=void 0,this.onFlush=void 0;var i=t.config;this.hls=t,this.id=n,this.useWorker=!!i.enableWorker,this.onTransmuxComplete=a,this.onFlush=s;var u=function(T,L){(L=L||{}).frag=l.frag,L.id=l.id,l.hls.trigger(T,L)};this.observer=new ns.EventEmitter,this.observer.on(y.Events.FRAG_DECRYPTED,u),this.observer.on(y.Events.ERROR,u);var d={mp4:is.isTypeSupported("video/mp4"),mpeg:is.isTypeSupported("audio/mpeg"),mp3:is.isTypeSupported('audio/mp4; codecs="mp3"')},g=navigator.vendor;if(this.useWorker&&typeof Worker<"u"){var m;P.logger.log("demuxing in webworker");try{m=this.worker=function(T,L){L=L||{};var D={main:b.m},C=L.all?{main:Object.keys(D.main)}:function(me,de){for(var Se={main:[de]},Ge={main:[]},We={main:{}};dd(Se);)for(var xe=Object.keys(Se),Ke=0;Ke<xe.length;Ke++){var Oe=xe[Ke],ct=Se[Oe].pop();if(We[Oe]=We[Oe]||{},!We[Oe][ct]&&me[Oe][ct]){We[Oe][ct]=!0,Ge[Oe]=Ge[Oe]||[],Ge[Oe].push(ct);for(var At=fd(me,me[Oe][ct],Oe),ot=Object.keys(At),ht=0;ht<ot.length;ht++)Se[ot[ht]]=Se[ot[ht]]||[],Se[ot[ht]]=Se[ot[ht]].concat(At[ot[ht]])}}return Ge}(D,T),G="";Object.keys(C).filter(function(me){return me!=="main"}).forEach(function(me){for(var de=0;C[me][de];)de++;C[me].push(de),D[me][de]="(function(module, exports, __webpack_require__) { module.exports = __webpack_require__; })",G=G+"var "+me+" = ("+dl(C,D,de,modules)+`)();
`}),G=G+"new (("+dl(C,D,T,"main")+")())(self);";var j=new window.Blob([G],{type:"text/javascript"}),Q=(window.URL||window.webkitURL||window.mozURL||window.msURL).createObjectURL(j),le=new window.Worker(Q);return le.objectURL=Q,le}(182),this.onwmsg=this.onWorkerMessage.bind(this),m.addEventListener("message",this.onwmsg),m.onerror=function(T){l.useWorker=!1,P.logger.warn("Exception in webworker, fallback to inline"),l.hls.trigger(y.Events.ERROR,{type:w.ErrorTypes.OTHER_ERROR,details:w.ErrorDetails.INTERNAL_EXCEPTION,fatal:!1,event:"demuxerWorker",error:new Error(T.message+"  ("+T.filename+":"+T.lineno+")")})},m.postMessage({cmd:"init",typeSupported:d,vendor:g,id:n,config:JSON.stringify(i)})}catch(T){P.logger.warn("Error in worker:",T),P.logger.error("Error while initializing DemuxerWorker, fallback to inline"),m&&self.URL.revokeObjectURL(m.objectURL),this.transmuxer=new un.default(this.observer,d,i,g,n),this.worker=null}}else this.transmuxer=new un.default(this.observer,d,i,g,n)}var f=v.prototype;return f.destroy=function(){var t=this.worker;if(t)t.removeEventListener("message",this.onwmsg),t.terminate(),this.worker=null,this.onwmsg=void 0;else{var n=this.transmuxer;n&&(n.destroy(),this.transmuxer=null)}var a=this.observer;a&&a.removeAllListeners(),this.frag=null,this.observer=null,this.hls=null},f.push=function(t,n,a,s,l,i,u,d,g,m){var T,L,D=this;g.transmuxing.start=self.performance.now();var C=this.transmuxer,G=this.worker,j=i?i.start:l.start,Q=l.decryptdata,le=this.frag,me=!(le&&l.cc===le.cc),de=!(le&&g.level===le.level),Se=le?g.sn-le.sn:-1,Ge=this.part?g.part-this.part.index:-1,We=Se===0&&g.id>1&&g.id===(le==null?void 0:le.stats.chunkCount),xe=!de&&(Se===1||Se===0&&(Ge===1||We&&Ge<=0)),Ke=self.performance.now();(de||Se||l.stats.parsing.start===0)&&(l.stats.parsing.start=Ke),!i||!Ge&&xe||(i.stats.parsing.start=Ke);var Oe=!(le&&((T=l.initSegment)===null||T===void 0?void 0:T.url)===((L=le.initSegment)===null||L===void 0?void 0:L.url)),ct=new un.TransmuxState(me,xe,d,de,j,Oe);if(!xe||me||Oe){P.logger.log("[transmuxer-interface, "+l.type+"]: Starting new transmux session for sn: "+g.sn+" p: "+g.part+" level: "+g.level+" id: "+g.id+`
        discontinuity: `+me+`
        trackSwitch: `+de+`
        contiguous: `+xe+`
        accurateTimeOffset: `+d+`
        timeOffset: `+j+`
        initSegmentChange: `+Oe);var At=new un.TransmuxConfig(a,s,n,u,m);this.configureTransmuxer(At)}if(this.frag=l,this.part=i,G)G.postMessage({cmd:"demux",data:t,decryptdata:Q,chunkMeta:g,state:ct},t instanceof ArrayBuffer?[t]:[]);else if(C){var ot=C.push(t,Q,g,ct);(0,un.isPromise)(ot)?(C.async=!0,ot.then(function(ht){D.handleTransmuxComplete(ht)}).catch(function(ht){D.transmuxerError(ht,g,"transmuxer-interface push error")})):(C.async=!1,this.handleTransmuxComplete(ot))}},f.flush=function(t){var n=this;t.transmuxing.start=self.performance.now();var a=this.transmuxer,s=this.worker;if(s)s.postMessage({cmd:"flush",chunkMeta:t});else if(a){var l=a.flush(t);(0,un.isPromise)(l)||a.async?((0,un.isPromise)(l)||(l=Promise.resolve(l)),l.then(function(i){n.handleFlushResult(i,t)}).catch(function(i){n.transmuxerError(i,t,"transmuxer-interface flush error")})):this.handleFlushResult(l,t)}},f.transmuxerError=function(t,n,a){this.hls&&this.hls.trigger(y.Events.ERROR,{type:w.ErrorTypes.MEDIA_ERROR,details:w.ErrorDetails.FRAG_PARSING_ERROR,chunkMeta:n,fatal:!1,error:t,err:t,reason:a})},f.handleFlushResult=function(t,n){var a=this;t.forEach(function(s){a.handleTransmuxComplete(s)}),this.onFlush(n)},f.onWorkerMessage=function(t){var n=t.data,a=this.hls;switch(n.event){case"init":self.URL.revokeObjectURL(this.worker.objectURL);break;case"transmuxComplete":this.handleTransmuxComplete(n.data);break;case"flush":this.onFlush(n.data);break;case"workerLog":P.logger[n.data.logType]&&P.logger[n.data.logType](n.data.message);break;default:n.data=n.data||{},n.data.frag=this.frag,n.data.id=this.id,a.trigger(n.event,n.data)}},f.configureTransmuxer=function(t){var n=this.worker,a=this.transmuxer;n?n.postMessage({cmd:"configure",config:t}):a&&a.configure(t)},f.handleTransmuxComplete=function(t){t.chunkMeta.transmuxing.end=self.performance.now(),this.onTransmuxComplete(t)},v}(),gd=function(){function v(t,n,a,s){this.config=void 0,this.media=null,this.fragmentTracker=void 0,this.hls=void 0,this.nudgeRetry=0,this.stallReported=!1,this.stalled=null,this.moved=!1,this.seeking=!1,this.config=t,this.media=n,this.fragmentTracker=a,this.hls=s}var f=v.prototype;return f.destroy=function(){this.media=null,this.hls=this.fragmentTracker=null},f.poll=function(t,n){var a=this.config,s=this.media,l=this.stalled;if(s!==null){var i=s.currentTime,u=s.seeking,d=this.seeking&&!u,g=!this.seeking&&u;if(this.seeking=u,i===t){if((g||d)&&(this.stalled=null),!(s.paused&&!u||s.ended||s.playbackRate===0)&&Pt.getBuffered(s).length){var m=Pt.bufferInfo(s,i,0),T=m.len>0,L=m.nextStart||0;if(T||L){if(u){var D=m.len>2,C=!L||n&&n.start<=i||L-i>2&&!this.fragmentTracker.getPartialFragment(i);if(D||C)return;this.moved=!1}if(!this.moved&&this.stalled!==null){var G,j=Math.max(L,m.start||0)-i,Q=this.hls.levels?this.hls.levels[this.hls.currentLevel]:null,le=!(Q==null||(G=Q.details)===null||G===void 0)&&G.live?2*Q.details.targetduration:2;if(j>0&&j<=le)return void this._trySkipBufferHole(null)}var me=self.performance.now();if(l!==null){var de=me-l;if(u||!(de>=250)||(this._reportStall(m),this.media)){var Se=Pt.bufferInfo(s,i,a.maxBufferHole);this._tryFixBufferStall(Se,de)}}else this.stalled=me}}}else if(this.moved=!0,l!==null){if(this.stallReported){var Ge=self.performance.now()-l;P.logger.warn("playback not stuck anymore @"+i+", after "+Math.round(Ge)+"ms"),this.stallReported=!1}this.stalled=null,this.nudgeRetry=0}}},f._tryFixBufferStall=function(t,n){var a=this.config,s=this.fragmentTracker,l=this.media;if(l!==null){var i=l.currentTime,u=s.getPartialFragment(i);if(u&&(this._trySkipBufferHole(u)||!this.media))return;t.len>a.maxBufferHole&&n>1e3*a.highBufferWatchdogPeriod&&(P.logger.warn("Trying to nudge playhead over buffer-hole"),this.stalled=null,this._tryNudgeBuffer())}},f._reportStall=function(t){var n=this.hls,a=this.media;!this.stallReported&&a&&(this.stallReported=!0,P.logger.warn("Playback stalling at @"+a.currentTime+" due to low buffer ("+JSON.stringify(t)+")"),n.trigger(y.Events.ERROR,{type:w.ErrorTypes.MEDIA_ERROR,details:w.ErrorDetails.BUFFER_STALLED_ERROR,fatal:!1,buffer:t.len}))},f._trySkipBufferHole=function(t){var n=this.config,a=this.hls,s=this.media;if(s===null)return 0;for(var l=s.currentTime,i=0,u=Pt.getBuffered(s),d=0;d<u.length;d++){var g=u.start(d);if(l+n.maxBufferHole>=i&&l<g){var m=Math.max(g+.05,s.currentTime+.1);return P.logger.warn("skipping hole, adjusting currentTime from "+l+" to "+m),this.moved=!0,this.stalled=null,s.currentTime=m,t&&a.trigger(y.Events.ERROR,{type:w.ErrorTypes.MEDIA_ERROR,details:w.ErrorDetails.BUFFER_SEEK_OVER_HOLE,fatal:!1,reason:"fragment loaded with buffer holes, seeking from "+l+" to "+m,frag:t}),m}i=u.end(d)}return 0},f._tryNudgeBuffer=function(){var t=this.config,n=this.hls,a=this.media,s=this.nudgeRetry;if(a!==null){var l=a.currentTime;if(this.nudgeRetry++,s<t.nudgeMaxRetry){var i=l+(s+1)*t.nudgeOffset;P.logger.warn("Nudging 'currentTime' from "+l+" to "+i),a.currentTime=i,n.trigger(y.Events.ERROR,{type:w.ErrorTypes.MEDIA_ERROR,details:w.ErrorDetails.BUFFER_NUDGE_ON_STALL,fatal:!1})}else P.logger.error("Playhead still not moving while enough data buffered @"+l+" after "+t.nudgeMaxRetry+" nudges"),n.trigger(y.Events.ERROR,{type:w.ErrorTypes.MEDIA_ERROR,details:w.ErrorDetails.BUFFER_STALLED_ERROR,fatal:!0})}},v}();function vd(v,f){for(var t=0;t<f.length;t++){var n=f[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(v,typeof(a=function(s,l){if(typeof s!="object"||s===null)return s;var i=s[Symbol.toPrimitive];if(i!==void 0){var u=i.call(s,l);if(typeof u!="object")return u;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(s)}(n.key,"string"))=="symbol"?a:String(a),n)}var a}function as(v,f){return as=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,n){return t.__proto__=n,t},as(v,f)}var md=function(v){var f,t;function n(i,u,d){var g;return(g=v.call(this,i,u,d,"[stream-controller]")||this).audioCodecSwap=!1,g.gapController=null,g.level=-1,g._forceStartLoad=!1,g.altAudio=!1,g.audioOnly=!1,g.fragPlaying=null,g.onvplaying=null,g.onvseeked=null,g.fragLastKbps=0,g.couldBacktrack=!1,g.backtrackFragment=null,g.audioCodecSwitch=!1,g.videoBuffer=null,g._registerListeners(),g}t=v,(f=n).prototype=Object.create(t.prototype),f.prototype.constructor=f,as(f,t);var a,s,l=n.prototype;return l._registerListeners=function(){var i=this.hls;i.on(y.Events.MEDIA_ATTACHED,this.onMediaAttached,this),i.on(y.Events.MEDIA_DETACHING,this.onMediaDetaching,this),i.on(y.Events.MANIFEST_LOADING,this.onManifestLoading,this),i.on(y.Events.MANIFEST_PARSED,this.onManifestParsed,this),i.on(y.Events.LEVEL_LOADING,this.onLevelLoading,this),i.on(y.Events.LEVEL_LOADED,this.onLevelLoaded,this),i.on(y.Events.FRAG_LOAD_EMERGENCY_ABORTED,this.onFragLoadEmergencyAborted,this),i.on(y.Events.ERROR,this.onError,this),i.on(y.Events.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),i.on(y.Events.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),i.on(y.Events.BUFFER_CREATED,this.onBufferCreated,this),i.on(y.Events.BUFFER_FLUSHED,this.onBufferFlushed,this),i.on(y.Events.LEVELS_UPDATED,this.onLevelsUpdated,this),i.on(y.Events.FRAG_BUFFERED,this.onFragBuffered,this)},l._unregisterListeners=function(){var i=this.hls;i.off(y.Events.MEDIA_ATTACHED,this.onMediaAttached,this),i.off(y.Events.MEDIA_DETACHING,this.onMediaDetaching,this),i.off(y.Events.MANIFEST_LOADING,this.onManifestLoading,this),i.off(y.Events.MANIFEST_PARSED,this.onManifestParsed,this),i.off(y.Events.LEVEL_LOADED,this.onLevelLoaded,this),i.off(y.Events.FRAG_LOAD_EMERGENCY_ABORTED,this.onFragLoadEmergencyAborted,this),i.off(y.Events.ERROR,this.onError,this),i.off(y.Events.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),i.off(y.Events.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),i.off(y.Events.BUFFER_CREATED,this.onBufferCreated,this),i.off(y.Events.BUFFER_FLUSHED,this.onBufferFlushed,this),i.off(y.Events.LEVELS_UPDATED,this.onLevelsUpdated,this),i.off(y.Events.FRAG_BUFFERED,this.onFragBuffered,this)},l.onHandlerDestroying=function(){this._unregisterListeners(),this.onMediaDetaching()},l.startLoad=function(i){if(this.levels){var u=this.lastCurrentTime,d=this.hls;if(this.stopLoad(),this.setInterval(100),this.level=-1,this.fragLoadError=0,!this.startFragRequested){var g=d.startLevel;g===-1&&(d.config.testBandwidth&&this.levels.length>1?(g=0,this.bitrateTest=!0):g=d.nextAutoLevel),this.level=d.nextLoadLevel=g,this.loadedmetadata=!1}u>0&&i===-1&&(this.log("Override startPosition with lastCurrentTime @"+u.toFixed(3)),i=u),this.state=gt,this.nextLoadPosition=this.startPosition=this.lastCurrentTime=i,this.tick()}else this._forceStartLoad=!0,this.state=fr},l.stopLoad=function(){this._forceStartLoad=!1,v.prototype.stopLoad.call(this)},l.doTick=function(){switch(this.state){case gt:this.doTickIdle();break;case xn:var i,u=this.levels,d=this.level,g=u==null||(i=u[d])===null||i===void 0?void 0:i.details;if(g&&(!g.live||this.levelLastLoaded===this.level)){if(this.waitForCdnTuneIn(g))break;this.state=gt;break}break;case Rn:var m,T=self.performance.now(),L=this.retryDate;(!L||T>=L||(m=this.media)!==null&&m!==void 0&&m.seeking)&&(this.log("retryDate reached, switch back to IDLE state"),this.resetStartWhenNotLoaded(this.level),this.state=gt)}this.onTickEnd()},l.onTickEnd=function(){v.prototype.onTickEnd.call(this),this.checkBuffer(),this.checkFragmentChanged()},l.doTickIdle=function(){var i=this.hls,u=this.levelLastLoaded,d=this.levels,g=this.media,m=i.config,T=i.nextLoadLevel;if(u!==null&&(g||!this.startFragRequested&&m.startFragPrefetch)&&(!this.altAudio||!this.audioOnly)&&d&&d[T]){var L=d[T],D=this.getMainFwdBufferInfo();if(D!==null){var C=this.getLevelDetails();if(C&&this._streamEnded(D,C)){var G={};return this.altAudio&&(G.type="video"),this.hls.trigger(y.Events.BUFFER_EOS,G),void(this.state=ni)}this.level=i.nextLoadLevel=T;var j=L.details;if(!j||this.state===xn||j.live&&this.levelLastLoaded!==T)return this.level=T,void(this.state=xn);if(!(D.len>=this.getMaxBufferLength(L.maxBitrate))){this.backtrackFragment&&this.backtrackFragment.start>D.end&&(this.backtrackFragment=null);var Q=this.backtrackFragment?this.backtrackFragment.start:D.end,le=this.getNextFragment(Q,j);if(this.couldBacktrack&&!this.fragPrevious&&le&&le.sn!=="initSegment"&&this.fragmentTracker.getState(le)!==Be.OK){var me,de=((me=this.backtrackFragment)!=null?me:le).sn-j.startSN,Se=j.fragments[de-1];Se&&le.cc===Se.cc&&(le=Se,this.fragmentTracker.removeFragment(Se))}else this.backtrackFragment&&D.len&&(this.backtrackFragment=null);if(le&&this.fragmentTracker.getState(le)===Be.OK&&this.nextLoadPosition>Q){var Ge=this.audioOnly&&!this.altAudio?Z.ElementaryStreamTypes.AUDIO:Z.ElementaryStreamTypes.VIDEO,We=(Ge===Z.ElementaryStreamTypes.VIDEO?this.videoBuffer:this.mediaBuffer)||this.media;We&&this.afterBufferFlushed(We,Ge,O.PlaylistLevelType.MAIN),le=this.getNextFragment(this.nextLoadPosition,j)}le&&(!le.initSegment||le.initSegment.data||this.bitrateTest||(le=le.initSegment),this.loadFragment(le,j,Q))}}}},l.loadFragment=function(i,u,d){var g,m=this.fragmentTracker.getState(i);this.fragCurrent=i,m===Be.NOT_LOADED?i.sn==="initSegment"?this._loadInitSegment(i,u):this.bitrateTest?(this.log("Fragment "+i.sn+" of level "+i.level+" is being downloaded to test bitrate and will not be buffered"),this._loadBitrateTestFrag(i,u)):(this.startFragRequested=!0,v.prototype.loadFragment.call(this,i,u,d)):m===Be.APPENDING?this.reduceMaxBufferLength(i.duration)&&this.fragmentTracker.removeFragment(i):((g=this.media)===null||g===void 0?void 0:g.buffered.length)===0&&this.fragmentTracker.removeAllFragments()},l.getAppendedFrag=function(i){var u=this.fragmentTracker.getAppendedFrag(i,O.PlaylistLevelType.MAIN);return u&&"fragment"in u?u.fragment:u},l.getBufferedFrag=function(i){return this.fragmentTracker.getBufferedFrag(i,O.PlaylistLevelType.MAIN)},l.followingBufferedFrag=function(i){return i?this.getBufferedFrag(i.end+.5):null},l.immediateLevelSwitch=function(){this.abortCurrentFrag(),this.flushMainBuffer(0,Number.POSITIVE_INFINITY)},l.nextLevelSwitch=function(){var i=this.levels,u=this.media;if(u!=null&&u.readyState){var d,g=this.getAppendedFrag(u.currentTime);if(g&&g.start>1&&this.flushMainBuffer(0,g.start-1),!u.paused&&i){var m=i[this.hls.nextLoadLevel],T=this.fragLastKbps;d=T&&this.fragCurrent?this.fragCurrent.duration*m.maxBitrate/(1e3*T)+1:0}else d=0;var L=this.getBufferedFrag(u.currentTime+d);if(L){var D=this.followingBufferedFrag(L);if(D){this.abortCurrentFrag();var C=D.maxStartPTS?D.maxStartPTS:D.start,G=D.duration,j=Math.max(L.end,C+Math.min(Math.max(G-this.config.maxFragLookUpTolerance,.5*G),.75*G));this.flushMainBuffer(j,Number.POSITIVE_INFINITY)}}}},l.abortCurrentFrag=function(){var i=this.fragCurrent;switch(this.fragCurrent=null,this.backtrackFragment=null,i&&i.abortRequests(),this.state){case Za:case wn:case Rn:case Ar:case ri:this.state=gt}this.nextLoadPosition=this.getLoadPosition()},l.flushMainBuffer=function(i,u){v.prototype.flushMainBuffer.call(this,i,u,this.altAudio?"video":null)},l.onMediaAttached=function(i,u){v.prototype.onMediaAttached.call(this,i,u);var d=u.media;this.onvplaying=this.onMediaPlaying.bind(this),this.onvseeked=this.onMediaSeeked.bind(this),d.addEventListener("playing",this.onvplaying),d.addEventListener("seeked",this.onvseeked),this.gapController=new gd(this.config,d,this.fragmentTracker,this.hls)},l.onMediaDetaching=function(){var i=this.media;i&&this.onvplaying&&this.onvseeked&&(i.removeEventListener("playing",this.onvplaying),i.removeEventListener("seeked",this.onvseeked),this.onvplaying=this.onvseeked=null,this.videoBuffer=null),this.fragPlaying=null,this.gapController&&(this.gapController.destroy(),this.gapController=null),v.prototype.onMediaDetaching.call(this)},l.onMediaPlaying=function(){this.tick()},l.onMediaSeeked=function(){var i=this.media,u=i?i.currentTime:null;(0,A.isFiniteNumber)(u)&&this.log("Media seeked to "+u.toFixed(3)),this.tick()},l.onManifestLoading=function(){this.log("Trigger BUFFER_RESET"),this.hls.trigger(y.Events.BUFFER_RESET,void 0),this.fragmentTracker.removeAllFragments(),this.couldBacktrack=!1,this.startPosition=this.lastCurrentTime=0,this.fragPlaying=null,this.backtrackFragment=null},l.onManifestParsed=function(i,u){var d,g,m,T=!1,L=!1;u.levels.forEach(function(D){(d=D.audioCodec)&&(d.indexOf("mp4a.40.2")!==-1&&(T=!0),d.indexOf("mp4a.40.5")!==-1&&(L=!0))}),this.audioCodecSwitch=T&&L&&typeof((m=ul())==null||(g=m.prototype)===null||g===void 0?void 0:g.changeType)!="function",this.audioCodecSwitch&&this.log("Both AAC/HE-AAC audio found in levels; declaring level codec as HE-AAC"),this.levels=u.levels,this.startFragRequested=!1},l.onLevelLoading=function(i,u){var d=this.levels;if(d&&this.state===gt){var g=d[u.level];(!g.details||g.details.live&&this.levelLastLoaded!==u.level||this.waitForCdnTuneIn(g.details))&&(this.state=xn)}},l.onLevelLoaded=function(i,u){var d,g=this.levels,m=u.level,T=u.details,L=T.totalduration;if(g){this.log("Level "+m+" loaded ["+T.startSN+","+T.endSN+"], cc ["+T.startCC+", "+T.endCC+"] duration:"+L);var D=this.fragCurrent;!D||this.state!==wn&&this.state!==Rn||D.level!==u.level&&D.loader&&(this.state=gt,this.backtrackFragment=null,D.abortRequests());var C=g[m],G=0;if(T.live||(d=C.details)!==null&&d!==void 0&&d.live){if(T.fragments[0]||(T.deltaUpdateFailed=!0),T.deltaUpdateFailed)return;G=this.alignPlaylists(T,C.details)}if(C.details=T,this.levelLastLoaded=m,this.hls.trigger(y.Events.LEVEL_UPDATED,{details:T,level:m}),this.state===xn){if(this.waitForCdnTuneIn(T))return;this.state=gt}this.startFragRequested?T.live&&this.synchronizeToLiveEdge(T):this.setStartPosition(T,G),this.tick()}else this.warn("Levels were reset while loading level "+m)},l._handleFragmentLoadProgress=function(i){var u,d=i.frag,g=i.part,m=i.payload,T=this.levels;if(T){var L=T[d.level],D=L.details;if(D){var C=L.videoCodec,G=D.PTSKnown||!D.live,j=(u=d.initSegment)===null||u===void 0?void 0:u.data,Q=this._getAudioCodec(L),le=this.transmuxer=this.transmuxer||new hl(this.hls,O.PlaylistLevelType.MAIN,this._handleTransmuxComplete.bind(this),this._handleTransmuxerFlush.bind(this)),me=g?g.index:-1,de=me!==-1,Se=new za(d.level,d.sn,d.stats.chunkCount,m.byteLength,me,de),Ge=this.initPTS[d.cc];le.push(m,j,Q,C,d,g,D.totalduration,G,Se,Ge)}else this.warn("Dropping fragment "+d.sn+" of level "+d.level+" after level details were reset")}else this.warn("Levels were reset while fragment load was in progress. Fragment "+d.sn+" of level "+d.level+" will not be buffered")},l.onAudioTrackSwitching=function(i,u){var d=this.altAudio,g=!!u.url,m=u.id;if(!g){if(this.mediaBuffer!==this.media){this.log("Switching on main audio, use media.buffered to schedule main fragment loading"),this.mediaBuffer=this.media;var T=this.fragCurrent;T&&(this.log("Switching to main audio track, cancel main fragment load"),T.abortRequests()),this.resetTransmuxer(),this.resetLoadingState()}else this.audioOnly&&this.resetTransmuxer();var L=this.hls;d&&L.trigger(y.Events.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:"audio"}),L.trigger(y.Events.AUDIO_TRACK_SWITCHED,{id:m})}},l.onAudioTrackSwitched=function(i,u){var d=u.id,g=!!this.hls.audioTracks[d].url;if(g){var m=this.videoBuffer;m&&this.mediaBuffer!==m&&(this.log("Switching on alternate audio, use video.buffered to schedule main fragment loading"),this.mediaBuffer=m)}this.altAudio=g,this.tick()},l.onBufferCreated=function(i,u){var d,g,m=u.tracks,T=!1;for(var L in m){var D=m[L];if(D.id==="main"){if(g=L,d=D,L==="video"){var C=m[L];C&&(this.videoBuffer=C.buffer)}}else T=!0}T&&d?(this.log("Alternate track found, use "+g+".buffered to schedule main fragment loading"),this.mediaBuffer=d.buffer):this.mediaBuffer=this.media},l.onFragBuffered=function(i,u){var d=u.frag,g=u.part;if(!d||d.type===O.PlaylistLevelType.MAIN){if(this.fragContextChanged(d))return this.warn("Fragment "+d.sn+(g?" p: "+g.index:"")+" of level "+d.level+" finished buffering, but was aborted. state: "+this.state),void(this.state===ri&&(this.state=gt));var m=g?g.stats:d.stats;this.fragLastKbps=Math.round(8*m.total/(m.buffering.end-m.loading.first)),d.sn!=="initSegment"&&(this.fragPrevious=d),this.fragBufferedComplete(d,g)}},l.onError=function(i,u){if(u.type!==w.ErrorTypes.KEY_SYSTEM_ERROR)switch(u.details){case w.ErrorDetails.FRAG_LOAD_ERROR:case w.ErrorDetails.FRAG_LOAD_TIMEOUT:case w.ErrorDetails.FRAG_PARSING_ERROR:case w.ErrorDetails.KEY_LOAD_ERROR:case w.ErrorDetails.KEY_LOAD_TIMEOUT:this.onFragmentOrKeyLoadError(O.PlaylistLevelType.MAIN,u);break;case w.ErrorDetails.LEVEL_LOAD_ERROR:case w.ErrorDetails.LEVEL_LOAD_TIMEOUT:this.state!==Pr&&(u.fatal?(this.warn(""+u.details),this.state=Pr):u.levelRetry||this.state!==xn||(this.state=gt));break;case w.ErrorDetails.BUFFER_FULL_ERROR:if(u.parent==="main"&&(this.state===Ar||this.state===ri)){var d=!0,g=this.getFwdBufferInfo(this.media,O.PlaylistLevelType.MAIN);g&&g.len>.5&&(d=!this.reduceMaxBufferLength(g.len)),d&&(this.warn("buffer full error also media.currentTime is not buffered, flush main"),this.immediateLevelSwitch()),this.resetLoadingState()}}else this.onFragmentOrKeyLoadError(O.PlaylistLevelType.MAIN,u)},l.checkBuffer=function(){var i=this.media,u=this.gapController;if(i&&u&&i.readyState){if(this.loadedmetadata||!Pt.getBuffered(i).length){var d=this.state!==gt?this.fragCurrent:null;u.poll(this.lastCurrentTime,d)}this.lastCurrentTime=i.currentTime}},l.onFragLoadEmergencyAborted=function(){this.state=gt,this.loadedmetadata||(this.startFragRequested=!1,this.nextLoadPosition=this.startPosition),this.tickImmediate()},l.onBufferFlushed=function(i,u){var d=u.type;if(d!==Z.ElementaryStreamTypes.AUDIO||this.audioOnly&&!this.altAudio){var g=(d===Z.ElementaryStreamTypes.VIDEO?this.videoBuffer:this.mediaBuffer)||this.media;this.afterBufferFlushed(g,d,O.PlaylistLevelType.MAIN)}},l.onLevelsUpdated=function(i,u){this.levels=u.levels},l.swapAudioCodec=function(){this.audioCodecSwap=!this.audioCodecSwap},l.seekToStartPos=function(){var i=this.media;if(i){var u=i.currentTime,d=this.startPosition;if(d>=0&&u<d){if(i.seeking)return void this.log("could not seek to "+d+", already seeking at "+u);var g=Pt.getBuffered(i),m=(g.length?g.start(0):0)-d;m>0&&(m<this.config.maxBufferHole||m<this.config.maxFragLookUpTolerance)&&(this.log("adjusting start position by "+m+" to match buffer start"),d+=m,this.startPosition=d),this.log("seek to target start position "+d+" from current time "+u),i.currentTime=d}}},l._getAudioCodec=function(i){var u=this.config.defaultAudioCodec||i.audioCodec;return this.audioCodecSwap&&u&&(this.log("Swapping audio codec"),u=u.indexOf("mp4a.40.5")!==-1?"mp4a.40.2":"mp4a.40.5"),u},l._loadBitrateTestFrag=function(i,u){var d=this;i.bitrateTest=!0,this._doFragLoad(i,u).then(function(g){var m=d.hls;if(g&&!d.fragContextChanged(i)){d.fragLoadError=0,d.state=gt,d.startFragRequested=!1,d.bitrateTest=!1;var T=i.stats;T.parsing.start=T.parsing.end=T.buffering.start=T.buffering.end=self.performance.now(),m.trigger(y.Events.FRAG_LOADED,g),i.bitrateTest=!1}})},l._handleTransmuxComplete=function(i){var u,d="main",g=this.hls,m=i.remuxResult,T=i.chunkMeta,L=this.getCurrentContext(T);if(!L)return this.warn("The loading context changed while buffering fragment "+T.sn+" of level "+T.level+". This chunk will not be buffered."),void this.resetStartWhenNotLoaded(T.level);var D=L.frag,C=L.part,G=L.level,j=m.video,Q=m.text,le=m.id3,me=m.initSegment,de=G.details,Se=this.altAudio?void 0:m.audio;if(!this.fragContextChanged(D)){if(this.state=Ar,me){me.tracks&&(this._bufferInitSegment(G,me.tracks,D,T),g.trigger(y.Events.FRAG_PARSING_INIT_SEGMENT,{frag:D,id:d,tracks:me.tracks}));var Ge=me.initPTS,We=me.timescale;(0,A.isFiniteNumber)(Ge)&&(this.initPTS[D.cc]=Ge,g.trigger(y.Events.INIT_PTS_FOUND,{frag:D,id:d,initPTS:Ge,timescale:We}))}if(j&&m.independent!==!1){if(de){var xe=j.startPTS,Ke=j.endPTS,Oe=j.startDTS,ct=j.endDTS;if(C)C.elementaryStreams[j.type]={startPTS:xe,endPTS:Ke,startDTS:Oe,endDTS:ct};else if(j.firstKeyFrame&&j.independent&&T.id===1&&(this.couldBacktrack=!0),j.dropped&&j.independent){var At=this.getMainFwdBufferInfo();if((At?At.end:this.getLoadPosition())+this.config.maxBufferHole<(j.firstKeyFramePTS?j.firstKeyFramePTS:xe)-this.config.maxBufferHole)return void this.backtrack(D);D.setElementaryStreamInfo(j.type,D.start,Ke,D.start,ct,!0)}D.setElementaryStreamInfo(j.type,xe,Ke,Oe,ct),this.backtrackFragment&&(this.backtrackFragment=D),this.bufferFragmentData(j,D,C,T)}}else if(m.independent===!1)return void this.backtrack(D);if(Se){var ot=Se.startPTS,ht=Se.endPTS,Et=Se.startDTS,qt=Se.endDTS;C&&(C.elementaryStreams[Z.ElementaryStreamTypes.AUDIO]={startPTS:ot,endPTS:ht,startDTS:Et,endDTS:qt}),D.setElementaryStreamInfo(Z.ElementaryStreamTypes.AUDIO,ot,ht,Et,qt),this.bufferFragmentData(Se,D,C,T)}if(de&&le!=null&&(u=le.samples)!==null&&u!==void 0&&u.length){var Kt={id:d,frag:D,details:de,samples:le.samples};g.trigger(y.Events.FRAG_PARSING_METADATA,Kt)}if(de&&Q){var Ft={id:d,frag:D,details:de,samples:Q.samples};g.trigger(y.Events.FRAG_PARSING_USERDATA,Ft)}}},l._bufferInitSegment=function(i,u,d,g){var m=this;if(this.state===Ar){this.audioOnly=!!u.audio&&!u.video,this.altAudio&&!this.audioOnly&&delete u.audio;var T=u.audio,L=u.video,D=u.audiovideo;if(T){var C=i.audioCodec,G=navigator.userAgent.toLowerCase();this.audioCodecSwitch&&(C&&(C=C.indexOf("mp4a.40.5")!==-1?"mp4a.40.2":"mp4a.40.5"),T.metadata.channelCount!==1&&G.indexOf("firefox")===-1&&(C="mp4a.40.5")),G.indexOf("android")!==-1&&T.container!=="audio/mpeg"&&(C="mp4a.40.2",this.log("Android: force audio codec to "+C)),i.audioCodec&&i.audioCodec!==C&&this.log('Swapping manifest audio codec "'+i.audioCodec+'" for "'+C+'"'),T.levelCodec=C,T.id="main",this.log("Init audio buffer, container:"+T.container+", codecs[selected/level/parsed]=["+(C||"")+"/"+(i.audioCodec||"")+"/"+T.codec+"]")}L&&(L.levelCodec=i.videoCodec,L.id="main",this.log("Init video buffer, container:"+L.container+", codecs[level/parsed]=["+(i.videoCodec||"")+"/"+L.codec+"]")),D&&this.log("Init audiovideo buffer, container:"+D.container+", codecs[level/parsed]=["+(i.attrs.CODECS||"")+"/"+D.codec+"]"),this.hls.trigger(y.Events.BUFFER_CODECS,u),Object.keys(u).forEach(function(j){var Q=u[j].initSegment;Q!=null&&Q.byteLength&&m.hls.trigger(y.Events.BUFFER_APPENDING,{type:j,data:Q,frag:d,part:null,chunkMeta:g,parent:d.type})}),this.tick()}},l.getMainFwdBufferInfo=function(){return this.getFwdBufferInfo(this.mediaBuffer?this.mediaBuffer:this.media,O.PlaylistLevelType.MAIN)},l.backtrack=function(i){this.couldBacktrack=!0,this.backtrackFragment=i,this.resetTransmuxer(),this.flushBufferGap(i),this.fragmentTracker.removeFragment(i),this.fragPrevious=null,this.nextLoadPosition=i.start,this.state=gt},l.checkFragmentChanged=function(){var i=this.media,u=null;if(i&&i.readyState>1&&i.seeking===!1){var d=i.currentTime;if(Pt.isBuffered(i,d)?u=this.getAppendedFrag(d):Pt.isBuffered(i,d+.1)&&(u=this.getAppendedFrag(d+.1)),u){this.backtrackFragment=null;var g=this.fragPlaying,m=u.level;g&&u.sn===g.sn&&g.level===m&&u.urlId===g.urlId||(this.fragPlaying=u,this.hls.trigger(y.Events.FRAG_CHANGED,{frag:u}),g&&g.level===m||this.hls.trigger(y.Events.LEVEL_SWITCHED,{level:m}))}}},a=n,(s=[{key:"nextLevel",get:function(){var i=this.nextBufferedFrag;return i?i.level:-1}},{key:"currentFrag",get:function(){var i=this.media;return i?this.fragPlaying||this.getAppendedFrag(i.currentTime):null}},{key:"currentProgramDateTime",get:function(){var i=this.media;if(i){var u=i.currentTime,d=this.currentFrag;if(d&&(0,A.isFiniteNumber)(u)&&(0,A.isFiniteNumber)(d.programDateTime)){var g=d.programDateTime+1e3*(u-d.start);return new Date(g)}}return null}},{key:"currentLevel",get:function(){var i=this.currentFrag;return i?i.level:-1}},{key:"nextBufferedFrag",get:function(){var i=this.currentFrag;return i?this.followingBufferedFrag(i):null}},{key:"forceStartLoad",get:function(){return this._forceStartLoad}}])&&vd(a.prototype,s),Object.defineProperty(a,"prototype",{writable:!1}),n}(es);const ji=function(){function v(t,n,a){n===void 0&&(n=0),a===void 0&&(a=0),this.halfLife=void 0,this.alpha_=void 0,this.estimate_=void 0,this.totalWeight_=void 0,this.halfLife=t,this.alpha_=t?Math.exp(Math.log(.5)/t):0,this.estimate_=n,this.totalWeight_=a}var f=v.prototype;return f.sample=function(t,n){var a=Math.pow(this.alpha_,t);this.estimate_=n*(1-a)+a*this.estimate_,this.totalWeight_+=t},f.getTotalWeight=function(){return this.totalWeight_},f.getEstimate=function(){if(this.alpha_){var t=1-Math.pow(this.alpha_,this.totalWeight_);if(t)return this.estimate_/t}return this.estimate_},v}(),pd=function(){function v(t,n,a){this.defaultEstimate_=void 0,this.minWeight_=void 0,this.minDelayMs_=void 0,this.slow_=void 0,this.fast_=void 0,this.defaultEstimate_=a,this.minWeight_=.001,this.minDelayMs_=50,this.slow_=new ji(t),this.fast_=new ji(n)}var f=v.prototype;return f.update=function(t,n){var a=this.slow_,s=this.fast_;this.slow_.halfLife!==t&&(this.slow_=new ji(t,a.getEstimate(),a.getTotalWeight())),this.fast_.halfLife!==n&&(this.fast_=new ji(n,s.getEstimate(),s.getTotalWeight()))},f.sample=function(t,n){var a=(t=Math.max(t,this.minDelayMs_))/1e3,s=8*n/a;this.fast_.sample(a,s),this.slow_.sample(a,s)},f.canEstimate=function(){var t=this.fast_;return t&&t.getTotalWeight()>=this.minWeight_},f.getEstimate=function(){return this.canEstimate()?Math.min(this.fast_.getEstimate(),this.slow_.getEstimate()):this.defaultEstimate_},f.destroy=function(){},v}();function yd(v,f){for(var t=0;t<f.length;t++){var n=f[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(v,typeof(a=function(s,l){if(typeof s!="object"||s===null)return s;var i=s[Symbol.toPrimitive];if(i!==void 0){var u=i.call(s,l);if(typeof u!="object")return u;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(s)}(n.key,"string"))=="symbol"?a:String(a),n)}var a}const Ed=function(){function v(a){this.hls=void 0,this.lastLoadedFragLevel=0,this._nextAutoLevel=-1,this.timer=void 0,this.onCheck=this._abandonRulesCheck.bind(this),this.fragCurrent=null,this.partCurrent=null,this.bitrateTestDelay=0,this.bwEstimator=void 0,this.hls=a;var s=a.config;this.bwEstimator=new pd(s.abrEwmaSlowVoD,s.abrEwmaFastVoD,s.abrEwmaDefaultEstimate),this.registerListeners()}var f,t,n=v.prototype;return n.registerListeners=function(){var a=this.hls;a.on(y.Events.FRAG_LOADING,this.onFragLoading,this),a.on(y.Events.FRAG_LOADED,this.onFragLoaded,this),a.on(y.Events.FRAG_BUFFERED,this.onFragBuffered,this),a.on(y.Events.LEVEL_LOADED,this.onLevelLoaded,this),a.on(y.Events.ERROR,this.onError,this)},n.unregisterListeners=function(){var a=this.hls;a.off(y.Events.FRAG_LOADING,this.onFragLoading,this),a.off(y.Events.FRAG_LOADED,this.onFragLoaded,this),a.off(y.Events.FRAG_BUFFERED,this.onFragBuffered,this),a.off(y.Events.LEVEL_LOADED,this.onLevelLoaded,this),a.off(y.Events.ERROR,this.onError,this)},n.destroy=function(){this.unregisterListeners(),this.clearTimer(),this.hls=this.onCheck=null,this.fragCurrent=this.partCurrent=null},n.onFragLoading=function(a,s){var l,i=s.frag;i.type===O.PlaylistLevelType.MAIN&&(this.timer||(this.fragCurrent=i,this.partCurrent=(l=s.part)!=null?l:null,this.timer=self.setInterval(this.onCheck,100)))},n.onLevelLoaded=function(a,s){var l=this.hls.config;s.details.live?this.bwEstimator.update(l.abrEwmaSlowLive,l.abrEwmaFastLive):this.bwEstimator.update(l.abrEwmaSlowVoD,l.abrEwmaFastVoD)},n._abandonRulesCheck=function(){var a=this.fragCurrent,s=this.partCurrent,l=this.hls,i=l.autoLevelEnabled,u=l.media;if(a&&u){var d=s?s.stats:a.stats,g=s?s.duration:a.duration;if(d.aborted||d.loaded&&d.loaded===d.total||a.level===0)return this.clearTimer(),void(this._nextAutoLevel=-1);if(i&&!u.paused&&u.playbackRate&&u.readyState){var m=l.mainForwardBufferInfo;if(m!==null){var T=performance.now()-d.loading.start,L=Math.abs(u.playbackRate);if(!(T<=500*g/L)){var D=d.loaded&&d.loading.first,C=this.bwEstimator.getEstimate(),G=l.levels,j=l.minAutoLevel,Q=G[a.level],le=d.total||Math.max(d.loaded,Math.round(g*Q.maxBitrate/8)),me=D?1e3*d.loaded/T:0,de=me?(le-d.loaded)/me:8*le/C,Se=m.len/L;if(!(de<=Se)){var Ge,We=Number.POSITIVE_INFINITY;for(Ge=a.level-1;Ge>j;Ge--){var xe=G[Ge].maxBitrate;if((We=me?g*xe/(6.4*me):g*xe/C)<Se)break}We>=de||(P.logger.warn("Fragment "+a.sn+(s?" part "+s.index:"")+" of level "+a.level+" is loading too slowly and will cause an underbuffer; aborting and switching to level "+Ge+`
      Current BW estimate: `+((0,A.isFiniteNumber)(C)?(C/1024).toFixed(3):"Unknown")+` Kb/s
      Estimated load time for current fragment: `+de.toFixed(3)+` s
      Estimated load time for the next fragment: `+We.toFixed(3)+` s
      Time to underbuffer: `+Se.toFixed(3)+" s"),l.nextLoadLevel=Ge,D&&this.bwEstimator.sample(T,d.loaded),this.clearTimer(),(a.loader||a.keyLoader)&&(this.fragCurrent=this.partCurrent=null,a.abortRequests()),l.trigger(y.Events.FRAG_LOAD_EMERGENCY_ABORTED,{frag:a,part:s,stats:d}))}}}}}},n.onFragLoaded=function(a,s){var l=s.frag,i=s.part;if(l.type===O.PlaylistLevelType.MAIN&&(0,A.isFiniteNumber)(l.sn)){var u=i?i.stats:l.stats,d=i?i.duration:l.duration;if(this.clearTimer(),this.lastLoadedFragLevel=l.level,this._nextAutoLevel=-1,this.hls.config.abrMaxWithRealBitrate){var g=this.hls.levels[l.level],m=(g.loaded?g.loaded.bytes:0)+u.loaded,T=(g.loaded?g.loaded.duration:0)+d;g.loaded={bytes:m,duration:T},g.realBitrate=Math.round(8*m/T)}if(l.bitrateTest){var L={stats:u,frag:l,part:i,id:l.type};this.onFragBuffered(y.Events.FRAG_BUFFERED,L)}}},n.onFragBuffered=function(a,s){var l=s.frag,i=s.part,u=i?i.stats:l.stats;if(!u.aborted&&l.type===O.PlaylistLevelType.MAIN&&l.sn!=="initSegment"){var d=u.parsing.end-u.loading.start;this.bwEstimator.sample(d,u.loaded),u.bwEstimate=this.bwEstimator.getEstimate(),l.bitrateTest?this.bitrateTestDelay=d/1e3:this.bitrateTestDelay=0}},n.onError=function(a,s){var l;if(((l=s.frag)===null||l===void 0?void 0:l.type)===O.PlaylistLevelType.MAIN){if(s.type===w.ErrorTypes.KEY_SYSTEM_ERROR)return void this.clearTimer();switch(s.details){case w.ErrorDetails.FRAG_LOAD_ERROR:case w.ErrorDetails.FRAG_LOAD_TIMEOUT:case w.ErrorDetails.KEY_LOAD_ERROR:case w.ErrorDetails.KEY_LOAD_TIMEOUT:this.clearTimer()}}},n.clearTimer=function(){self.clearInterval(this.timer),this.timer=void 0},n.getNextABRAutoLevel=function(){var a=this.fragCurrent,s=this.partCurrent,l=this.hls,i=l.maxAutoLevel,u=l.config,d=l.minAutoLevel,g=l.media,m=s?s.duration:a?a.duration:0,T=g&&g.playbackRate!==0?Math.abs(g.playbackRate):1,L=this.bwEstimator?this.bwEstimator.getEstimate():u.abrEwmaDefaultEstimate,D=l.mainForwardBufferInfo,C=(D?D.len:0)/T,G=this.findBestLevel(L,d,i,C,u.abrBandWidthFactor,u.abrBandWidthUpFactor);if(G>=0)return G;P.logger.trace((C?"rebuffering expected":"buffer is empty")+", finding optimal quality level");var j=m?Math.min(m,u.maxStarvationDelay):u.maxStarvationDelay,Q=u.abrBandWidthFactor,le=u.abrBandWidthUpFactor;if(!C){var me=this.bitrateTestDelay;me&&(j=(m?Math.min(m,u.maxLoadingDelay):u.maxLoadingDelay)-me,P.logger.trace("bitrate test took "+Math.round(1e3*me)+"ms, set first fragment max fetchDuration to "+Math.round(1e3*j)+" ms"),Q=le=1)}return G=this.findBestLevel(L,d,i,C+j,Q,le),Math.max(G,0)},n.findBestLevel=function(a,s,l,i,u,d){for(var g,m=this.fragCurrent,T=this.partCurrent,L=this.lastLoadedFragLevel,D=this.hls.levels,C=D[L],G=!(C==null||(g=C.details)===null||g===void 0||!g.live),j=C==null?void 0:C.codecSet,Q=T?T.duration:m?m.duration:0,le=l;le>=s;le--){var me=D[le];if(me&&(!j||me.codecSet===j)){var de,Se=me.details,Ge=(T?Se==null?void 0:Se.partTarget:Se==null?void 0:Se.averagetargetduration)||Q;de=le<=L?u*a:d*a;var We=D[le].maxBitrate,xe=We*Ge/de;if(P.logger.trace("level/adjustedbw/bitrate/avgDuration/maxFetchDuration/fetchDuration: "+le+"/"+Math.round(de)+"/"+We+"/"+Ge+"/"+i+"/"+xe),de>We&&(xe===0||!(0,A.isFiniteNumber)(xe)||G&&!this.bitrateTestDelay||xe<i))return le}}return-1},f=v,(t=[{key:"nextAutoLevel",get:function(){var a=this._nextAutoLevel,s=this.bwEstimator;if(a!==-1&&!s.canEstimate())return a;var l=this.getNextABRAutoLevel();return a!==-1&&this.hls.levels[l].loadError?a:(a!==-1&&(l=Math.min(a,l)),l)},set:function(a){this._nextAutoLevel=a}}])&&yd(f.prototype,t),Object.defineProperty(f,"prototype",{writable:!1}),v}();var gl=function(){function v(){this.chunks=[],this.dataLength=0}var f=v.prototype;return f.push=function(t){this.chunks.push(t),this.dataLength+=t.length},f.flush=function(){var t,n=this.chunks,a=this.dataLength;return n.length?(t=n.length===1?n[0]:function(s,l){for(var i=new Uint8Array(l),u=0,d=0;d<s.length;d++){var g=s[d];i.set(g,u),u+=g.length}return i}(n,a),this.reset(),t):new Uint8Array(0)},f.reset=function(){this.chunks.length=0,this.dataLength=0},v}();function Gi(){return Gi=Object.assign?Object.assign.bind():function(v){for(var f=1;f<arguments.length;f++){var t=arguments[f];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(v[n]=t[n])}return v},Gi.apply(this,arguments)}function ss(v,f){return ss=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,n){return t.__proto__=n,t},ss(v,f)}var bd=function(v){var f,t;function n(s,l,i){var u;return(u=v.call(this,s,l,i,"[audio-stream-controller]")||this).videoBuffer=null,u.videoTrackCC=-1,u.waitingVideoCC=-1,u.audioSwitch=!1,u.trackId=-1,u.waitingData=null,u.mainDetails=null,u.bufferFlushed=!1,u.cachedTrackLoadedData=null,u._registerListeners(),u}t=v,(f=n).prototype=Object.create(t.prototype),f.prototype.constructor=f,ss(f,t);var a=n.prototype;return a.onHandlerDestroying=function(){this._unregisterListeners(),this.mainDetails=null},a._registerListeners=function(){var s=this.hls;s.on(y.Events.MEDIA_ATTACHED,this.onMediaAttached,this),s.on(y.Events.MEDIA_DETACHING,this.onMediaDetaching,this),s.on(y.Events.MANIFEST_LOADING,this.onManifestLoading,this),s.on(y.Events.LEVEL_LOADED,this.onLevelLoaded,this),s.on(y.Events.AUDIO_TRACKS_UPDATED,this.onAudioTracksUpdated,this),s.on(y.Events.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),s.on(y.Events.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),s.on(y.Events.ERROR,this.onError,this),s.on(y.Events.BUFFER_RESET,this.onBufferReset,this),s.on(y.Events.BUFFER_CREATED,this.onBufferCreated,this),s.on(y.Events.BUFFER_FLUSHED,this.onBufferFlushed,this),s.on(y.Events.INIT_PTS_FOUND,this.onInitPtsFound,this),s.on(y.Events.FRAG_BUFFERED,this.onFragBuffered,this)},a._unregisterListeners=function(){var s=this.hls;s.off(y.Events.MEDIA_ATTACHED,this.onMediaAttached,this),s.off(y.Events.MEDIA_DETACHING,this.onMediaDetaching,this),s.off(y.Events.MANIFEST_LOADING,this.onManifestLoading,this),s.off(y.Events.LEVEL_LOADED,this.onLevelLoaded,this),s.off(y.Events.AUDIO_TRACKS_UPDATED,this.onAudioTracksUpdated,this),s.off(y.Events.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),s.off(y.Events.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),s.off(y.Events.ERROR,this.onError,this),s.off(y.Events.BUFFER_RESET,this.onBufferReset,this),s.off(y.Events.BUFFER_CREATED,this.onBufferCreated,this),s.off(y.Events.BUFFER_FLUSHED,this.onBufferFlushed,this),s.off(y.Events.INIT_PTS_FOUND,this.onInitPtsFound,this),s.off(y.Events.FRAG_BUFFERED,this.onFragBuffered,this)},a.onInitPtsFound=function(s,l){var i=l.frag,u=l.id,d=l.initPTS;if(u==="main"){var g=i.cc;this.initPTS[i.cc]=d,this.log("InitPTS for cc: "+g+" found from main: "+d),this.videoTrackCC=g,this.state===ii&&this.tick()}},a.startLoad=function(s){if(!this.levels)return this.startPosition=s,void(this.state=fr);var l=this.lastCurrentTime;this.stopLoad(),this.setInterval(100),this.fragLoadError=0,l>0&&s===-1?(this.log("Override startPosition with lastCurrentTime @"+l.toFixed(3)),s=l,this.state=gt):(this.loadedmetadata=!1,this.state=Ki),this.nextLoadPosition=this.startPosition=this.lastCurrentTime=s,this.tick()},a.doTick=function(){switch(this.state){case gt:this.doTickIdle();break;case Ki:var s,l=this.levels,i=this.trackId,u=l==null||(s=l[i])===null||s===void 0?void 0:s.details;if(u){if(this.waitForCdnTuneIn(u))break;this.state=ii}break;case Rn:var d,g=performance.now(),m=this.retryDate;(!m||g>=m||(d=this.media)!==null&&d!==void 0&&d.seeking)&&(this.log("RetryDate reached, switch back to IDLE state"),this.resetStartWhenNotLoaded(this.trackId),this.state=gt);break;case ii:var T=this.waitingData;if(T){var L=T.frag,D=T.part,C=T.cache,G=T.complete;if(this.initPTS[L.cc]!==void 0){this.waitingData=null,this.waitingVideoCC=-1,this.state=wn;var j={frag:L,part:D,payload:C.flush(),networkDetails:null};this._handleFragmentLoadProgress(j),G&&v.prototype._handleFragmentLoadComplete.call(this,j)}else if(this.videoTrackCC!==this.waitingVideoCC)this.log("Waiting fragment cc ("+L.cc+") cancelled because video is at cc "+this.videoTrackCC),this.clearWaitingFragment();else{var Q=this.getLoadPosition(),le=Pt.bufferInfo(this.mediaBuffer,Q,this.config.maxBufferHole);Qa(le.end,this.config.maxFragLookUpTolerance,L)<0&&(this.log("Waiting fragment cc ("+L.cc+") @ "+L.start+" cancelled because another fragment at "+le.end+" is needed"),this.clearWaitingFragment())}}else this.state=gt}this.onTickEnd()},a.clearWaitingFragment=function(){var s=this.waitingData;s&&(this.fragmentTracker.removeFragment(s.frag),this.waitingData=null,this.waitingVideoCC=-1,this.state=gt)},a.resetLoadingState=function(){this.clearWaitingFragment(),v.prototype.resetLoadingState.call(this)},a.onTickEnd=function(){var s=this.media;s&&s.readyState&&(this.lastCurrentTime=s.currentTime)},a.doTickIdle=function(){var s=this.hls,l=this.levels,i=this.media,u=this.trackId,d=s.config;if(l&&l[u]&&(i||!this.startFragRequested&&d.startFragPrefetch)){var g=l[u].details;if(!g||g.live&&this.levelLastLoaded!==u||this.waitForCdnTuneIn(g))this.state=Ki;else{var m=this.mediaBuffer?this.mediaBuffer:this.media;this.bufferFlushed&&m&&(this.bufferFlushed=!1,this.afterBufferFlushed(m,Z.ElementaryStreamTypes.AUDIO,O.PlaylistLevelType.AUDIO));var T=this.getFwdBufferInfo(m,O.PlaylistLevelType.AUDIO);if(T!==null){var L=this.audioSwitch;if(!L&&this._streamEnded(T,g))return s.trigger(y.Events.BUFFER_EOS,{type:"audio"}),void(this.state=ni);var D=this.getFwdBufferInfo(this.videoBuffer?this.videoBuffer:this.media,O.PlaylistLevelType.MAIN);if(!(T.len>=this.getMaxBufferLength(D==null?void 0:D.len))||L){var C=g.fragments[0].start,G=T.end;if(L&&i){var j=this.getLoadPosition();G=j,g.PTSKnown&&j<C&&(T.end>C||T.nextStart)&&(this.log("Alt audio track ahead of main track, seek to start of alt audio track"),i.currentTime=C+.05)}if(!(D&&G>D.end+g.targetduration)&&(D&&D.len||!T.len)){var Q=this.getNextFragment(G,g);Q?this.loadFragment(Q,g,G):this.bufferFlushed=!0}}}}}},a.getMaxBufferLength=function(s){var l=v.prototype.getMaxBufferLength.call(this);return s?Math.max(l,s):l},a.onMediaDetaching=function(){this.videoBuffer=null,v.prototype.onMediaDetaching.call(this)},a.onAudioTracksUpdated=function(s,l){var i=l.audioTracks;this.resetTransmuxer(),this.levels=i.map(function(u){return new K(u)})},a.onAudioTrackSwitching=function(s,l){var i=!!l.url;this.trackId=l.id;var u=this.fragCurrent;u&&u.abortRequests(),this.fragCurrent=null,this.clearWaitingFragment(),i?this.setInterval(100):this.resetTransmuxer(),i?(this.audioSwitch=!0,this.state=gt):this.state=fr,this.tick()},a.onManifestLoading=function(){this.mainDetails=null,this.fragmentTracker.removeAllFragments(),this.startPosition=this.lastCurrentTime=0,this.bufferFlushed=!1},a.onLevelLoaded=function(s,l){this.mainDetails=l.details,this.cachedTrackLoadedData!==null&&(this.hls.trigger(y.Events.AUDIO_TRACK_LOADED,this.cachedTrackLoadedData),this.cachedTrackLoadedData=null)},a.onAudioTrackLoaded=function(s,l){var i;if(this.mainDetails!=null){var u=this.levels,d=l.details,g=l.id;if(u){this.log("Track "+g+" loaded ["+d.startSN+","+d.endSN+"],duration:"+d.totalduration);var m=u[g],T=0;if(d.live||(i=m.details)!==null&&i!==void 0&&i.live){var L=this.mainDetails;if(d.fragments[0]||(d.deltaUpdateFailed=!0),d.deltaUpdateFailed||!L)return;!m.details&&d.hasProgramDateTime&&L.hasProgramDateTime?(ol(d,L),T=d.fragments[0].start):T=this.alignPlaylists(d,m.details)}m.details=d,this.levelLastLoaded=g,this.startFragRequested||!this.mainDetails&&d.live||this.setStartPosition(m.details,T),this.state!==Ki||this.waitForCdnTuneIn(d)||(this.state=gt),this.tick()}else this.warn("Audio tracks were reset while loading level "+g)}else this.cachedTrackLoadedData=l},a._handleFragmentLoadProgress=function(s){var l,i=s.frag,u=s.part,d=s.payload,g=this.config,m=this.trackId,T=this.levels;if(T){var L=T[m],D=L.details,C=g.defaultAudioCodec||L.audioCodec||"mp4a.40.2",G=this.transmuxer;G||(G=this.transmuxer=new hl(this.hls,O.PlaylistLevelType.AUDIO,this._handleTransmuxComplete.bind(this),this._handleTransmuxerFlush.bind(this)));var j=this.initPTS[i.cc],Q=(l=i.initSegment)===null||l===void 0?void 0:l.data;if(j!==void 0){var le=u?u.index:-1,me=le!==-1,de=new za(i.level,i.sn,i.stats.chunkCount,d.byteLength,le,me);G.push(d,Q,C,"",i,u,D.totalduration,!1,de,j)}else this.log("Unknown video PTS for cc "+i.cc+", waiting for video PTS before demuxing audio frag "+i.sn+" of ["+D.startSN+" ,"+D.endSN+"],track "+m),(this.waitingData=this.waitingData||{frag:i,part:u,cache:new gl,complete:!1}).cache.push(new Uint8Array(d)),this.waitingVideoCC=this.videoTrackCC,this.state=ii}else this.warn("Audio tracks were reset while fragment load was in progress. Fragment "+i.sn+" of level "+i.level+" will not be buffered")},a._handleFragmentLoadComplete=function(s){this.waitingData?this.waitingData.complete=!0:v.prototype._handleFragmentLoadComplete.call(this,s)},a.onBufferReset=function(){this.mediaBuffer=this.videoBuffer=null,this.loadedmetadata=!1},a.onBufferCreated=function(s,l){var i=l.tracks.audio;i&&(this.mediaBuffer=i.buffer||null),l.tracks.video&&(this.videoBuffer=l.tracks.video.buffer||null)},a.onFragBuffered=function(s,l){var i,u=l.frag,d=l.part;u.type===O.PlaylistLevelType.AUDIO?this.fragContextChanged(u)?this.warn("Fragment "+u.sn+(d?" p: "+d.index:"")+" of level "+u.level+" finished buffering, but was aborted. state: "+this.state+", audioSwitch: "+this.audioSwitch):(u.sn!=="initSegment"&&(this.fragPrevious=u,this.audioSwitch&&(this.audioSwitch=!1,this.hls.trigger(y.Events.AUDIO_TRACK_SWITCHED,{id:this.trackId}))),this.fragBufferedComplete(u,d)):this.loadedmetadata||u.type!==O.PlaylistLevelType.MAIN||(i=this.videoBuffer||this.media)!==null&&i!==void 0&&i.buffered.length&&(this.loadedmetadata=!0)},a.onError=function(s,l){if(l.type!==w.ErrorTypes.KEY_SYSTEM_ERROR)switch(l.details){case w.ErrorDetails.FRAG_LOAD_ERROR:case w.ErrorDetails.FRAG_LOAD_TIMEOUT:case w.ErrorDetails.FRAG_PARSING_ERROR:case w.ErrorDetails.KEY_LOAD_ERROR:case w.ErrorDetails.KEY_LOAD_TIMEOUT:this.onFragmentOrKeyLoadError(O.PlaylistLevelType.AUDIO,l);break;case w.ErrorDetails.AUDIO_TRACK_LOAD_ERROR:case w.ErrorDetails.AUDIO_TRACK_LOAD_TIMEOUT:this.state!==Pr&&this.state!==fr&&(this.state=l.fatal?Pr:gt,this.warn(l.details+" while loading frag, switching to "+this.state+" state"));break;case w.ErrorDetails.BUFFER_FULL_ERROR:if(l.parent==="audio"&&(this.state===Ar||this.state===ri)){var i=!0,u=this.getFwdBufferInfo(this.mediaBuffer,O.PlaylistLevelType.AUDIO);u&&u.len>.5&&(i=!this.reduceMaxBufferLength(u.len)),i&&(this.warn("Buffer full error also media.currentTime is not buffered, flush audio buffer"),this.fragCurrent=null,v.prototype.flushMainBuffer.call(this,0,Number.POSITIVE_INFINITY,"audio")),this.resetLoadingState()}}else this.onFragmentOrKeyLoadError(O.PlaylistLevelType.AUDIO,l)},a.onBufferFlushed=function(s,l){l.type===Z.ElementaryStreamTypes.AUDIO&&(this.bufferFlushed=!0,this.state===ni&&(this.state=gt))},a._handleTransmuxComplete=function(s){var l,i="audio",u=this.hls,d=s.remuxResult,g=s.chunkMeta,m=this.getCurrentContext(g);if(!m)return this.warn("The loading context changed while buffering fragment "+g.sn+" of level "+g.level+". This chunk will not be buffered."),void this.resetStartWhenNotLoaded(g.level);var T=m.frag,L=m.part,D=m.level.details,C=d.audio,G=d.text,j=d.id3,Q=d.initSegment;if(!this.fragContextChanged(T)&&D){if(this.state=Ar,this.audioSwitch&&C&&this.completeAudioSwitch(),Q!=null&&Q.tracks&&(this._bufferInitSegment(Q.tracks,T,g),u.trigger(y.Events.FRAG_PARSING_INIT_SEGMENT,{frag:T,id:i,tracks:Q.tracks})),C){var le=C.startPTS,me=C.endPTS,de=C.startDTS,Se=C.endDTS;L&&(L.elementaryStreams[Z.ElementaryStreamTypes.AUDIO]={startPTS:le,endPTS:me,startDTS:de,endDTS:Se}),T.setElementaryStreamInfo(Z.ElementaryStreamTypes.AUDIO,le,me,de,Se),this.bufferFragmentData(C,T,L,g)}if(j!=null&&(l=j.samples)!==null&&l!==void 0&&l.length){var Ge=Gi({id:i,frag:T,details:D},j);u.trigger(y.Events.FRAG_PARSING_METADATA,Ge)}if(G){var We=Gi({id:i,frag:T,details:D},G);u.trigger(y.Events.FRAG_PARSING_USERDATA,We)}}},a._bufferInitSegment=function(s,l,i){if(this.state===Ar){s.video&&delete s.video;var u=s.audio;if(u){u.levelCodec=u.codec,u.id="audio",this.log("Init audio buffer, container:"+u.container+", codecs[parsed]=["+u.codec+"]"),this.hls.trigger(y.Events.BUFFER_CODECS,s);var d=u.initSegment;if(d!=null&&d.byteLength){var g={type:"audio",frag:l,part:null,chunkMeta:i,parent:l.type,data:d};this.hls.trigger(y.Events.BUFFER_APPENDING,g)}this.tick()}}},a.loadFragment=function(s,l,i){var u=this.fragmentTracker.getState(s);this.fragCurrent=s,(this.audioSwitch||u===Be.NOT_LOADED||u===Be.PARTIAL)&&(s.sn==="initSegment"?this._loadInitSegment(s,l):l.live&&!(0,A.isFiniteNumber)(this.initPTS[s.cc])?(this.log("Waiting for video PTS in continuity counter "+s.cc+" of live stream before loading audio fragment "+s.sn+" of level "+this.trackId),this.state=ii):(this.startFragRequested=!0,v.prototype.loadFragment.call(this,s,l,i)))},a.completeAudioSwitch=function(){var s=this.hls,l=this.media,i=this.trackId;l&&(this.log("Switching audio track : flushing all audio"),v.prototype.flushMainBuffer.call(this,0,Number.POSITIVE_INFINITY,"audio")),this.audioSwitch=!1,s.trigger(y.Events.AUDIO_TRACK_SWITCHED,{id:i})},n}(es);const Td=bd;function Sd(v,f){for(var t=0;t<f.length;t++){var n=f[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(v,typeof(a=function(s,l){if(typeof s!="object"||s===null)return s;var i=s[Symbol.toPrimitive];if(i!==void 0){var u=i.call(s,l);if(typeof u!="object")return u;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(s)}(n.key,"string"))=="symbol"?a:String(a),n)}var a}function os(v,f){return os=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,n){return t.__proto__=n,t},os(v,f)}const _d=function(v){var f,t;function n(i){var u;return(u=v.call(this,i,"[audio-track-controller]")||this).tracks=[],u.groupId=null,u.tracksInGroup=[],u.trackId=-1,u.trackName="",u.selectDefaultTrack=!0,u.registerListeners(),u}t=v,(f=n).prototype=Object.create(t.prototype),f.prototype.constructor=f,os(f,t);var a,s,l=n.prototype;return l.registerListeners=function(){var i=this.hls;i.on(y.Events.MANIFEST_LOADING,this.onManifestLoading,this),i.on(y.Events.MANIFEST_PARSED,this.onManifestParsed,this),i.on(y.Events.LEVEL_LOADING,this.onLevelLoading,this),i.on(y.Events.LEVEL_SWITCHING,this.onLevelSwitching,this),i.on(y.Events.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),i.on(y.Events.ERROR,this.onError,this)},l.unregisterListeners=function(){var i=this.hls;i.off(y.Events.MANIFEST_LOADING,this.onManifestLoading,this),i.off(y.Events.MANIFEST_PARSED,this.onManifestParsed,this),i.off(y.Events.LEVEL_LOADING,this.onLevelLoading,this),i.off(y.Events.LEVEL_SWITCHING,this.onLevelSwitching,this),i.off(y.Events.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),i.off(y.Events.ERROR,this.onError,this)},l.destroy=function(){this.unregisterListeners(),this.tracks.length=0,this.tracksInGroup.length=0,v.prototype.destroy.call(this)},l.onManifestLoading=function(){this.tracks=[],this.groupId=null,this.tracksInGroup=[],this.trackId=-1,this.trackName="",this.selectDefaultTrack=!0},l.onManifestParsed=function(i,u){this.tracks=u.audioTracks||[]},l.onAudioTrackLoaded=function(i,u){var d=u.id,g=u.details,m=this.tracksInGroup[d];if(m){var T=m.details;m.details=u.details,this.log("audioTrack "+d+" loaded ["+g.startSN+"-"+g.endSN+"]"),d===this.trackId&&(this.retryCount=0,this.playlistLoaded(d,u,T))}else this.warn("Invalid audio track id "+d)},l.onLevelLoading=function(i,u){this.switchLevel(u.level)},l.onLevelSwitching=function(i,u){this.switchLevel(u.level)},l.switchLevel=function(i){var u=this.hls.levels[i];if(u!=null&&u.audioGroupIds){var d=u.audioGroupIds[u.urlId];if(this.groupId!==d){this.groupId=d;var g=this.tracks.filter(function(T){return!d||T.groupId===d});this.selectDefaultTrack&&!g.some(function(T){return T.default})&&(this.selectDefaultTrack=!1),this.tracksInGroup=g;var m={audioTracks:g};this.log("Updating audio tracks, "+g.length+' track(s) found in "'+d+'" group-id'),this.hls.trigger(y.Events.AUDIO_TRACKS_UPDATED,m),this.selectInitialTrack()}}},l.onError=function(i,u){v.prototype.onError.call(this,i,u),!u.fatal&&u.context&&u.context.type===O.PlaylistContextType.AUDIO_TRACK&&u.context.id===this.trackId&&u.context.groupId===this.groupId&&this.retryLoadingOrFail(u)},l.setAudioTrack=function(i){var u=this.tracksInGroup;if(i<0||i>=u.length)this.warn("Invalid id passed to audio-track controller");else{this.clearTimer();var d=u[this.trackId];this.log("Now switching to audio-track index "+i);var g=u[i],m=g.id,T=g.groupId,L=T===void 0?"":T,D=g.name,C=g.type,G=g.url;if(this.trackId=i,this.trackName=D,this.selectDefaultTrack=!1,this.hls.trigger(y.Events.AUDIO_TRACK_SWITCHING,{id:m,groupId:L,name:D,type:C,url:G}),!g.details||g.details.live){var j=this.switchParams(g.url,d==null?void 0:d.details);this.loadPlaylist(j)}}},l.selectInitialTrack=function(){this.tracksInGroup;var i=this.trackName,u=this.findTrackId(i)||this.findTrackId();u!==-1?this.setAudioTrack(u):(this.warn("No track found for running audio group-ID: "+this.groupId),this.hls.trigger(y.Events.ERROR,{type:w.ErrorTypes.MEDIA_ERROR,details:w.ErrorDetails.AUDIO_TRACK_LOAD_ERROR,fatal:!0}))},l.findTrackId=function(i){for(var u=this.tracksInGroup,d=0;d<u.length;d++){var g=u[d];if((!this.selectDefaultTrack||g.default)&&(!i||i===g.name))return g.id}return-1},l.loadPlaylist=function(i){v.prototype.loadPlaylist.call(this);var u=this.tracksInGroup[this.trackId];if(this.shouldLoadTrack(u)){var d=u.id,g=u.groupId,m=u.url;if(i)try{m=i.addDirectives(m)}catch(T){this.warn("Could not construct new URL with HLS Delivery Directives: "+T)}this.log("loading audio-track playlist for id: "+d),this.clearTimer(),this.hls.trigger(y.Events.AUDIO_TRACK_LOADING,{url:m,id:d,groupId:g,deliveryDirectives:i||null})}},a=n,(s=[{key:"audioTracks",get:function(){return this.tracksInGroup}},{key:"audioTrack",get:function(){return this.trackId},set:function(i){this.selectDefaultTrack=!1,this.setAudioTrack(i)}}])&&Sd(a.prototype,s),Object.defineProperty(a,"prototype",{writable:!1}),n}(_e);function Ad(v,f){for(var t=0;t<f.length;t++){var n=f[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(v,typeof(a=function(s,l){if(typeof s!="object"||s===null)return s;var i=s[Symbol.toPrimitive];if(i!==void 0){var u=i.call(s,l);if(typeof u!="object")return u;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(s)}(n.key,"string"))=="symbol"?a:String(a),n)}var a}function ls(v,f){return ls=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,n){return t.__proto__=n,t},ls(v,f)}var kd=function(v){var f,t;function n(i,u,d){var g;return(g=v.call(this,i,u,d,"[subtitle-stream-controller]")||this).levels=[],g.currentTrackId=-1,g.tracksBuffered=[],g.mainDetails=null,g._registerListeners(),g}t=v,(f=n).prototype=Object.create(t.prototype),f.prototype.constructor=f,ls(f,t);var a,s,l=n.prototype;return l.onHandlerDestroying=function(){this._unregisterListeners(),this.mainDetails=null},l._registerListeners=function(){var i=this.hls;i.on(y.Events.MEDIA_ATTACHED,this.onMediaAttached,this),i.on(y.Events.MEDIA_DETACHING,this.onMediaDetaching,this),i.on(y.Events.MANIFEST_LOADING,this.onManifestLoading,this),i.on(y.Events.LEVEL_LOADED,this.onLevelLoaded,this),i.on(y.Events.ERROR,this.onError,this),i.on(y.Events.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),i.on(y.Events.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),i.on(y.Events.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),i.on(y.Events.SUBTITLE_FRAG_PROCESSED,this.onSubtitleFragProcessed,this),i.on(y.Events.BUFFER_FLUSHING,this.onBufferFlushing,this),i.on(y.Events.FRAG_BUFFERED,this.onFragBuffered,this)},l._unregisterListeners=function(){var i=this.hls;i.off(y.Events.MEDIA_ATTACHED,this.onMediaAttached,this),i.off(y.Events.MEDIA_DETACHING,this.onMediaDetaching,this),i.off(y.Events.MANIFEST_LOADING,this.onManifestLoading,this),i.off(y.Events.LEVEL_LOADED,this.onLevelLoaded,this),i.off(y.Events.ERROR,this.onError,this),i.off(y.Events.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),i.off(y.Events.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),i.off(y.Events.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),i.off(y.Events.SUBTITLE_FRAG_PROCESSED,this.onSubtitleFragProcessed,this),i.off(y.Events.BUFFER_FLUSHING,this.onBufferFlushing,this),i.off(y.Events.FRAG_BUFFERED,this.onFragBuffered,this)},l.startLoad=function(i){this.stopLoad(),this.state=gt,this.setInterval(500),this.nextLoadPosition=this.startPosition=this.lastCurrentTime=i,this.tick()},l.onManifestLoading=function(){this.mainDetails=null,this.fragmentTracker.removeAllFragments()},l.onLevelLoaded=function(i,u){this.mainDetails=u.details},l.onSubtitleFragProcessed=function(i,u){var d=u.frag,g=u.success;if(this.fragPrevious=d,this.state=gt,g){var m=this.tracksBuffered[this.currentTrackId];if(m){for(var T,L=d.start,D=0;D<m.length;D++)if(L>=m[D].start&&L<=m[D].end){T=m[D];break}var C=d.start+d.duration;T?T.end=C:(T={start:L,end:C},m.push(T)),this.fragmentTracker.fragBuffered(d)}}},l.onBufferFlushing=function(i,u){var d=u.startOffset,g=u.endOffset;if(d===0&&g!==Number.POSITIVE_INFINITY){var m=this.currentTrackId,T=this.levels;if(!T.length||!T[m]||!T[m].details)return;var L=g-T[m].details.targetduration;if(L<=0)return;u.endOffsetSubtitles=Math.max(0,L),this.tracksBuffered.forEach(function(D){for(var C=0;C<D.length;)if(D[C].end<=L)D.shift();else{if(!(D[C].start<L))break;D[C].start=L,C++}}),this.fragmentTracker.removeFragmentsInRange(d,L,O.PlaylistLevelType.SUBTITLE)}},l.onFragBuffered=function(i,u){var d;this.loadedmetadata||u.frag.type!==O.PlaylistLevelType.MAIN||(d=this.media)!==null&&d!==void 0&&d.buffered.length&&(this.loadedmetadata=!0)},l.onError=function(i,u){var d=u.frag;d&&d.type===O.PlaylistLevelType.SUBTITLE&&(this.fragCurrent&&this.fragCurrent.abortRequests(),this.state=gt)},l.onSubtitleTracksUpdated=function(i,u){var d=this,g=u.subtitleTracks;this.tracksBuffered=[],this.levels=g.map(function(m){return new K(m)}),this.fragmentTracker.removeAllFragments(),this.fragPrevious=null,this.levels.forEach(function(m){d.tracksBuffered[m.id]=[]}),this.mediaBuffer=null},l.onSubtitleTrackSwitch=function(i,u){if(this.currentTrackId=u.id,this.levels.length&&this.currentTrackId!==-1){var d=this.levels[this.currentTrackId];d!=null&&d.details?this.mediaBuffer=this.mediaBufferTimeRanges:this.mediaBuffer=null,d&&this.setInterval(500)}else this.clearInterval()},l.onSubtitleTrackLoaded=function(i,u){var d,g=u.details,m=u.id,T=this.currentTrackId,L=this.levels;if(L.length){var D=L[T];if(!(m>=L.length||m!==T)&&D){this.mediaBuffer=this.mediaBufferTimeRanges;var C=0;if(g.live||(d=D.details)!==null&&d!==void 0&&d.live){var G=this.mainDetails;if(g.deltaUpdateFailed||!G)return;var j=G.fragments[0];D.details?(C=this.alignPlaylists(g,D.details))===0&&j&&be(g,C=j.start):g.hasProgramDateTime&&G.hasProgramDateTime?(ol(g,G),C=g.fragments[0].start):j&&be(g,C=j.start)}D.details=g,this.levelLastLoaded=m,this.startFragRequested||!this.mainDetails&&g.live||this.setStartPosition(D.details,C),this.tick(),g.live&&!this.fragCurrent&&this.media&&this.state===gt&&(Xa(null,g.fragments,this.media.currentTime,0)||(this.warn("Subtitle playlist not aligned with playback"),D.details=void 0))}}},l._handleFragmentLoadComplete=function(i){var u=this,d=i.frag,g=i.payload,m=d.decryptdata,T=this.hls;if(!this.fragContextChanged(d)&&g&&g.byteLength>0&&m&&m.key&&m.iv&&m.method==="AES-128"){var L=performance.now();this.decrypter.decrypt(new Uint8Array(g),m.key.buffer,m.iv.buffer).then(function(D){var C=performance.now();T.trigger(y.Events.FRAG_DECRYPTED,{frag:d,payload:D,stats:{tstart:L,tdecrypt:C}})}).catch(function(D){u.warn(D.name+": "+D.message),u.state=gt})}},l.doTick=function(){if(this.media){if(this.state===gt){var i=this.currentTrackId,u=this.levels;if(!u.length||!u[i]||!u[i].details)return;var d=u[i].details,g=d.targetduration,m=this.config,T=this.getLoadPosition(),L=Pt.bufferedInfo(this.tracksBuffered[this.currentTrackId]||[],T-g,m.maxBufferHole),D=L.end,C=L.len,G=this.getFwdBufferInfo(this.media,O.PlaylistLevelType.MAIN);if(C>this.getMaxBufferLength(G==null?void 0:G.len)+g)return;var j=d.fragments,Q=j.length,le=d.edge,me=null,de=this.fragPrevious;if(D<le){var Se=m.maxFragLookUpTolerance;!(me=Xa(de,j,Math.max(j[0].start,D),Se))&&de&&de.start<j[0].start&&(me=j[0])}else me=j[Q-1];if(!me)return;me=this.mapToInitFragWhenRequired(me),this.fragmentTracker.getState(me)===Be.NOT_LOADED&&this.loadFragment(me,d,D)}}else this.state=gt},l.getMaxBufferLength=function(i){var u=v.prototype.getMaxBufferLength.call(this);return i?Math.max(u,i):u},l.loadFragment=function(i,u,d){this.fragCurrent=i,i.sn==="initSegment"?this._loadInitSegment(i,u):(this.startFragRequested=!0,v.prototype.loadFragment.call(this,i,u,d))},a=n,(s=[{key:"mediaBufferTimeRanges",get:function(){return new Ld(this.tracksBuffered[this.currentTrackId]||[])}}])&&Ad(a.prototype,s),Object.defineProperty(a,"prototype",{writable:!1}),n}(es),Ld=function(v){this.buffered=void 0;var f=function(t,n,a){if((n>>>=0)>a-1)throw new DOMException("Failed to execute '"+t+"' on 'TimeRanges': The index provided ("+n+") is greater than the maximum bound ("+a+")");return v[n][t]};this.buffered={get length(){return v.length},end:function(t){return f("end",t,v.length)},start:function(t){return f("start",t,v.length)}}};function wd(v,f){for(var t=0;t<f.length;t++){var n=f[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(v,typeof(a=function(s,l){if(typeof s!="object"||s===null)return s;var i=s[Symbol.toPrimitive];if(i!==void 0){var u=i.call(s,l);if(typeof u!="object")return u;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(s)}(n.key,"string"))=="symbol"?a:String(a),n)}var a}function us(v,f){return us=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,n){return t.__proto__=n,t},us(v,f)}function cs(v){for(var f=[],t=0;t<v.length;t++){var n=v[t];n.kind==="subtitles"&&n.label&&f.push(v[t])}return f}const Rd=function(v){var f,t;function n(i){var u;return(u=v.call(this,i,"[subtitle-track-controller]")||this).media=null,u.tracks=[],u.groupId=null,u.tracksInGroup=[],u.trackId=-1,u.selectDefaultTrack=!0,u.queuedDefaultTrack=-1,u.trackChangeListener=function(){return u.onTextTracksChanged()},u.asyncPollTrackChange=function(){return u.pollTrackChange(0)},u.useTextTrackPolling=!1,u.subtitlePollingInterval=-1,u._subtitleDisplay=!0,u.registerListeners(),u}t=v,(f=n).prototype=Object.create(t.prototype),f.prototype.constructor=f,us(f,t);var a,s,l=n.prototype;return l.destroy=function(){this.unregisterListeners(),this.tracks.length=0,this.tracksInGroup.length=0,this.trackChangeListener=this.asyncPollTrackChange=null,v.prototype.destroy.call(this)},l.registerListeners=function(){var i=this.hls;i.on(y.Events.MEDIA_ATTACHED,this.onMediaAttached,this),i.on(y.Events.MEDIA_DETACHING,this.onMediaDetaching,this),i.on(y.Events.MANIFEST_LOADING,this.onManifestLoading,this),i.on(y.Events.MANIFEST_PARSED,this.onManifestParsed,this),i.on(y.Events.LEVEL_LOADING,this.onLevelLoading,this),i.on(y.Events.LEVEL_SWITCHING,this.onLevelSwitching,this),i.on(y.Events.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),i.on(y.Events.ERROR,this.onError,this)},l.unregisterListeners=function(){var i=this.hls;i.off(y.Events.MEDIA_ATTACHED,this.onMediaAttached,this),i.off(y.Events.MEDIA_DETACHING,this.onMediaDetaching,this),i.off(y.Events.MANIFEST_LOADING,this.onManifestLoading,this),i.off(y.Events.MANIFEST_PARSED,this.onManifestParsed,this),i.off(y.Events.LEVEL_LOADING,this.onLevelLoading,this),i.off(y.Events.LEVEL_SWITCHING,this.onLevelSwitching,this),i.off(y.Events.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),i.off(y.Events.ERROR,this.onError,this)},l.onMediaAttached=function(i,u){this.media=u.media,this.media&&(this.queuedDefaultTrack>-1&&(this.subtitleTrack=this.queuedDefaultTrack,this.queuedDefaultTrack=-1),this.useTextTrackPolling=!(this.media.textTracks&&"onchange"in this.media.textTracks),this.useTextTrackPolling?this.pollTrackChange(500):this.media.textTracks.addEventListener("change",this.asyncPollTrackChange))},l.pollTrackChange=function(i){self.clearInterval(this.subtitlePollingInterval),this.subtitlePollingInterval=self.setInterval(this.trackChangeListener,i)},l.onMediaDetaching=function(){this.media&&(self.clearInterval(this.subtitlePollingInterval),this.useTextTrackPolling||this.media.textTracks.removeEventListener("change",this.asyncPollTrackChange),this.trackId>-1&&(this.queuedDefaultTrack=this.trackId),cs(this.media.textTracks).forEach(function(i){Ae(i)}),this.subtitleTrack=-1,this.media=null)},l.onManifestLoading=function(){this.tracks=[],this.groupId=null,this.tracksInGroup=[],this.trackId=-1,this.selectDefaultTrack=!0},l.onManifestParsed=function(i,u){this.tracks=u.subtitleTracks},l.onSubtitleTrackLoaded=function(i,u){var d=u.id,g=u.details,m=this.trackId,T=this.tracksInGroup[m];if(T){var L=T.details;T.details=u.details,this.log("subtitle track "+d+" loaded ["+g.startSN+"-"+g.endSN+"]"),d===this.trackId&&(this.retryCount=0,this.playlistLoaded(d,u,L))}else this.warn("Invalid subtitle track id "+d)},l.onLevelLoading=function(i,u){this.switchLevel(u.level)},l.onLevelSwitching=function(i,u){this.switchLevel(u.level)},l.switchLevel=function(i){var u=this.hls.levels[i];if(u!=null&&u.textGroupIds){var d=u.textGroupIds[u.urlId];if(this.groupId!==d){var g=this.tracksInGroup?this.tracksInGroup[this.trackId]:void 0,m=this.tracks.filter(function(D){return!d||D.groupId===d});this.tracksInGroup=m;var T=this.findTrackId(g==null?void 0:g.name)||this.findTrackId();this.groupId=d;var L={subtitleTracks:m};this.log("Updating subtitle tracks, "+m.length+' track(s) found in "'+d+'" group-id'),this.hls.trigger(y.Events.SUBTITLE_TRACKS_UPDATED,L),T!==-1&&this.setSubtitleTrack(T,g)}}},l.findTrackId=function(i){for(var u=this.tracksInGroup,d=0;d<u.length;d++){var g=u[d];if((!this.selectDefaultTrack||g.default)&&(!i||i===g.name))return g.id}return-1},l.onError=function(i,u){v.prototype.onError.call(this,i,u),!u.fatal&&u.context&&u.context.type===O.PlaylistContextType.SUBTITLE_TRACK&&u.context.id===this.trackId&&u.context.groupId===this.groupId&&this.retryLoadingOrFail(u)},l.loadPlaylist=function(i){v.prototype.loadPlaylist.call(this);var u=this.tracksInGroup[this.trackId];if(this.shouldLoadTrack(u)){var d=u.id,g=u.groupId,m=u.url;if(i)try{m=i.addDirectives(m)}catch(T){this.warn("Could not construct new URL with HLS Delivery Directives: "+T)}this.log("Loading subtitle playlist for id "+d),this.hls.trigger(y.Events.SUBTITLE_TRACK_LOADING,{url:m,id:d,groupId:g,deliveryDirectives:i||null})}},l.toggleTrackModes=function(i){var u=this,d=this.media,g=this.trackId;if(d){var m=cs(d.textTracks),T=m.filter(function(C){return C.groupId===u.groupId});if(i===-1)[].slice.call(m).forEach(function(C){C.mode="disabled"});else{var L=T[g];L&&(L.mode="disabled")}var D=T[i];D&&(D.mode=this.subtitleDisplay?"showing":"hidden")}},l.setSubtitleTrack=function(i,u){var d,g=this.tracksInGroup;if(this.media){if(this.trackId!==i&&this.toggleTrackModes(i),!(this.trackId===i&&(i===-1||(d=g[i])!==null&&d!==void 0&&d.details)||i<-1||i>=g.length)){this.clearTimer();var m=g[i];if(this.log("Switching to subtitle track "+i),this.trackId=i,m){var T=m.id,L=m.groupId,D=L===void 0?"":L,C=m.name,G=m.type,j=m.url;this.hls.trigger(y.Events.SUBTITLE_TRACK_SWITCH,{id:T,groupId:D,name:C,type:G,url:j});var Q=this.switchParams(m.url,u==null?void 0:u.details);this.loadPlaylist(Q)}else this.hls.trigger(y.Events.SUBTITLE_TRACK_SWITCH,{id:i})}}else this.queuedDefaultTrack=i},l.onTextTracksChanged=function(){if(this.useTextTrackPolling||self.clearInterval(this.subtitlePollingInterval),this.media&&this.hls.config.renderTextTracksNatively){for(var i=-1,u=cs(this.media.textTracks),d=0;d<u.length;d++)if(u[d].mode==="hidden")i=d;else if(u[d].mode==="showing"){i=d;break}this.subtitleTrack!==i&&(this.subtitleTrack=i)}},a=n,(s=[{key:"subtitleDisplay",get:function(){return this._subtitleDisplay},set:function(i){this._subtitleDisplay=i,this.trackId>-1&&this.toggleTrackModes(this.trackId)}},{key:"subtitleTracks",get:function(){return this.tracksInGroup}},{key:"subtitleTrack",get:function(){return this.trackId},set:function(i){this.selectDefaultTrack=!1;var u=this.tracksInGroup?this.tracksInGroup[this.trackId]:void 0;this.setSubtitleTrack(i,u)}}])&&wd(a.prototype,s),Object.defineProperty(a,"prototype",{writable:!1}),n}(_e);var vt,xd=function(){function v(t){this.buffers=void 0,this.queues={video:[],audio:[],audiovideo:[]},this.buffers=t}var f=v.prototype;return f.append=function(t,n){var a=this.queues[n];a.push(t),a.length===1&&this.buffers[n]&&this.executeNext(n)},f.insertAbort=function(t,n){this.queues[n].unshift(t),this.executeNext(n)},f.appendBlocker=function(t){var n,a=new Promise(function(l){n=l}),s={execute:n,onStart:function(){},onComplete:function(){},onError:function(){}};return this.append(s,t),a},f.executeNext=function(t){var n=this.buffers,a=this.queues,s=n[t],l=a[t];if(l.length){var i=l[0];try{i.execute()}catch(u){P.logger.warn("[buffer-operation-queue]: Unhandled exception executing the current operation"),i.onError(u),s&&s.updating||(l.shift(),this.executeNext(t))}}},f.shiftAndExecuteNext=function(t){this.queues[t].shift(),this.executeNext(t)},f.current=function(t){return this.queues[t][0]},v}(),vl=ts(),ml=/([ha]vc.)(?:\.[^.,]+)+/,Dd=function(){function v(t){var n=this;this.details=null,this._objectUrl=null,this.operationQueue=void 0,this.listeners=void 0,this.hls=void 0,this.bufferCodecEventsExpected=0,this._bufferCodecEventsTotal=0,this.media=null,this.mediaSource=null,this.lastMpegAudioChunk=null,this.appendError=0,this.tracks={},this.pendingTracks={},this.sourceBuffer=void 0,this._onMediaSourceOpen=function(){var a=n.media,s=n.mediaSource;P.logger.log("[buffer-controller]: Media source opened"),a&&(a.removeEventListener("emptied",n._onMediaEmptied),n.updateMediaElementDuration(),n.hls.trigger(y.Events.MEDIA_ATTACHED,{media:a})),s&&s.removeEventListener("sourceopen",n._onMediaSourceOpen),n.checkPendingTracks()},this._onMediaSourceClose=function(){P.logger.log("[buffer-controller]: Media source closed")},this._onMediaSourceEnded=function(){P.logger.log("[buffer-controller]: Media source ended")},this._onMediaEmptied=function(){var a=n.media,s=n._objectUrl;a&&a.src!==s&&P.logger.error("Media element src was set while attaching MediaSource ("+s+" > "+a.src+")")},this.hls=t,this._initSourceBuffer(),this.registerListeners()}var f=v.prototype;return f.hasSourceTypes=function(){return this.getSourceBufferTypes().length>0||Object.keys(this.pendingTracks).length>0},f.destroy=function(){this.unregisterListeners(),this.details=null,this.lastMpegAudioChunk=null},f.registerListeners=function(){var t=this.hls;t.on(y.Events.MEDIA_ATTACHING,this.onMediaAttaching,this),t.on(y.Events.MEDIA_DETACHING,this.onMediaDetaching,this),t.on(y.Events.MANIFEST_PARSED,this.onManifestParsed,this),t.on(y.Events.BUFFER_RESET,this.onBufferReset,this),t.on(y.Events.BUFFER_APPENDING,this.onBufferAppending,this),t.on(y.Events.BUFFER_CODECS,this.onBufferCodecs,this),t.on(y.Events.BUFFER_EOS,this.onBufferEos,this),t.on(y.Events.BUFFER_FLUSHING,this.onBufferFlushing,this),t.on(y.Events.LEVEL_UPDATED,this.onLevelUpdated,this),t.on(y.Events.FRAG_PARSED,this.onFragParsed,this),t.on(y.Events.FRAG_CHANGED,this.onFragChanged,this)},f.unregisterListeners=function(){var t=this.hls;t.off(y.Events.MEDIA_ATTACHING,this.onMediaAttaching,this),t.off(y.Events.MEDIA_DETACHING,this.onMediaDetaching,this),t.off(y.Events.MANIFEST_PARSED,this.onManifestParsed,this),t.off(y.Events.BUFFER_RESET,this.onBufferReset,this),t.off(y.Events.BUFFER_APPENDING,this.onBufferAppending,this),t.off(y.Events.BUFFER_CODECS,this.onBufferCodecs,this),t.off(y.Events.BUFFER_EOS,this.onBufferEos,this),t.off(y.Events.BUFFER_FLUSHING,this.onBufferFlushing,this),t.off(y.Events.LEVEL_UPDATED,this.onLevelUpdated,this),t.off(y.Events.FRAG_PARSED,this.onFragParsed,this),t.off(y.Events.FRAG_CHANGED,this.onFragChanged,this)},f._initSourceBuffer=function(){this.sourceBuffer={},this.operationQueue=new xd(this.sourceBuffer),this.listeners={audio:[],video:[],audiovideo:[]},this.lastMpegAudioChunk=null},f.onManifestParsed=function(t,n){var a=2;(n.audio&&!n.video||!n.altAudio)&&(a=1),this.bufferCodecEventsExpected=this._bufferCodecEventsTotal=a,this.details=null,P.logger.log(this.bufferCodecEventsExpected+" bufferCodec event(s) expected")},f.onMediaAttaching=function(t,n){var a=this.media=n.media;if(a&&vl){var s=this.mediaSource=new vl;s.addEventListener("sourceopen",this._onMediaSourceOpen),s.addEventListener("sourceended",this._onMediaSourceEnded),s.addEventListener("sourceclose",this._onMediaSourceClose),a.src=self.URL.createObjectURL(s),this._objectUrl=a.src,a.addEventListener("emptied",this._onMediaEmptied)}},f.onMediaDetaching=function(){var t=this.media,n=this.mediaSource,a=this._objectUrl;if(n){if(P.logger.log("[buffer-controller]: media source detaching"),n.readyState==="open")try{n.endOfStream()}catch(s){P.logger.warn("[buffer-controller]: onMediaDetaching: "+s.message+" while calling endOfStream")}this.onBufferReset(),n.removeEventListener("sourceopen",this._onMediaSourceOpen),n.removeEventListener("sourceended",this._onMediaSourceEnded),n.removeEventListener("sourceclose",this._onMediaSourceClose),t&&(t.removeEventListener("emptied",this._onMediaEmptied),a&&self.URL.revokeObjectURL(a),t.src===a?(t.removeAttribute("src"),t.load()):P.logger.warn("[buffer-controller]: media.src was changed by a third party - skip cleanup")),this.mediaSource=null,this.media=null,this._objectUrl=null,this.bufferCodecEventsExpected=this._bufferCodecEventsTotal,this.pendingTracks={},this.tracks={}}this.hls.trigger(y.Events.MEDIA_DETACHED,void 0)},f.onBufferReset=function(){var t=this;this.getSourceBufferTypes().forEach(function(n){var a=t.sourceBuffer[n];try{a&&(t.removeBufferListeners(n),t.mediaSource&&t.mediaSource.removeSourceBuffer(a),t.sourceBuffer[n]=void 0)}catch(s){P.logger.warn("[buffer-controller]: Failed to reset the "+n+" buffer",s)}}),this._initSourceBuffer()},f.onBufferCodecs=function(t,n){var a=this,s=this.getSourceBufferTypes().length;Object.keys(n).forEach(function(l){if(s){var i=a.tracks[l];if(i&&typeof i.buffer.changeType=="function"){var u=n[l],d=u.id,g=u.codec,m=u.levelCodec,T=u.container,L=u.metadata,D=(i.levelCodec||i.codec).replace(ml,"$1"),C=(m||g).replace(ml,"$1");if(D!==C){var G=T+";codecs="+(m||g);a.appendChangeType(l,G),P.logger.log("[buffer-controller]: switching codec "+D+" to "+C),a.tracks[l]={buffer:i.buffer,codec:g,container:T,levelCodec:m,metadata:L,id:d}}}}else a.pendingTracks[l]=n[l]}),s||(this.bufferCodecEventsExpected=Math.max(this.bufferCodecEventsExpected-1,0),this.mediaSource&&this.mediaSource.readyState==="open"&&this.checkPendingTracks())},f.appendChangeType=function(t,n){var a=this,s=this.operationQueue,l={execute:function(){var i=a.sourceBuffer[t];i&&(P.logger.log("[buffer-controller]: changing "+t+" sourceBuffer type to "+n),i.changeType(n)),s.shiftAndExecuteNext(t)},onStart:function(){},onComplete:function(){},onError:function(i){P.logger.warn("[buffer-controller]: Failed to change "+t+" SourceBuffer type",i)}};s.append(l,t)},f.onBufferAppending=function(t,n){var a=this,s=this.hls,l=this.operationQueue,i=this.tracks,u=n.data,d=n.type,g=n.frag,m=n.part,T=n.chunkMeta,L=T.buffering[d],D=self.performance.now();L.start=D;var C=g.stats.buffering,G=m?m.stats.buffering:null;C.start===0&&(C.start=D),G&&G.start===0&&(G.start=D);var j=i.audio,Q=!1;d==="audio"&&(j==null?void 0:j.container)==="audio/mpeg"&&(Q=!this.lastMpegAudioChunk||T.id===1||this.lastMpegAudioChunk.sn!==T.sn,this.lastMpegAudioChunk=T);var le=g.start,me={execute:function(){if(L.executeStart=self.performance.now(),Q){var de=a.sourceBuffer[d];if(de){var Se=le-de.timestampOffset;Math.abs(Se)>=.1&&(P.logger.log("[buffer-controller]: Updating audio SourceBuffer timestampOffset to "+le+" (delta: "+Se+") sn: "+g.sn+")"),de.timestampOffset=le)}}a.appendExecutor(u,d)},onStart:function(){},onComplete:function(){var de=self.performance.now();L.executeEnd=L.end=de,C.first===0&&(C.first=de),G&&G.first===0&&(G.first=de);var Se=a.sourceBuffer,Ge={};for(var We in Se)Ge[We]=Pt.getBuffered(Se[We]);a.appendError=0,a.hls.trigger(y.Events.BUFFER_APPENDED,{type:d,frag:g,part:m,chunkMeta:T,parent:g.type,timeRanges:Ge})},onError:function(de){P.logger.error("[buffer-controller]: Error encountered while trying to append to the "+d+" SourceBuffer",de);var Se={type:w.ErrorTypes.MEDIA_ERROR,parent:g.type,details:w.ErrorDetails.BUFFER_APPEND_ERROR,err:de,fatal:!1};de.code===DOMException.QUOTA_EXCEEDED_ERR?Se.details=w.ErrorDetails.BUFFER_FULL_ERROR:(a.appendError++,Se.details=w.ErrorDetails.BUFFER_APPEND_ERROR,a.appendError>s.config.appendErrorMaxRetry&&(P.logger.error("[buffer-controller]: Failed "+s.config.appendErrorMaxRetry+" times to append segment in sourceBuffer"),Se.fatal=!0,s.stopLoad())),s.trigger(y.Events.ERROR,Se)}};l.append(me,d)},f.onBufferFlushing=function(t,n){var a=this,s=this.operationQueue,l=function(i){return{execute:a.removeExecutor.bind(a,i,n.startOffset,n.endOffset),onStart:function(){},onComplete:function(){a.hls.trigger(y.Events.BUFFER_FLUSHED,{type:i})},onError:function(u){P.logger.warn("[buffer-controller]: Failed to remove from "+i+" SourceBuffer",u)}}};n.type?s.append(l(n.type),n.type):this.getSourceBufferTypes().forEach(function(i){s.append(l(i),i)})},f.onFragParsed=function(t,n){var a=this,s=n.frag,l=n.part,i=[],u=l?l.elementaryStreams:s.elementaryStreams;u[Z.ElementaryStreamTypes.AUDIOVIDEO]?i.push("audiovideo"):(u[Z.ElementaryStreamTypes.AUDIO]&&i.push("audio"),u[Z.ElementaryStreamTypes.VIDEO]&&i.push("video")),i.length===0&&P.logger.warn("Fragments must have at least one ElementaryStreamType set. type: "+s.type+" level: "+s.level+" sn: "+s.sn),this.blockBuffers(function(){var d=self.performance.now();s.stats.buffering.end=d,l&&(l.stats.buffering.end=d);var g=l?l.stats:s.stats;a.hls.trigger(y.Events.FRAG_BUFFERED,{frag:s,part:l,stats:g,id:s.type})},i)},f.onFragChanged=function(t,n){this.flushBackBuffer()},f.onBufferEos=function(t,n){var a=this;this.getSourceBufferTypes().reduce(function(s,l){var i=a.sourceBuffer[l];return!i||n.type&&n.type!==l||(i.ending=!0,i.ended||(i.ended=!0,P.logger.log("[buffer-controller]: "+l+" sourceBuffer now EOS"))),s&&!(i&&!i.ended)},!0)&&(P.logger.log("[buffer-controller]: Queueing mediaSource.endOfStream()"),this.blockBuffers(function(){a.getSourceBufferTypes().forEach(function(l){var i=a.sourceBuffer[l];i&&(i.ending=!1)});var s=a.mediaSource;s&&s.readyState==="open"?(P.logger.log("[buffer-controller]: Calling mediaSource.endOfStream()"),s.endOfStream()):s&&P.logger.info("[buffer-controller]: Could not call mediaSource.endOfStream(). mediaSource.readyState: "+s.readyState)}))},f.onLevelUpdated=function(t,n){var a=n.details;a.fragments.length&&(this.details=a,this.getSourceBufferTypes().length?this.blockBuffers(this.updateMediaElementDuration.bind(this)):this.updateMediaElementDuration())},f.flushBackBuffer=function(){var t=this.hls,n=this.details,a=this.media,s=this.sourceBuffer;if(a&&n!==null){var l=this.getSourceBufferTypes();if(l.length){var i=n.live&&t.config.liveBackBufferLength!==null?t.config.liveBackBufferLength:t.config.backBufferLength;if((0,A.isFiniteNumber)(i)&&!(i<0)){var u=a.currentTime,d=n.levelTargetDuration,g=Math.max(i,d),m=Math.floor(u/d)*d-g;l.forEach(function(T){var L=s[T];if(L){var D=Pt.getBuffered(L);if(D.length>0&&m>D.start(0)){if(t.trigger(y.Events.BACK_BUFFER_REACHED,{bufferEnd:m}),n.live)t.trigger(y.Events.LIVE_BACK_BUFFER_REACHED,{bufferEnd:m});else if(L.ended&&D.end(D.length-1)-u<2*d)return void P.logger.info("[buffer-controller]: Cannot flush "+T+" back buffer while SourceBuffer is in ended state");t.trigger(y.Events.BUFFER_FLUSHING,{startOffset:0,endOffset:m,type:T})}}})}}}},f.updateMediaElementDuration=function(){if(this.details&&this.media&&this.mediaSource&&this.mediaSource.readyState==="open"){var t=this.details,n=this.hls,a=this.media,s=this.mediaSource,l=t.fragments[0].start+t.totalduration,i=a.duration,u=(0,A.isFiniteNumber)(s.duration)?s.duration:0;t.live&&n.config.liveDurationInfinity?(P.logger.log("[buffer-controller]: Media Source duration is set to Infinity"),s.duration=1/0,this.updateSeekableRange(t)):(l>u&&l>i||!(0,A.isFiniteNumber)(i))&&(P.logger.log("[buffer-controller]: Updating Media Source duration to "+l.toFixed(3)),s.duration=l)}},f.updateSeekableRange=function(t){var n=this.mediaSource,a=t.fragments;if(a.length&&t.live&&n!=null&&n.setLiveSeekableRange){var s=Math.max(0,a[0].start),l=Math.max(s,s+t.totalduration);n.setLiveSeekableRange(s,l)}},f.checkPendingTracks=function(){var t=this.bufferCodecEventsExpected,n=this.operationQueue,a=this.pendingTracks,s=Object.keys(a).length;if(s&&!t||s===2){this.createSourceBuffers(a),this.pendingTracks={};var l=this.getSourceBufferTypes();if(l.length===0)return void this.hls.trigger(y.Events.ERROR,{type:w.ErrorTypes.MEDIA_ERROR,details:w.ErrorDetails.BUFFER_INCOMPATIBLE_CODECS_ERROR,fatal:!0,reason:"could not create source buffer for media codec(s)"});l.forEach(function(i){n.executeNext(i)})}},f.createSourceBuffers=function(t){var n=this.sourceBuffer,a=this.mediaSource;if(!a)throw Error("createSourceBuffers called when mediaSource was null");var s=0;for(var l in t)if(!n[l]){var i=t[l];if(!i)throw Error("source buffer exists for track "+l+", however track does not");var u=i.levelCodec||i.codec,d=i.container+";codecs="+u;P.logger.log("[buffer-controller]: creating sourceBuffer("+d+")");try{var g=n[l]=a.addSourceBuffer(d),m=l;this.addBufferListener(m,"updatestart",this._onSBUpdateStart),this.addBufferListener(m,"updateend",this._onSBUpdateEnd),this.addBufferListener(m,"error",this._onSBUpdateError),this.tracks[l]={buffer:g,codec:u,container:i.container,levelCodec:i.levelCodec,metadata:i.metadata,id:i.id},s++}catch(T){P.logger.error("[buffer-controller]: error while trying to add sourceBuffer: "+T.message),this.hls.trigger(y.Events.ERROR,{type:w.ErrorTypes.MEDIA_ERROR,details:w.ErrorDetails.BUFFER_ADD_CODEC_ERROR,fatal:!1,error:T,mimeType:d})}}s&&this.hls.trigger(y.Events.BUFFER_CREATED,{tracks:this.tracks})},f._onSBUpdateStart=function(t){this.operationQueue.current(t).onStart()},f._onSBUpdateEnd=function(t){var n=this.operationQueue;n.current(t).onComplete(),n.shiftAndExecuteNext(t)},f._onSBUpdateError=function(t,n){P.logger.error("[buffer-controller]: "+t+" SourceBuffer error",n),this.hls.trigger(y.Events.ERROR,{type:w.ErrorTypes.MEDIA_ERROR,details:w.ErrorDetails.BUFFER_APPENDING_ERROR,fatal:!1});var a=this.operationQueue.current(t);a&&a.onError(n)},f.removeExecutor=function(t,n,a){var s=this.media,l=this.mediaSource,i=this.operationQueue,u=this.sourceBuffer[t];if(!s||!l||!u)return P.logger.warn("[buffer-controller]: Attempting to remove from the "+t+" SourceBuffer, but it does not exist"),void i.shiftAndExecuteNext(t);var d=(0,A.isFiniteNumber)(s.duration)?s.duration:1/0,g=(0,A.isFiniteNumber)(l.duration)?l.duration:1/0,m=Math.max(0,n),T=Math.min(a,d,g);T>m&&!u.ending?(u.ended=!1,P.logger.log("[buffer-controller]: Removing ["+m+","+T+"] from the "+t+" SourceBuffer"),u.remove(m,T)):i.shiftAndExecuteNext(t)},f.appendExecutor=function(t,n){var a=this.operationQueue,s=this.sourceBuffer[n];if(!s)return P.logger.warn("[buffer-controller]: Attempting to append to the "+n+" SourceBuffer, but it does not exist"),void a.shiftAndExecuteNext(n);s.ended=!1,s.appendBuffer(t)},f.blockBuffers=function(t,n){var a=this;if(n===void 0&&(n=this.getSourceBufferTypes()),!n.length)return P.logger.log("[buffer-controller]: Blocking operation requested, but no SourceBuffers exist"),void Promise.resolve().then(t);var s=this.operationQueue,l=n.map(function(i){return s.appendBlocker(i)});Promise.all(l).then(function(){t(),n.forEach(function(i){var u=a.sourceBuffer[i];u&&u.updating||s.shiftAndExecuteNext(i)})})},f.getSourceBufferTypes=function(){return Object.keys(this.sourceBuffer)},f.addBufferListener=function(t,n,a){var s=this.sourceBuffer[t];if(s){var l=a.bind(this,t);this.listeners[t].push({event:n,listener:l}),s.addEventListener(n,l)}},f.removeBufferListeners=function(t){var n=this.sourceBuffer[t];n&&this.listeners[t].forEach(function(a){n.removeEventListener(a.event,a.listener)})},v}(),pl={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},yl=function(v){var f=v;return pl.hasOwnProperty(v)&&(f=pl[v]),String.fromCharCode(f)},cn=15,Fr=100,Id={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},Cd={17:2,18:4,21:6,22:8,23:10,19:13,20:15},Od={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},Pd={25:2,26:4,29:6,30:8,31:10,27:13,28:15},Fd=["white","green","blue","cyan","red","yellow","magenta","black","transparent"];(function(v){v[v.ERROR=0]="ERROR",v[v.TEXT=1]="TEXT",v[v.WARNING=2]="WARNING",v[v.INFO=2]="INFO",v[v.DEBUG=3]="DEBUG",v[v.DATA=3]="DATA"})(vt||(vt={}));var Md=function(){function v(){this.time=null,this.verboseLevel=vt.ERROR}return v.prototype.log=function(f,t){if(this.verboseLevel>=f){var n=typeof t=="function"?t():t;P.logger.log(this.time+" ["+f+"] "+n)}},v}(),fn=function(v){for(var f=[],t=0;t<v.length;t++)f.push(v[t].toString(16));return f},El=function(){function v(t,n,a,s,l){this.foreground=void 0,this.underline=void 0,this.italics=void 0,this.background=void 0,this.flash=void 0,this.foreground=t||"white",this.underline=n||!1,this.italics=a||!1,this.background=s||"black",this.flash=l||!1}var f=v.prototype;return f.reset=function(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1},f.setStyles=function(t){for(var n=["foreground","underline","italics","background","flash"],a=0;a<n.length;a++){var s=n[a];t.hasOwnProperty(s)&&(this[s]=t[s])}},f.isDefault=function(){return this.foreground==="white"&&!this.underline&&!this.italics&&this.background==="black"&&!this.flash},f.equals=function(t){return this.foreground===t.foreground&&this.underline===t.underline&&this.italics===t.italics&&this.background===t.background&&this.flash===t.flash},f.copy=function(t){this.foreground=t.foreground,this.underline=t.underline,this.italics=t.italics,this.background=t.background,this.flash=t.flash},f.toString=function(){return"color="+this.foreground+", underline="+this.underline+", italics="+this.italics+", background="+this.background+", flash="+this.flash},v}(),Nd=function(){function v(t,n,a,s,l,i){this.uchar=void 0,this.penState=void 0,this.uchar=t||" ",this.penState=new El(n,a,s,l,i)}var f=v.prototype;return f.reset=function(){this.uchar=" ",this.penState.reset()},f.setChar=function(t,n){this.uchar=t,this.penState.copy(n)},f.setPenState=function(t){this.penState.copy(t)},f.equals=function(t){return this.uchar===t.uchar&&this.penState.equals(t.penState)},f.copy=function(t){this.uchar=t.uchar,this.penState.copy(t.penState)},f.isEmpty=function(){return this.uchar===" "&&this.penState.isDefault()},v}(),Ud=function(){function v(t){this.chars=void 0,this.pos=void 0,this.currPenState=void 0,this.cueStartTime=void 0,this.logger=void 0,this.chars=[];for(var n=0;n<Fr;n++)this.chars.push(new Nd);this.logger=t,this.pos=0,this.currPenState=new El}var f=v.prototype;return f.equals=function(t){for(var n=!0,a=0;a<Fr;a++)if(!this.chars[a].equals(t.chars[a])){n=!1;break}return n},f.copy=function(t){for(var n=0;n<Fr;n++)this.chars[n].copy(t.chars[n])},f.isEmpty=function(){for(var t=!0,n=0;n<Fr;n++)if(!this.chars[n].isEmpty()){t=!1;break}return t},f.setCursor=function(t){this.pos!==t&&(this.pos=t),this.pos<0?(this.logger.log(vt.DEBUG,"Negative cursor position "+this.pos),this.pos=0):this.pos>Fr&&(this.logger.log(vt.DEBUG,"Too large cursor position "+this.pos),this.pos=Fr)},f.moveCursor=function(t){var n=this.pos+t;if(t>1)for(var a=this.pos+1;a<n+1;a++)this.chars[a].setPenState(this.currPenState);this.setCursor(n)},f.backSpace=function(){this.moveCursor(-1),this.chars[this.pos].setChar(" ",this.currPenState)},f.insertChar=function(t){var n=this;t>=144&&this.backSpace();var a=yl(t);this.pos>=Fr?this.logger.log(vt.ERROR,function(){return"Cannot insert "+t.toString(16)+" ("+a+") at position "+n.pos+". Skipping it!"}):(this.chars[this.pos].setChar(a,this.currPenState),this.moveCursor(1))},f.clearFromPos=function(t){var n;for(n=t;n<Fr;n++)this.chars[n].reset()},f.clear=function(){this.clearFromPos(0),this.pos=0,this.currPenState.reset()},f.clearToEndOfRow=function(){this.clearFromPos(this.pos)},f.getTextString=function(){for(var t=[],n=!0,a=0;a<Fr;a++){var s=this.chars[a].uchar;s!==" "&&(n=!1),t.push(s)}return n?"":t.join("")},f.setPenStyles=function(t){this.currPenState.setStyles(t),this.chars[this.pos].setPenState(this.currPenState)},v}(),fs=function(){function v(t){this.rows=void 0,this.currRow=void 0,this.nrRollUpRows=void 0,this.lastOutputScreen=void 0,this.logger=void 0,this.rows=[];for(var n=0;n<cn;n++)this.rows.push(new Ud(t));this.logger=t,this.currRow=14,this.nrRollUpRows=null,this.lastOutputScreen=null,this.reset()}var f=v.prototype;return f.reset=function(){for(var t=0;t<cn;t++)this.rows[t].clear();this.currRow=14},f.equals=function(t){for(var n=!0,a=0;a<cn;a++)if(!this.rows[a].equals(t.rows[a])){n=!1;break}return n},f.copy=function(t){for(var n=0;n<cn;n++)this.rows[n].copy(t.rows[n])},f.isEmpty=function(){for(var t=!0,n=0;n<cn;n++)if(!this.rows[n].isEmpty()){t=!1;break}return t},f.backSpace=function(){this.rows[this.currRow].backSpace()},f.clearToEndOfRow=function(){this.rows[this.currRow].clearToEndOfRow()},f.insertChar=function(t){this.rows[this.currRow].insertChar(t)},f.setPen=function(t){this.rows[this.currRow].setPenStyles(t)},f.moveCursor=function(t){this.rows[this.currRow].moveCursor(t)},f.setCursor=function(t){this.logger.log(vt.INFO,"setCursor: "+t),this.rows[this.currRow].setCursor(t)},f.setPAC=function(t){this.logger.log(vt.INFO,function(){return"pacData = "+JSON.stringify(t)});var n=t.row-1;if(this.nrRollUpRows&&n<this.nrRollUpRows-1&&(n=this.nrRollUpRows-1),this.nrRollUpRows&&this.currRow!==n){for(var a=0;a<cn;a++)this.rows[a].clear();var s=this.currRow+1-this.nrRollUpRows,l=this.lastOutputScreen;if(l){var i=l.rows[s].cueStartTime,u=this.logger.time;if(i&&u!==null&&i<u)for(var d=0;d<this.nrRollUpRows;d++)this.rows[n-this.nrRollUpRows+d+1].copy(l.rows[s+d])}}this.currRow=n;var g=this.rows[this.currRow];if(t.indent!==null){var m=t.indent,T=Math.max(m-1,0);g.setCursor(t.indent),t.color=g.chars[T].penState.foreground}var L={foreground:t.color,underline:t.underline,italics:t.italics,background:"black",flash:!1};this.setPen(L)},f.setBkgData=function(t){this.logger.log(vt.INFO,function(){return"bkgData = "+JSON.stringify(t)}),this.backSpace(),this.setPen(t),this.insertChar(32)},f.setRollUpRows=function(t){this.nrRollUpRows=t},f.rollUp=function(){var t=this;if(this.nrRollUpRows!==null){this.logger.log(vt.TEXT,function(){return t.getDisplayText()});var n=this.currRow+1-this.nrRollUpRows,a=this.rows.splice(n,1)[0];a.clear(),this.rows.splice(this.currRow,0,a),this.logger.log(vt.INFO,"Rolling up")}else this.logger.log(vt.DEBUG,"roll_up but nrRollUpRows not set yet")},f.getDisplayText=function(t){t=t||!1;for(var n=[],a="",s=-1,l=0;l<cn;l++){var i=this.rows[l].getTextString();i&&(s=l+1,t?n.push("Row "+s+": '"+i+"'"):n.push(i.trim()))}return n.length>0&&(a=t?"["+n.join(" | ")+"]":n.join(`
`)),a},f.getTextAndFormat=function(){return this.rows},v}(),bl=function(){function v(t,n,a){this.chNr=void 0,this.outputFilter=void 0,this.mode=void 0,this.verbose=void 0,this.displayedMemory=void 0,this.nonDisplayedMemory=void 0,this.lastOutputScreen=void 0,this.currRollUpRow=void 0,this.writeScreen=void 0,this.cueStartTime=void 0,this.logger=void 0,this.chNr=t,this.outputFilter=n,this.mode=null,this.verbose=0,this.displayedMemory=new fs(a),this.nonDisplayedMemory=new fs(a),this.lastOutputScreen=new fs(a),this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null,this.logger=a}var f=v.prototype;return f.reset=function(){this.mode=null,this.displayedMemory.reset(),this.nonDisplayedMemory.reset(),this.lastOutputScreen.reset(),this.outputFilter.reset(),this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null},f.getHandler=function(){return this.outputFilter},f.setHandler=function(t){this.outputFilter=t},f.setPAC=function(t){this.writeScreen.setPAC(t)},f.setBkgData=function(t){this.writeScreen.setBkgData(t)},f.setMode=function(t){t!==this.mode&&(this.mode=t,this.logger.log(vt.INFO,function(){return"MODE="+t}),this.mode==="MODE_POP-ON"?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset()),this.mode!=="MODE_ROLL-UP"&&(this.displayedMemory.nrRollUpRows=null,this.nonDisplayedMemory.nrRollUpRows=null),this.mode=t)},f.insertChars=function(t){for(var n=this,a=0;a<t.length;a++)this.writeScreen.insertChar(t[a]);var s=this.writeScreen===this.displayedMemory?"DISP":"NON_DISP";this.logger.log(vt.INFO,function(){return s+": "+n.writeScreen.getDisplayText(!0)}),this.mode!=="MODE_PAINT-ON"&&this.mode!=="MODE_ROLL-UP"||(this.logger.log(vt.TEXT,function(){return"DISPLAYED: "+n.displayedMemory.getDisplayText(!0)}),this.outputDataUpdate())},f.ccRCL=function(){this.logger.log(vt.INFO,"RCL - Resume Caption Loading"),this.setMode("MODE_POP-ON")},f.ccBS=function(){this.logger.log(vt.INFO,"BS - BackSpace"),this.mode!=="MODE_TEXT"&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate())},f.ccAOF=function(){},f.ccAON=function(){},f.ccDER=function(){this.logger.log(vt.INFO,"DER- Delete to End of Row"),this.writeScreen.clearToEndOfRow(),this.outputDataUpdate()},f.ccRU=function(t){this.logger.log(vt.INFO,"RU("+t+") - Roll Up"),this.writeScreen=this.displayedMemory,this.setMode("MODE_ROLL-UP"),this.writeScreen.setRollUpRows(t)},f.ccFON=function(){this.logger.log(vt.INFO,"FON - Flash On"),this.writeScreen.setPen({flash:!0})},f.ccRDC=function(){this.logger.log(vt.INFO,"RDC - Resume Direct Captioning"),this.setMode("MODE_PAINT-ON")},f.ccTR=function(){this.logger.log(vt.INFO,"TR"),this.setMode("MODE_TEXT")},f.ccRTD=function(){this.logger.log(vt.INFO,"RTD"),this.setMode("MODE_TEXT")},f.ccEDM=function(){this.logger.log(vt.INFO,"EDM - Erase Displayed Memory"),this.displayedMemory.reset(),this.outputDataUpdate(!0)},f.ccCR=function(){this.logger.log(vt.INFO,"CR - Carriage Return"),this.writeScreen.rollUp(),this.outputDataUpdate(!0)},f.ccENM=function(){this.logger.log(vt.INFO,"ENM - Erase Non-displayed Memory"),this.nonDisplayedMemory.reset()},f.ccEOC=function(){var t=this;if(this.logger.log(vt.INFO,"EOC - End Of Caption"),this.mode==="MODE_POP-ON"){var n=this.displayedMemory;this.displayedMemory=this.nonDisplayedMemory,this.nonDisplayedMemory=n,this.writeScreen=this.nonDisplayedMemory,this.logger.log(vt.TEXT,function(){return"DISP: "+t.displayedMemory.getDisplayText()})}this.outputDataUpdate(!0)},f.ccTO=function(t){this.logger.log(vt.INFO,"TO("+t+") - Tab Offset"),this.writeScreen.moveCursor(t)},f.ccMIDROW=function(t){var n={flash:!1};if(n.underline=t%2==1,n.italics=t>=46,n.italics)n.foreground="white";else{var a=Math.floor(t/2)-16;n.foreground=["white","green","blue","cyan","red","yellow","magenta"][a]}this.logger.log(vt.INFO,"MIDROW: "+JSON.stringify(n)),this.writeScreen.setPen(n)},f.outputDataUpdate=function(t){t===void 0&&(t=!1);var n=this.logger.time;n!==null&&this.outputFilter&&(this.cueStartTime!==null||this.displayedMemory.isEmpty()?this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue(this.cueStartTime,n,this.lastOutputScreen),t&&this.outputFilter.dispatchCue&&this.outputFilter.dispatchCue(),this.cueStartTime=this.displayedMemory.isEmpty()?null:n):this.cueStartTime=n,this.lastOutputScreen.copy(this.displayedMemory))},f.cueSplitAtTime=function(t){this.outputFilter&&(this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,t,this.displayedMemory),this.cueStartTime=t))},v}(),Bd=function(){function v(t,n,a){this.channels=void 0,this.currentChannel=0,this.cmdHistory=void 0,this.logger=void 0;var s=new Md;this.channels=[null,new bl(t,n,s),new bl(t+1,a,s)],this.cmdHistory={a:null,b:null},this.logger=s}var f=v.prototype;return f.getHandler=function(t){return this.channels[t].getHandler()},f.setHandler=function(t,n){this.channels[t].setHandler(n)},f.addData=function(t,n){var a,s,l,i=!1;this.logger.time=t;for(var u=0;u<n.length;u+=2)if(s=127&n[u],l=127&n[u+1],s!==0||l!==0){if(this.logger.log(vt.DATA,"["+fn([n[u],n[u+1]])+"] -> ("+fn([s,l])+")"),(a=this.parseCmd(s,l))||(a=this.parseMidrow(s,l)),a||(a=this.parsePAC(s,l)),a||(a=this.parseBackgroundAttributes(s,l)),!a&&(i=this.parseChars(s,l))){var d=this.currentChannel;d&&d>0?this.channels[d].insertChars(i):this.logger.log(vt.WARNING,"No channel found yet. TEXT-MODE?")}a||i||this.logger.log(vt.WARNING,"Couldn't parse cleaned data "+fn([s,l])+" orig: "+fn([n[u],n[u+1]]))}},f.parseCmd=function(t,n){var a=this.cmdHistory;if(!((t===20||t===28||t===21||t===29)&&n>=32&&n<=47||(t===23||t===31)&&n>=33&&n<=35))return!1;if(Tl(t,n,a))return Dn(null,null,a),this.logger.log(vt.DEBUG,"Repeated command ("+fn([t,n])+") is dropped"),!0;var s=t===20||t===21||t===23?1:2,l=this.channels[s];return t===20||t===21||t===28||t===29?n===32?l.ccRCL():n===33?l.ccBS():n===34?l.ccAOF():n===35?l.ccAON():n===36?l.ccDER():n===37?l.ccRU(2):n===38?l.ccRU(3):n===39?l.ccRU(4):n===40?l.ccFON():n===41?l.ccRDC():n===42?l.ccTR():n===43?l.ccRTD():n===44?l.ccEDM():n===45?l.ccCR():n===46?l.ccENM():n===47&&l.ccEOC():l.ccTO(n-32),Dn(t,n,a),this.currentChannel=s,!0},f.parseMidrow=function(t,n){var a=0;if((t===17||t===25)&&n>=32&&n<=47){if((a=t===17?1:2)!==this.currentChannel)return this.logger.log(vt.ERROR,"Mismatch channel in midrow parsing"),!1;var s=this.channels[a];return!!s&&(s.ccMIDROW(n),this.logger.log(vt.DEBUG,"MIDROW ("+fn([t,n])+")"),!0)}return!1},f.parsePAC=function(t,n){var a,s=this.cmdHistory;if(!((t>=17&&t<=23||t>=25&&t<=31)&&n>=64&&n<=127||(t===16||t===24)&&n>=64&&n<=95))return!1;if(Tl(t,n,s))return Dn(null,null,s),!0;var l=t<=23?1:2;a=n>=64&&n<=95?l===1?Id[t]:Od[t]:l===1?Cd[t]:Pd[t];var i=this.channels[l];return!!i&&(i.setPAC(this.interpretPAC(a,n)),Dn(t,n,s),this.currentChannel=l,!0)},f.interpretPAC=function(t,n){var a,s={color:null,italics:!1,indent:null,underline:!1,row:t};return a=n>95?n-96:n-64,s.underline=(1&a)==1,a<=13?s.color=["white","green","blue","cyan","red","yellow","magenta","white"][Math.floor(a/2)]:a<=15?(s.italics=!0,s.color="white"):s.indent=4*Math.floor((a-16)/2),s},f.parseChars=function(t,n){var a,s,l=null,i=null;if(t>=25?(a=2,i=t-8):(a=1,i=t),i>=17&&i<=19?(s=i===17?n+80:i===18?n+112:n+144,this.logger.log(vt.INFO,"Special char '"+yl(s)+"' in channel "+a),l=[s]):t>=32&&t<=127&&(l=n===0?[t]:[t,n]),l){var u=fn(l);this.logger.log(vt.DEBUG,"Char codes =  "+u.join(",")),Dn(t,n,this.cmdHistory)}return l},f.parseBackgroundAttributes=function(t,n){var a;if(!((t===16||t===24)&&n>=32&&n<=47||(t===23||t===31)&&n>=45&&n<=47))return!1;var s={};t===16||t===24?(a=Math.floor((n-32)/2),s.background=Fd[a],n%2==1&&(s.background=s.background+"_semi")):n===45?s.background="transparent":(s.foreground="black",n===47&&(s.underline=!0));var l=t<=23?1:2;return this.channels[l].setBkgData(s),Dn(t,n,this.cmdHistory),!0},f.reset=function(){for(var t=0;t<Object.keys(this.channels).length;t++){var n=this.channels[t];n&&n.reset()}this.cmdHistory={a:null,b:null}},f.cueSplitAtTime=function(t){for(var n=0;n<this.channels.length;n++){var a=this.channels[n];a&&a.cueSplitAtTime(t)}},v}();function Dn(v,f,t){t.a=v,t.b=f}function Tl(v,f,t){return t.a===v&&t.b===f}const Sl=Bd;var Hi=function(){function v(t,n){this.timelineController=void 0,this.cueRanges=[],this.trackName=void 0,this.startTime=null,this.endTime=null,this.screen=null,this.timelineController=t,this.trackName=n}var f=v.prototype;return f.dispatchCue=function(){this.startTime!==null&&(this.timelineController.addCues(this.trackName,this.startTime,this.endTime,this.screen,this.cueRanges),this.startTime=null)},f.newCue=function(t,n,a){(this.startTime===null||this.startTime>t)&&(this.startTime=t),this.endTime=n,this.screen=a,this.timelineController.createCaptionsTrack(this.trackName)},f.reset=function(){this.cueRanges=[],this.startTime=null},v}();const ds=function(){if(typeof self<"u"&&self.VTTCue)return self.VTTCue;var v=["","lr","rl"],f=["start","middle","end","left","right"];function t(l,i){if(typeof i!="string"||!Array.isArray(l))return!1;var u=i.toLowerCase();return!!~l.indexOf(u)&&u}function n(l){return t(f,l)}function a(l){for(var i=arguments.length,u=new Array(i>1?i-1:0),d=1;d<i;d++)u[d-1]=arguments[d];for(var g=1;g<arguments.length;g++){var m=arguments[g];for(var T in m)l[T]=m[T]}return l}function s(l,i,u){var d=this,g={enumerable:!0};d.hasBeenReset=!1;var m="",T=!1,L=l,D=i,C=u,G=null,j="",Q=!0,le="auto",me="start",de=50,Se="middle",Ge=50,We="middle";Object.defineProperty(d,"id",a({},g,{get:function(){return m},set:function(xe){m=""+xe}})),Object.defineProperty(d,"pauseOnExit",a({},g,{get:function(){return T},set:function(xe){T=!!xe}})),Object.defineProperty(d,"startTime",a({},g,{get:function(){return L},set:function(xe){if(typeof xe!="number")throw new TypeError("Start time must be set to a number.");L=xe,this.hasBeenReset=!0}})),Object.defineProperty(d,"endTime",a({},g,{get:function(){return D},set:function(xe){if(typeof xe!="number")throw new TypeError("End time must be set to a number.");D=xe,this.hasBeenReset=!0}})),Object.defineProperty(d,"text",a({},g,{get:function(){return C},set:function(xe){C=""+xe,this.hasBeenReset=!0}})),Object.defineProperty(d,"region",a({},g,{get:function(){return G},set:function(xe){G=xe,this.hasBeenReset=!0}})),Object.defineProperty(d,"vertical",a({},g,{get:function(){return j},set:function(xe){var Ke=function(Oe){return t(v,Oe)}(xe);if(Ke===!1)throw new SyntaxError("An invalid or illegal string was specified.");j=Ke,this.hasBeenReset=!0}})),Object.defineProperty(d,"snapToLines",a({},g,{get:function(){return Q},set:function(xe){Q=!!xe,this.hasBeenReset=!0}})),Object.defineProperty(d,"line",a({},g,{get:function(){return le},set:function(xe){if(typeof xe!="number"&&xe!=="auto")throw new SyntaxError("An invalid number or illegal string was specified.");le=xe,this.hasBeenReset=!0}})),Object.defineProperty(d,"lineAlign",a({},g,{get:function(){return me},set:function(xe){var Ke=n(xe);if(!Ke)throw new SyntaxError("An invalid or illegal string was specified.");me=Ke,this.hasBeenReset=!0}})),Object.defineProperty(d,"position",a({},g,{get:function(){return de},set:function(xe){if(xe<0||xe>100)throw new Error("Position must be between 0 and 100.");de=xe,this.hasBeenReset=!0}})),Object.defineProperty(d,"positionAlign",a({},g,{get:function(){return Se},set:function(xe){var Ke=n(xe);if(!Ke)throw new SyntaxError("An invalid or illegal string was specified.");Se=Ke,this.hasBeenReset=!0}})),Object.defineProperty(d,"size",a({},g,{get:function(){return Ge},set:function(xe){if(xe<0||xe>100)throw new Error("Size must be between 0 and 100.");Ge=xe,this.hasBeenReset=!0}})),Object.defineProperty(d,"align",a({},g,{get:function(){return We},set:function(xe){var Ke=n(xe);if(!Ke)throw new SyntaxError("An invalid or illegal string was specified.");We=Ke,this.hasBeenReset=!0}})),d.displayState=void 0}return s.prototype.getCueAsHTML=function(){return self.WebVTT.convertCueToDOMTree(self,this.text)},s}();var Kd=function(){function v(){}return v.prototype.decode=function(f,t){if(!f)return"";if(typeof f!="string")throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(f))},v}();function _l(v){function f(n,a,s,l){return 3600*(0|n)+60*(0|a)+(0|s)+parseFloat(l||0)}var t=v.match(/^(?:(\d+):)?(\d{2}):(\d{2})(\.\d+)?/);return t?parseFloat(t[2])>59?f(t[2],t[3],0,t[4]):f(t[1],t[2],t[3],t[4]):null}var jd=function(){function v(){this.values=Object.create(null)}var f=v.prototype;return f.set=function(t,n){this.get(t)||n===""||(this.values[t]=n)},f.get=function(t,n,a){return a?this.has(t)?this.values[t]:n[a]:this.has(t)?this.values[t]:n},f.has=function(t){return t in this.values},f.alt=function(t,n,a){for(var s=0;s<a.length;++s)if(n===a[s]){this.set(t,n);break}},f.integer=function(t,n){/^-?\d+$/.test(n)&&this.set(t,parseInt(n,10))},f.percent=function(t,n){if(/^([\d]{1,3})(\.[\d]*)?%$/.test(n)){var a=parseFloat(n);if(a>=0&&a<=100)return this.set(t,a),!0}return!1},v}();function Al(v,f,t,n){var a=n?v.split(n):[v];for(var s in a)if(typeof a[s]=="string"){var l=a[s].split(t);l.length===2&&f(l[0],l[1])}}var hs=new ds(0,0,""),Vi=hs.align==="middle"?"middle":"center";function Gd(v,f,t){var n=v;function a(){var l=_l(v);if(l===null)throw new Error("Malformed timestamp: "+n);return v=v.replace(/^[^\sa-zA-Z-]+/,""),l}function s(){v=v.replace(/^\s+/,"")}if(s(),f.startTime=a(),s(),v.slice(0,3)!=="-->")throw new Error("Malformed time stamp (time stamps must be separated by '-->'): "+n);v=v.slice(3),s(),f.endTime=a(),s(),function(l,i){var u=new jd;Al(l,function(m,T){var L;switch(m){case"region":for(var D=t.length-1;D>=0;D--)if(t[D].id===T){u.set(m,t[D].region);break}break;case"vertical":u.alt(m,T,["rl","lr"]);break;case"line":L=T.split(","),u.integer(m,L[0]),u.percent(m,L[0])&&u.set("snapToLines",!1),u.alt(m,L[0],["auto"]),L.length===2&&u.alt("lineAlign",L[1],["start",Vi,"end"]);break;case"position":L=T.split(","),u.percent(m,L[0]),L.length===2&&u.alt("positionAlign",L[1],["start",Vi,"end","line-left","line-right","auto"]);break;case"size":u.percent(m,T);break;case"align":u.alt(m,T,["start",Vi,"end","left","right"])}},/:/,/\s/),i.region=u.get("region",null),i.vertical=u.get("vertical","");var d=u.get("line","auto");d==="auto"&&hs.line===-1&&(d=-1),i.line=d,i.lineAlign=u.get("lineAlign","start"),i.snapToLines=u.get("snapToLines",!0),i.size=u.get("size",100),i.align=u.get("align",Vi);var g=u.get("position","auto");g==="auto"&&hs.position===50&&(g=i.align==="start"||i.align==="left"?0:i.align==="end"||i.align==="right"?100:50),i.position=g}(v,f)}function kl(v){return v.replace(/<br(?: \/)?>/gi,`
`)}var Hd=function(){function v(){this.state="INITIAL",this.buffer="",this.decoder=new Kd,this.regionList=[],this.cue=null,this.oncue=void 0,this.onparsingerror=void 0,this.onflush=void 0}var f=v.prototype;return f.parse=function(t){var n=this;function a(){var d=n.buffer,g=0;for(d=kl(d);g<d.length&&d[g]!=="\r"&&d[g]!==`
`;)++g;var m=d.slice(0,g);return d[g]==="\r"&&++g,d[g]===`
`&&++g,n.buffer=d.slice(g),m}t&&(n.buffer+=n.decoder.decode(t,{stream:!0}));try{var s="";if(n.state==="INITIAL"){if(!/\r\n|\n/.test(n.buffer))return this;var l=(s=a()).match(/^()?WEBVTT([ \t].*)?$/);if(!l||!l[0])throw new Error("Malformed WebVTT signature.");n.state="HEADER"}for(var i=!1;n.buffer;){if(!/\r\n|\n/.test(n.buffer))return this;switch(i?i=!1:s=a(),n.state){case"HEADER":/:/.test(s)?Al(s,function(d,g){},/:/):s||(n.state="ID");continue;case"NOTE":s||(n.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(s)){n.state="NOTE";break}if(!s)continue;if(n.cue=new ds(0,0,""),n.state="CUE",s.indexOf("-->")===-1){n.cue.id=s;continue}case"CUE":if(!n.cue){n.state="BADCUE";continue}try{Gd(s,n.cue,n.regionList)}catch{n.cue=null,n.state="BADCUE";continue}n.state="CUETEXT";continue;case"CUETEXT":var u=s.indexOf("-->")!==-1;if(!s||u&&(i=!0)){n.oncue&&n.cue&&n.oncue(n.cue),n.cue=null,n.state="ID";continue}if(n.cue===null)continue;n.cue.text&&(n.cue.text+=`
`),n.cue.text+=s;continue;case"BADCUE":s||(n.state="ID")}}}catch{n.state==="CUETEXT"&&n.cue&&n.oncue&&n.oncue(n.cue),n.cue=null,n.state=n.state==="INITIAL"?"BADWEBVTT":"BADCUE"}return this},f.flush=function(){var t=this;try{if((t.cue||t.state==="HEADER")&&(t.buffer+=`

`,t.parse()),t.state==="INITIAL"||t.state==="BADWEBVTT")throw new Error("Malformed WebVTT signature.")}catch(n){t.onparsingerror&&t.onparsingerror(n)}return t.onflush&&t.onflush(),this},v}(),Ll=b(673),Vd=b(524),Yd=/\r\n|\n\r|\n|\r/g,gs=function(v,f,t){return t===void 0&&(t=0),v.slice(t,t+f.length)===f},vs=function(v){for(var f=5381,t=v.length;t;)f=33*f^v.charCodeAt(--t);return(f>>>0).toString()};function ms(v,f,t){return vs(v.toString())+vs(f.toString())+vs(t)}function ps(){return ps=Object.assign?Object.assign.bind():function(v){for(var f=1;f<arguments.length;f++){var t=arguments[f];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(v[n]=t[n])}return v},ps.apply(this,arguments)}var ys="stpp.ttml.im1t",wl=/^(\d{2,}):(\d{2}):(\d{2}):(\d{2})\.?(\d+)?$/,Rl=/^(\d*(?:\.\d*)?)(h|m|s|ms|f|t)$/,Wd={left:"start",center:"center",right:"end",start:"start",end:"end"};function xl(v,f,t,n,a){var s=(0,ge.findBox)(new Uint8Array(v),["mdat"]);if(s.length!==0){var l=s.map(function(u){return(0,ye.utf8ArrayToStr)(u)}),i=(0,Ll.toTimescaleFromScale)(f,1,t);try{l.forEach(function(u){return n(function(d,g){var m=new DOMParser().parseFromString(d,"text/xml").getElementsByTagName("tt")[0];if(!m)throw new Error("Invalid ttml");var T={frameRate:30,subFrameRate:1,frameRateMultiplier:0,tickRate:0},L=Object.keys(T).reduce(function(Q,le){return Q[le]=m.getAttribute("ttp:"+le)||T[le],Q},{}),D=m.getAttribute("xml:space")!=="preserve",C=Dl(Es(m,"styling","style")),G=Dl(Es(m,"layout","region")),j=Es(m,"body","[begin]");return[].map.call(j,function(Q){var le=Il(Q,D);if(!le||!Q.hasAttribute("begin"))return null;var me=Ts(Q.getAttribute("begin"),L),de=Ts(Q.getAttribute("dur"),L),Se=Ts(Q.getAttribute("end"),L);if(me===null)throw Cl(Q);if(Se===null){if(de===null)throw Cl(Q);Se=me+de}var Ge=new ds(me-g,Se-g,le);Ge.id=ms(Ge.startTime,Ge.endTime,Ge.text);var We=function(Oe,ct,At){var ot="http://www.w3.org/ns/ttml#styling",ht=null,Et=Oe!=null&&Oe.hasAttribute("style")?Oe.getAttribute("style"):null;return Et&&At.hasOwnProperty(Et)&&(ht=At[Et]),["displayAlign","textAlign","color","backgroundColor","fontSize","fontFamily"].reduce(function(qt,Kt){var Ft=bs(ct,ot,Kt)||bs(Oe,ot,Kt)||bs(ht,ot,Kt);return Ft&&(qt[Kt]=Ft),qt},{})}(G[Q.getAttribute("region")],C[Q.getAttribute("style")],C),xe=We.textAlign;if(xe){var Ke=Wd[xe];Ke&&(Ge.lineAlign=Ke),Ge.align=xe}return ps(Ge,We),Ge}).filter(function(Q){return Q!==null})}(u,i))})}catch(u){a(u)}}else a(new Error("Could not parse IMSC1 mdat"))}function Es(v,f,t){var n=v.getElementsByTagName(f)[0];return n?[].slice.call(n.querySelectorAll(t)):[]}function Dl(v){return v.reduce(function(f,t){var n=t.getAttribute("xml:id");return n&&(f[n]=t),f},{})}function Il(v,f){return[].slice.call(v.childNodes).reduce(function(t,n,a){var s;return n.nodeName==="br"&&a?t+`
`:(s=n.childNodes)!==null&&s!==void 0&&s.length?Il(n,f):f?t+n.textContent.trim().replace(/\s+/g," "):t+n.textContent},"")}function bs(v,f,t){return v&&v.hasAttributeNS(f,t)?v.getAttributeNS(f,t):null}function Cl(v){return new Error("Could not parse ttml timestamp "+v)}function Ts(v,f){if(!v)return null;var t=_l(v);return t===null&&(wl.test(v)?t=function(n,a){var s=wl.exec(n),l=(0|s[4])+(0|s[5])/a.subFrameRate;return 3600*(0|s[1])+60*(0|s[2])+(0|s[3])+l/a.frameRate}(v,f):Rl.test(v)&&(t=function(n,a){var s=Rl.exec(n),l=Number(s[1]);switch(s[2]){case"h":return 3600*l;case"m":return 60*l;case"ms":return 1e3*l;case"f":return l/a.frameRate;case"t":return l/a.tickRate}return l}(v,f))),t}var $d=function(){function v(t){if(this.hls=void 0,this.media=null,this.config=void 0,this.enabled=!0,this.Cues=void 0,this.textTracks=[],this.tracks=[],this.initPTS=[],this.timescale=[],this.unparsedVttFrags=[],this.captionsTracks={},this.nonNativeCaptionsTracks={},this.cea608Parser1=void 0,this.cea608Parser2=void 0,this.lastSn=-1,this.lastPartIndex=-1,this.prevCC=-1,this.vttCCs={ccOffset:0,presentationOffset:0,0:{start:0,prevCC:-1,new:!0}},this.captionsProperties=void 0,this.hls=t,this.config=t.config,this.Cues=t.config.cueHandler,this.captionsProperties={textTrack1:{label:this.config.captionsTextTrack1Label,languageCode:this.config.captionsTextTrack1LanguageCode},textTrack2:{label:this.config.captionsTextTrack2Label,languageCode:this.config.captionsTextTrack2LanguageCode},textTrack3:{label:this.config.captionsTextTrack3Label,languageCode:this.config.captionsTextTrack3LanguageCode},textTrack4:{label:this.config.captionsTextTrack4Label,languageCode:this.config.captionsTextTrack4LanguageCode}},this.config.enableCEA708Captions){var n=new Hi(this,"textTrack1"),a=new Hi(this,"textTrack2"),s=new Hi(this,"textTrack3"),l=new Hi(this,"textTrack4");this.cea608Parser1=new Sl(1,n,a),this.cea608Parser2=new Sl(3,s,l)}t.on(y.Events.MEDIA_ATTACHING,this.onMediaAttaching,this),t.on(y.Events.MEDIA_DETACHING,this.onMediaDetaching,this),t.on(y.Events.MANIFEST_LOADING,this.onManifestLoading,this),t.on(y.Events.MANIFEST_LOADED,this.onManifestLoaded,this),t.on(y.Events.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),t.on(y.Events.FRAG_LOADING,this.onFragLoading,this),t.on(y.Events.FRAG_LOADED,this.onFragLoaded,this),t.on(y.Events.FRAG_PARSING_USERDATA,this.onFragParsingUserdata,this),t.on(y.Events.FRAG_DECRYPTED,this.onFragDecrypted,this),t.on(y.Events.INIT_PTS_FOUND,this.onInitPtsFound,this),t.on(y.Events.SUBTITLE_TRACKS_CLEARED,this.onSubtitleTracksCleared,this),t.on(y.Events.BUFFER_FLUSHING,this.onBufferFlushing,this)}var f=v.prototype;return f.destroy=function(){var t=this.hls;t.off(y.Events.MEDIA_ATTACHING,this.onMediaAttaching,this),t.off(y.Events.MEDIA_DETACHING,this.onMediaDetaching,this),t.off(y.Events.MANIFEST_LOADING,this.onManifestLoading,this),t.off(y.Events.MANIFEST_LOADED,this.onManifestLoaded,this),t.off(y.Events.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),t.off(y.Events.FRAG_LOADING,this.onFragLoading,this),t.off(y.Events.FRAG_LOADED,this.onFragLoaded,this),t.off(y.Events.FRAG_PARSING_USERDATA,this.onFragParsingUserdata,this),t.off(y.Events.FRAG_DECRYPTED,this.onFragDecrypted,this),t.off(y.Events.INIT_PTS_FOUND,this.onInitPtsFound,this),t.off(y.Events.SUBTITLE_TRACKS_CLEARED,this.onSubtitleTracksCleared,this),t.off(y.Events.BUFFER_FLUSHING,this.onBufferFlushing,this),this.hls=this.config=this.cea608Parser1=this.cea608Parser2=null},f.addCues=function(t,n,a,s,l){for(var i,u,d,g,m=!1,T=l.length;T--;){var L=l[T],D=(i=L[0],u=L[1],d=n,g=a,Math.min(u,g)-Math.max(i,d));if(D>=0&&(L[0]=Math.min(L[0],n),L[1]=Math.max(L[1],a),m=!0,D/(a-n)>.5))return}if(m||l.push([n,a]),this.config.renderTextTracksNatively){var C=this.captionsTracks[t];this.Cues.newCue(C,n,a,s)}else{var G=this.Cues.newCue(null,n,a,s);this.hls.trigger(y.Events.CUES_PARSED,{type:"captions",cues:G,track:t})}},f.onInitPtsFound=function(t,n){var a=this,s=n.frag,l=n.id,i=n.initPTS,u=n.timescale,d=this.unparsedVttFrags;l==="main"&&(this.initPTS[s.cc]=i,this.timescale[s.cc]=u),d.length&&(this.unparsedVttFrags=[],d.forEach(function(g){a.onFragLoaded(y.Events.FRAG_LOADED,g)}))},f.getExistingTrack=function(t){var n=this.media;if(n)for(var a=0;a<n.textTracks.length;a++){var s=n.textTracks[a];if(s[t])return s}return null},f.createCaptionsTrack=function(t){this.config.renderTextTracksNatively?this.createNativeTrack(t):this.createNonNativeTrack(t)},f.createNativeTrack=function(t){if(!this.captionsTracks[t]){var n=this.captionsProperties,a=this.captionsTracks,s=this.media,l=n[t],i=l.label,u=l.languageCode,d=this.getExistingTrack(t);if(d)a[t]=d,Ae(a[t]),Te(a[t],s);else{var g=this.createTextTrack("captions",i,u);g&&(g[t]=!0,a[t]=g)}}},f.createNonNativeTrack=function(t){if(!this.nonNativeCaptionsTracks[t]){var n=this.captionsProperties[t];if(n){var a={_id:t,label:n.label,kind:"captions",default:!!n.media&&!!n.media.default,closedCaptions:n.media};this.nonNativeCaptionsTracks[t]=a,this.hls.trigger(y.Events.NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:[a]})}}},f.createTextTrack=function(t,n,a){var s=this.media;if(s)return s.addTextTrack(t,n,a)},f.onMediaAttaching=function(t,n){this.media=n.media,this._cleanTracks()},f.onMediaDetaching=function(){var t=this.captionsTracks;Object.keys(t).forEach(function(n){Ae(t[n]),delete t[n]}),this.nonNativeCaptionsTracks={}},f.onManifestLoading=function(){this.lastSn=-1,this.lastPartIndex=-1,this.prevCC=-1,this.vttCCs={ccOffset:0,presentationOffset:0,0:{start:0,prevCC:-1,new:!0}},this._cleanTracks(),this.tracks=[],this.captionsTracks={},this.nonNativeCaptionsTracks={},this.textTracks=[],this.unparsedVttFrags=this.unparsedVttFrags||[],this.initPTS=[],this.timescale=[],this.cea608Parser1&&this.cea608Parser2&&(this.cea608Parser1.reset(),this.cea608Parser2.reset())},f._cleanTracks=function(){var t=this.media;if(t){var n=t.textTracks;if(n)for(var a=0;a<n.length;a++)Ae(n[a])}},f.onSubtitleTracksUpdated=function(t,n){var a=this;this.textTracks=[];var s=n.subtitleTracks||[],l=s.some(function(g){return g.textCodec===ys});if(this.config.enableWebVTT||l&&this.config.enableIMSC1){var i=this.tracks&&s&&this.tracks.length===s.length;if(this.tracks=s||[],this.config.renderTextTracksNatively){var u=this.media?this.media.textTracks:[];this.tracks.forEach(function(g,m){var T;if(m<u.length){for(var L=null,D=0;D<u.length;D++)if(zd(u[D],g)){L=u[D];break}L&&(T=L)}if(T)Ae(T);else{var C=a._captionsOrSubtitlesFromCharacteristics(g);(T=a.createTextTrack(C,g.name,g.lang))&&(T.mode="disabled")}T&&(T.groupId=g.groupId,a.textTracks.push(T))})}else if(!i&&this.tracks&&this.tracks.length){var d=this.tracks.map(function(g){return{label:g.name,kind:g.type.toLowerCase(),default:g.default,subtitleTrack:g}});this.hls.trigger(y.Events.NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:d})}}},f._captionsOrSubtitlesFromCharacteristics=function(t){var n;if((n=t.attrs)!==null&&n!==void 0&&n.CHARACTERISTICS){var a=/transcribes-spoken-dialog/gi.test(t.attrs.CHARACTERISTICS),s=/describes-music-and-sound/gi.test(t.attrs.CHARACTERISTICS);if(a&&s)return"captions"}return"subtitles"},f.onManifestLoaded=function(t,n){var a=this;this.config.enableCEA708Captions&&n.captions&&n.captions.forEach(function(s){var l=/(?:CC|SERVICE)([1-4])/.exec(s.instreamId);if(l){var i="textTrack"+l[1],u=a.captionsProperties[i];u&&(u.label=s.name,s.lang&&(u.languageCode=s.lang),u.media=s)}})},f.closedCaptionsForLevel=function(t){var n=this.hls.levels[t.level];return n==null?void 0:n.attrs["CLOSED-CAPTIONS"]},f.onFragLoading=function(t,n){var a=this.cea608Parser1,s=this.cea608Parser2,l=this.lastSn,i=this.lastPartIndex;if(this.enabled&&a&&s&&n.frag.type===O.PlaylistLevelType.MAIN){var u,d,g=n.frag.sn,m=(u=n==null||(d=n.part)===null||d===void 0?void 0:d.index)!=null?u:-1;g===l+1||g===l&&m===i+1||(a.reset(),s.reset()),this.lastSn=g,this.lastPartIndex=m}},f.onFragLoaded=function(t,n){var a=n.frag,s=n.payload,l=this.initPTS,i=this.unparsedVttFrags;if(a.type===O.PlaylistLevelType.SUBTITLE)if(s.byteLength){if(!(0,A.isFiniteNumber)(l[a.cc]))return i.push(n),void(l.length&&this.hls.trigger(y.Events.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:a,error:new Error("Missing initial subtitle PTS")}));var u=a.decryptdata,d="stats"in n;if(u==null||!u.encrypted||d){var g=this.tracks[a.level],m=this.vttCCs;m[a.cc]||(m[a.cc]={start:a.start,prevCC:this.prevCC,new:!0},this.prevCC=a.cc),g&&g.textCodec===ys?this._parseIMSC1(a,s):this._parseVTTs(a,s,m)}}else this.hls.trigger(y.Events.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:a,error:new Error("Empty subtitle payload")})},f._parseIMSC1=function(t,n){var a=this,s=this.hls;xl(n,this.initPTS[t.cc],this.timescale[t.cc],function(l){a._appendCues(l,t.level),s.trigger(y.Events.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:t})},function(l){P.logger.log("Failed to parse IMSC1: "+l),s.trigger(y.Events.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:t,error:l})})},f._parseVTTs=function(t,n,a){var s,l=this,i=this.hls;(function(u,d,g,m,T,L,D,C){var G,j=new Hd,Q=(0,ye.utf8ArrayToStr)(new Uint8Array(u)).trim().replace(Yd,`
`).split(`
`),le=[],me=(0,Ll.toMpegTsClockFromTimescale)(d,g),de="00:00.000",Se=0,Ge=0,We=!0;j.oncue=function(xe){var Ke=m[T],Oe=m.ccOffset,ct=(Se-me)/9e4;Ke!=null&&Ke.new&&(Ge!==void 0?Oe=m.ccOffset=Ke.start:function(Et,qt,Kt){var Ft=Et[qt],Nt=Et[Ft.prevCC];if(!Nt||!Nt.new&&Ft.new)return Et.ccOffset=Et.presentationOffset=Ft.start,void(Ft.new=!1);for(;(Mr=Nt)!==null&&Mr!==void 0&&Mr.new;){var Mr;Et.ccOffset+=Ft.start-Nt.start,Ft.new=!1,Nt=Et[(Ft=Nt).prevCC]}Et.presentationOffset=Kt}(m,T,ct)),ct&&(Oe=ct-m.presentationOffset);var At=xe.endTime-xe.startTime,ot=(0,Vd.normalizePts)(9e4*(xe.startTime+Oe-Ge),9e4*L)/9e4;xe.startTime=Math.max(ot,0),xe.endTime=Math.max(ot+At,0);var ht=xe.text.trim();xe.text=decodeURIComponent(encodeURIComponent(ht)),xe.id||(xe.id=ms(xe.startTime,xe.endTime,ht)),xe.endTime>0&&le.push(xe)},j.onparsingerror=function(xe){G=xe},j.onflush=function(){G?C(G):D(le)},Q.forEach(function(xe){if(We){if(gs(xe,"X-TIMESTAMP-MAP=")){We=!1,xe.slice(16).split(",").forEach(function(Ke){gs(Ke,"LOCAL:")?de=Ke.slice(6):gs(Ke,"MPEGTS:")&&(Se=parseInt(Ke.slice(7)))});try{Ge=function(Ke){var Oe=parseInt(Ke.slice(-3)),ct=parseInt(Ke.slice(-6,-4)),At=parseInt(Ke.slice(-9,-7)),ot=Ke.length>9?parseInt(Ke.substring(0,Ke.indexOf(":"))):0;if(!((0,A.isFiniteNumber)(Oe)&&(0,A.isFiniteNumber)(ct)&&(0,A.isFiniteNumber)(At)&&(0,A.isFiniteNumber)(ot)))throw Error("Malformed X-TIMESTAMP-MAP: Local:"+Ke);return Oe+=1e3*ct,(Oe+=6e4*At)+36e5*ot}(de)/1e3}catch(Ke){G=Ke}return}xe===""&&(We=!1)}j.parse(xe+`
`)}),j.flush()})((s=t.initSegment)!==null&&s!==void 0&&s.data?(0,ge.appendUint8Array)(t.initSegment.data,new Uint8Array(n)):n,this.initPTS[t.cc],this.timescale[t.cc],a,t.cc,t.start,function(u){l._appendCues(u,t.level),i.trigger(y.Events.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:t})},function(u){l._fallbackToIMSC1(t,n),P.logger.log("Failed to parse VTT cue: "+u),i.trigger(y.Events.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:t,error:u})})},f._fallbackToIMSC1=function(t,n){var a=this,s=this.tracks[t.level];s.textCodec||xl(n,this.initPTS[t.cc],this.timescale[t.cc],function(){s.textCodec=ys,a._parseIMSC1(t,n)},function(){s.textCodec="wvtt"})},f._appendCues=function(t,n){var a=this.hls;if(this.config.renderTextTracksNatively){var s=this.textTracks[n];if(!s||s.mode==="disabled")return;t.forEach(function(u){return De(s,u)})}else{var l=this.tracks[n];if(!l)return;var i=l.default?"default":"subtitles"+n;a.trigger(y.Events.CUES_PARSED,{type:"subtitles",cues:t,track:i})}},f.onFragDecrypted=function(t,n){var a=n.frag;if(a.type===O.PlaylistLevelType.SUBTITLE){if(!(0,A.isFiniteNumber)(this.initPTS[a.cc]))return void this.unparsedVttFrags.push(n);this.onFragLoaded(y.Events.FRAG_LOADED,n)}},f.onSubtitleTracksCleared=function(){this.tracks=[],this.captionsTracks={}},f.onFragParsingUserdata=function(t,n){var a=this.cea608Parser1,s=this.cea608Parser2;if(this.enabled&&a&&s){var l=n.frag,i=n.samples;if(l.type!==O.PlaylistLevelType.MAIN||this.closedCaptionsForLevel(l)!=="NONE")for(var u=0;u<i.length;u++){var d=i[u].bytes;if(d){var g=this.extractCea608Data(d);a.addData(i[u].pts,g[0]),s.addData(i[u].pts,g[1])}}}},f.onBufferFlushing=function(t,n){var a=n.startOffset,s=n.endOffset,l=n.endOffsetSubtitles,i=n.type,u=this.media;if(u&&!(u.currentTime<s)){if(!i||i==="video"){var d=this.captionsTracks;Object.keys(d).forEach(function(m){return Ie(d[m],a,s)})}if(this.config.renderTextTracksNatively&&a===0&&l!==void 0){var g=this.textTracks;Object.keys(g).forEach(function(m){return Ie(g[m],a,l)})}}},f.extractCea608Data=function(t){for(var n=[[],[]],a=31&t[0],s=2,l=0;l<a;l++){var i=t[s++],u=127&t[s++],d=127&t[s++];if((u!==0||d!==0)&&4&i){var g=3&i;g!==0&&g!==1||(n[g].push(u),n[g].push(d))}}return n},v}();function zd(v,f){return v&&v.label===f.name&&!(v.textTrack1||v.textTrack2)}function qd(v,f){for(var t=0;t<f.length;t++){var n=f[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(v,typeof(a=function(s,l){if(typeof s!="object"||s===null)return s;var i=s[Symbol.toPrimitive];if(i!==void 0){var u=i.call(s,l);if(typeof u!="object")return u;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(s)}(n.key,"string"))=="symbol"?a:String(a),n)}var a}const Xd=function(){function v(a){this.autoLevelCapping=void 0,this.firstLevel=void 0,this.media=void 0,this.restrictedLevels=void 0,this.timer=void 0,this.hls=void 0,this.streamController=void 0,this.clientRect=void 0,this.hls=a,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.firstLevel=-1,this.media=null,this.restrictedLevels=[],this.timer=void 0,this.clientRect=null,this.registerListeners()}var f,t,n=v.prototype;return n.setStreamController=function(a){this.streamController=a},n.destroy=function(){this.unregisterListener(),this.hls.config.capLevelToPlayerSize&&this.stopCapping(),this.media=null,this.clientRect=null,this.hls=this.streamController=null},n.registerListeners=function(){var a=this.hls;a.on(y.Events.FPS_DROP_LEVEL_CAPPING,this.onFpsDropLevelCapping,this),a.on(y.Events.MEDIA_ATTACHING,this.onMediaAttaching,this),a.on(y.Events.MANIFEST_PARSED,this.onManifestParsed,this),a.on(y.Events.BUFFER_CODECS,this.onBufferCodecs,this),a.on(y.Events.MEDIA_DETACHING,this.onMediaDetaching,this)},n.unregisterListener=function(){var a=this.hls;a.off(y.Events.FPS_DROP_LEVEL_CAPPING,this.onFpsDropLevelCapping,this),a.off(y.Events.MEDIA_ATTACHING,this.onMediaAttaching,this),a.off(y.Events.MANIFEST_PARSED,this.onManifestParsed,this),a.off(y.Events.BUFFER_CODECS,this.onBufferCodecs,this),a.off(y.Events.MEDIA_DETACHING,this.onMediaDetaching,this)},n.onFpsDropLevelCapping=function(a,s){v.isLevelAllowed(s.droppedLevel,this.restrictedLevels)&&this.restrictedLevels.push(s.droppedLevel)},n.onMediaAttaching=function(a,s){this.media=s.media instanceof HTMLVideoElement?s.media:null,this.clientRect=null},n.onManifestParsed=function(a,s){var l=this.hls;this.restrictedLevels=[],this.firstLevel=s.firstLevel,l.config.capLevelToPlayerSize&&s.video&&this.startCapping()},n.onBufferCodecs=function(a,s){this.hls.config.capLevelToPlayerSize&&s.video&&this.startCapping()},n.onMediaDetaching=function(){this.stopCapping()},n.detectPlayerSize=function(){if(this.media&&this.mediaHeight>0&&this.mediaWidth>0){var a=this.hls.levels;if(a.length){var s=this.hls;s.autoLevelCapping=this.getMaxLevel(a.length-1),s.autoLevelCapping>this.autoLevelCapping&&this.streamController&&this.streamController.nextLevelSwitch(),this.autoLevelCapping=s.autoLevelCapping}}},n.getMaxLevel=function(a){var s=this,l=this.hls.levels;if(!l.length)return-1;var i=l.filter(function(u,d){return v.isLevelAllowed(d,s.restrictedLevels)&&d<=a});return this.clientRect=null,v.getMaxLevelByMediaSize(i,this.mediaWidth,this.mediaHeight)},n.startCapping=function(){this.timer||(this.autoLevelCapping=Number.POSITIVE_INFINITY,this.hls.firstLevel=this.getMaxLevel(this.firstLevel),self.clearInterval(this.timer),this.timer=self.setInterval(this.detectPlayerSize.bind(this),1e3),this.detectPlayerSize())},n.stopCapping=function(){this.restrictedLevels=[],this.firstLevel=-1,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.timer&&(self.clearInterval(this.timer),this.timer=void 0)},n.getDimensions=function(){if(this.clientRect)return this.clientRect;var a=this.media,s={width:0,height:0};if(a){var l=a.getBoundingClientRect();s.width=l.width,s.height=l.height,s.width||s.height||(s.width=l.right-l.left||a.width||0,s.height=l.bottom-l.top||a.height||0)}return this.clientRect=s,s},v.isLevelAllowed=function(a,s){return s===void 0&&(s=[]),s.indexOf(a)===-1},v.getMaxLevelByMediaSize=function(a,s,l){if(!a||!a.length)return-1;for(var i,u,d=a.length-1,g=0;g<a.length;g+=1){var m=a[g];if((m.width>=s||m.height>=l)&&(i=m,!(u=a[g+1])||i.width!==u.width||i.height!==u.height)){d=g;break}}return d},f=v,(t=[{key:"mediaWidth",get:function(){return this.getDimensions().width*this.contentScaleFactor}},{key:"mediaHeight",get:function(){return this.getDimensions().height*this.contentScaleFactor}},{key:"contentScaleFactor",get:function(){var a=1;if(!this.hls.config.ignoreDevicePixelRatio)try{a=self.devicePixelRatio}catch{}return a}}])&&qd(f.prototype,t),Object.defineProperty(f,"prototype",{writable:!1}),v}(),Qd=function(){function v(t){this.hls=void 0,this.isVideoPlaybackQualityAvailable=!1,this.timer=void 0,this.media=null,this.lastTime=void 0,this.lastDroppedFrames=0,this.lastDecodedFrames=0,this.streamController=void 0,this.hls=t,this.registerListeners()}var f=v.prototype;return f.setStreamController=function(t){this.streamController=t},f.registerListeners=function(){this.hls.on(y.Events.MEDIA_ATTACHING,this.onMediaAttaching,this)},f.unregisterListeners=function(){this.hls.off(y.Events.MEDIA_ATTACHING,this.onMediaAttaching)},f.destroy=function(){this.timer&&clearInterval(this.timer),this.unregisterListeners(),this.isVideoPlaybackQualityAvailable=!1,this.media=null},f.onMediaAttaching=function(t,n){var a=this.hls.config;if(a.capLevelOnFPSDrop){var s=n.media instanceof self.HTMLVideoElement?n.media:null;this.media=s,s&&typeof s.getVideoPlaybackQuality=="function"&&(this.isVideoPlaybackQualityAvailable=!0),self.clearInterval(this.timer),this.timer=self.setInterval(this.checkFPSInterval.bind(this),a.fpsDroppedMonitoringPeriod)}},f.checkFPS=function(t,n,a){var s=performance.now();if(n){if(this.lastTime){var l=s-this.lastTime,i=a-this.lastDroppedFrames,u=n-this.lastDecodedFrames,d=1e3*i/l,g=this.hls;if(g.trigger(y.Events.FPS_DROP,{currentDropped:i,currentDecoded:u,totalDroppedFrames:a}),d>0&&i>g.config.fpsDroppedMonitoringThreshold*u){var m=g.currentLevel;P.logger.warn("drop FPS ratio greater than max allowed value for currentLevel: "+m),m>0&&(g.autoLevelCapping===-1||g.autoLevelCapping>=m)&&(m-=1,g.trigger(y.Events.FPS_DROP_LEVEL_CAPPING,{level:m,droppedLevel:g.currentLevel}),g.autoLevelCapping=m,this.streamController.nextLevelSwitch())}}this.lastTime=s,this.lastDroppedFrames=a,this.lastDecodedFrames=n}},f.checkFPSInterval=function(){var t=this.media;if(t)if(this.isVideoPlaybackQualityAvailable){var n=t.getVideoPlaybackQuality();this.checkFPS(t,n.totalVideoFrames,n.droppedVideoFrames)}else this.checkFPS(t,t.webkitDecodedFrameCount,t.webkitDroppedFrameCount)},v}();var dn=b(300);function Ss(v){var f=typeof Map=="function"?new Map:void 0;return Ss=function(t){if(t===null||(n=t,Function.toString.call(n).indexOf("[native code]")===-1))return t;var n;if(typeof t!="function")throw new TypeError("Super expression must either be null or a function");if(f!==void 0){if(f.has(t))return f.get(t);f.set(t,a)}function a(){return _s(t,arguments,As(this).constructor)}return a.prototype=Object.create(t.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),ai(a,t)},Ss(v)}function _s(v,f,t){return _s=Jd()?Reflect.construct.bind():function(n,a,s){var l=[null];l.push.apply(l,a);var i=new(Function.bind.apply(n,l));return s&&ai(i,s.prototype),i},_s.apply(null,arguments)}function Jd(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ai(v,f){return ai=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,n){return t.__proto__=n,t},ai(v,f)}function As(v){return As=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(f){return f.__proto__||Object.getPrototypeOf(f)},As(v)}var Yi="[eme]",Ol=function(){function v(t){this.hls=void 0,this.config=void 0,this.media=null,this.keyFormatPromise=null,this.keySystemAccessPromises={},this._requestLicenseFailureCount=0,this.mediaKeySessions=[],this.keyIdToKeySessionPromise={},this.setMediaKeysQueue=v.CDMCleanupPromise?[v.CDMCleanupPromise]:[],this.onMediaEncrypted=this._onMediaEncrypted.bind(this),this.onWaitingForKey=this._onWaitingForKey.bind(this),this.debug=P.logger.debug.bind(P.logger,Yi),this.log=P.logger.log.bind(P.logger,Yi),this.warn=P.logger.warn.bind(P.logger,Yi),this.error=P.logger.error.bind(P.logger,Yi),this.hls=t,this.config=t.config,this.registerListeners()}var f=v.prototype;return f.destroy=function(){this.unregisterListeners(),this.onMediaDetached(),this.hls=this.onMediaEncrypted=this.onWaitingForKey=this.keyIdToKeySessionPromise=null},f.registerListeners=function(){this.hls.on(y.Events.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.on(y.Events.MEDIA_DETACHED,this.onMediaDetached,this),this.hls.on(y.Events.MANIFEST_LOADED,this.onManifestLoaded,this)},f.unregisterListeners=function(){this.hls.off(y.Events.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.off(y.Events.MEDIA_DETACHED,this.onMediaDetached,this),this.hls.off(y.Events.MANIFEST_LOADED,this.onManifestLoaded,this)},f.getLicenseServerUrl=function(t){var n=this.config,a=n.drmSystems,s=n.widevineLicenseUrl,l=a[t];if(l)return l.licenseUrl;if(t===ee.WIDEVINE&&s)return s;throw new Error('no license server URL configured for key-system "'+t+'"')},f.getServerCertificateUrl=function(t){var n=this.config.drmSystems[t];if(n)return n.serverCertificateUrl;this.log('No Server Certificate in config.drmSystems["'+t+'"]')},f.attemptKeySystemAccess=function(t){var n=this,a=this.hls.levels,s=function(u,d,g){return!!u&&g.indexOf(u)===d},l=a.map(function(u){return u.audioCodec}).filter(s),i=a.map(function(u){return u.videoCodec}).filter(s);return l.length+i.length===0&&i.push("avc1.42e01e"),new Promise(function(u,d){(function g(m){var T=m.shift();n.getMediaKeysPromise(T,l,i).then(function(L){return u({keySystem:T,mediaKeys:L})}).catch(function(L){m.length?g(m):d(L instanceof dr?L:new dr({type:w.ErrorTypes.KEY_SYSTEM_ERROR,details:w.ErrorDetails.KEY_SYSTEM_NO_ACCESS,error:L,fatal:!0},L.message))})})(t)})},f.requestMediaKeySystemAccess=function(t,n){var a=this.config.requestMediaKeySystemAccessFunc;if(typeof a!="function"){var s="Configured requestMediaKeySystemAccess is not a function "+a;return Ee===null&&self.location.protocol==="http:"&&(s="navigator.requestMediaKeySystemAccess is not available over insecure protocol "+location.protocol),Promise.reject(new Error(s))}return a(t,n)},f.getMediaKeysPromise=function(t,n,a){var s=this,l=function(g,m,T,L){var D;switch(g){case ee.FAIRPLAY:D=["cenc","sinf"];break;case ee.WIDEVINE:case ee.PLAYREADY:D=["cenc"];break;case ee.CLEARKEY:D=["cenc","keyids"];break;default:throw new Error("Unknown key-system: "+g)}return function(C,G,j,Q){return[{initDataTypes:C,persistentState:Q.persistentState||"not-allowed",distinctiveIdentifier:Q.distinctiveIdentifier||"not-allowed",sessionTypes:Q.sessionTypes||[Q.sessionType||"temporary"],audioCapabilities:G.map(function(le){return{contentType:'audio/mp4; codecs="'+le+'"',robustness:Q.audioRobustness||"",encryptionScheme:Q.audioEncryptionScheme||null}}),videoCapabilities:j.map(function(le){return{contentType:'video/mp4; codecs="'+le+'"',robustness:Q.videoRobustness||"",encryptionScheme:Q.videoEncryptionScheme||null}})}]}(D,m,T,L)}(t,n,a,this.config.drmSystemOptions),i=this.keySystemAccessPromises[t],u=i==null?void 0:i.keySystemAccess;if(!u){this.log('Requesting encrypted media "'+t+'" key-system access with config: '+JSON.stringify(l)),u=this.requestMediaKeySystemAccess(t,l);var d=this.keySystemAccessPromises[t]={keySystemAccess:u};return u.catch(function(g){s.log('Failed to obtain access to key-system "'+t+'": '+g)}),u.then(function(g){s.log('Access for key-system "'+g.keySystem+'" obtained');var m=s.fetchServerCertificate(t);return s.log('Create media-keys for "'+t+'"'),d.mediaKeys=g.createMediaKeys().then(function(T){return s.log('Media-keys created for "'+t+'"'),m.then(function(L){return L?s.setMediaKeysServerCertificate(T,t,L):T})}),d.mediaKeys.catch(function(T){s.error('Failed to create media-keys for "'+t+'"}: '+T)}),d.mediaKeys})}return u.then(function(){return i.mediaKeys})},f.createMediaKeySessionContext=function(t){var n=t.decryptdata,a=t.keySystem,s=t.mediaKeys;this.log('Creating key-system session "'+a+'" keyId: '+dn.default.hexDump(n.keyId||[]));var l=s.createSession(),i={decryptdata:n,keySystem:a,mediaKeys:s,mediaKeysSession:l,keyStatus:"status-pending"};return this.mediaKeySessions.push(i),i},f.renewKeySession=function(t){var n=t.decryptdata;if(n.pssh){var a=this.createMediaKeySessionContext(t),s=this.getKeyIdString(n);this.keyIdToKeySessionPromise[s]=this.generateRequestWithPreferredKeySession(a,"cenc",n.pssh,"expired")}else this.warn("Could not renew expired session. Missing pssh initData.");this.removeSession(t)},f.getKeyIdString=function(t){if(!t)throw new Error("Could not read keyId of undefined decryptdata");if(t.keyId===null)throw new Error("keyId is null");return dn.default.hexDump(t.keyId)},f.updateKeySession=function(t,n){var a,s=t.mediaKeysSession;return this.log('Updating key-session "'+s.sessionId+'" for keyID '+dn.default.hexDump(((a=t.decryptdata)===null||a===void 0?void 0:a.keyId)||[])+`
      } (data length: `+(n&&n.byteLength)+")"),s.update(n)},f.selectKeySystemFormat=function(t){var n=Object.keys(t.levelkeys||{});return this.keyFormatPromise||(this.log("Selecting key-system from fragment (sn: "+t.sn+" "+t.type+": "+t.level+") key formats "+n.join(", ")),this.keyFormatPromise=this.getKeyFormatPromise(n)),this.keyFormatPromise},f.getKeyFormatPromise=function(t){var n=this;return new Promise(function(a,s){var l=he(n.config),i=t.map(q).filter(function(u){return!!u&&l.indexOf(u)!==-1});return n.getKeySystemSelectionPromise(i).then(function(u){var d=u.keySystem,g=B(d);g?a(g):s(new Error('Unable to find format for key-system "'+d+'"'))}).catch(s)})},f.loadKey=function(t){var n=this,a=t.keyInfo.decryptdata,s=this.getKeyIdString(a),l="(keyId: "+s+' format: "'+a.keyFormat+'" method: '+a.method+" uri: "+a.uri+")";this.log("Starting session for key "+l);var i=this.keyIdToKeySessionPromise[s];return i||(i=this.keyIdToKeySessionPromise[s]=this.getKeySystemForKeyPromise(a).then(function(u){var d=u.keySystem,g=u.mediaKeys;return n.throwIfDestroyed(),n.log("Handle encrypted media sn: "+t.frag.sn+" "+t.frag.type+": "+t.frag.level+" using key "+l),n.attemptSetMediaKeys(d,g).then(function(){n.throwIfDestroyed();var m=n.createMediaKeySessionContext({keySystem:d,mediaKeys:g,decryptdata:a});return n.generateRequestWithPreferredKeySession(m,"cenc",a.pssh,"playlist-key")})})).catch(function(u){return n.handleError(u)}),i},f.throwIfDestroyed=function(t){if(!this.hls)throw new Error("invalid state")},f.handleError=function(t){this.hls&&(this.error(t.message),t instanceof dr?this.hls.trigger(y.Events.ERROR,t.data):this.hls.trigger(y.Events.ERROR,{type:w.ErrorTypes.KEY_SYSTEM_ERROR,details:w.ErrorDetails.KEY_SYSTEM_NO_KEYS,error:t,fatal:!0}))},f.getKeySystemForKeyPromise=function(t){var n=this.getKeyIdString(t),a=this.keyIdToKeySessionPromise[n];if(!a){var s=q(t.keyFormat),l=s?[s]:he(this.config);return this.attemptKeySystemAccess(l)}return a},f.getKeySystemSelectionPromise=function(t){if(t.length||(t=he(this.config)),t.length===0)throw new dr({type:w.ErrorTypes.KEY_SYSTEM_ERROR,details:w.ErrorDetails.KEY_SYSTEM_NO_CONFIGURED_LICENSE,fatal:!0},"Missing key-system license configuration options "+JSON.stringify({drmSystems:this.config.drmSystems}));return this.attemptKeySystemAccess(t)},f._onMediaEncrypted=function(t){var n=this,a=t.initDataType,s=t.initData;if(this.debug('"'+t.type+'" event: init data type: "'+a+'"'),s!==null){var l,i;if(a==="sinf"&&this.config.drmSystems[ee.FAIRPLAY]){var u=(0,ge.bin2str)(new Uint8Array(s));try{var d=se(JSON.parse(u).sinf),g=(0,ge.parseSinf)(new Uint8Array(d));if(!g)return;l=g.subarray(8,24),i=ee.FAIRPLAY}catch{return void this.warn('Failed to parse sinf "encrypted" event message initData')}}else{var m=(0,ge.parsePssh)(s);if(m===null)return;m.version===0&&m.systemId===we.WIDEVINE&&m.data&&(l=m.data.subarray(8,24)),i=function(le){if(le===we.WIDEVINE)return ee.WIDEVINE}(m.systemId)}if(i&&l){for(var T=dn.default.hexDump(l),L=this.keyIdToKeySessionPromise,D=this.mediaKeySessions,C=L[T],G=function(le){var me=D[le],de=me.decryptdata;if(de.pssh||!de.keyId)return"continue";var Se=dn.default.hexDump(de.keyId);return T===Se||de.uri.replace(/-/g,"").indexOf(T)!==-1?(C=L[Se],delete L[Se],de.pssh=new Uint8Array(s),de.keyId=l,C=L[T]=C.then(function(){return n.generateRequestWithPreferredKeySession(me,a,s,"encrypted-event-key-match")}),"break"):void 0},j=0;j<D.length;j++){var Q=G(j);if(Q!=="continue"&&Q==="break")break}C||(C=L[T]=this.getKeySystemSelectionPromise([i]).then(function(le){var me,de=le.keySystem,Se=le.mediaKeys;n.throwIfDestroyed();var Ge=new Ue("ISO-23001-7",T,(me=B(de))!=null?me:"");return Ge.pssh=new Uint8Array(s),Ge.keyId=l,n.attemptSetMediaKeys(de,Se).then(function(){n.throwIfDestroyed();var We=n.createMediaKeySessionContext({decryptdata:Ge,keySystem:de,mediaKeys:Se});return n.generateRequestWithPreferredKeySession(We,a,s,"encrypted-event-no-match")})})),C.catch(function(le){return n.handleError(le)})}}},f._onWaitingForKey=function(t){this.log('"'+t.type+'" event')},f.attemptSetMediaKeys=function(t,n){var a=this,s=this.setMediaKeysQueue.slice();this.log('Setting media-keys for "'+t+'"');var l=Promise.all(s).then(function(){if(!a.media)throw new Error("Attempted to set mediaKeys without media element attached");return a.media.setMediaKeys(n)});return this.setMediaKeysQueue.push(l),l.then(function(){a.log('Media-keys set for "'+t+'"'),s.push(l),a.setMediaKeysQueue=a.setMediaKeysQueue.filter(function(i){return s.indexOf(i)===-1})})},f.generateRequestWithPreferredKeySession=function(t,n,a,s){var l,i,u=this,d=(l=this.config.drmSystems)===null||l===void 0||(i=l[t.keySystem])===null||i===void 0?void 0:i.generateRequest;if(d)try{var g=d.call(this.hls,n,a,t);if(!g)throw new Error("Invalid response from configured generateRequest filter");n=g.initDataType,a=t.decryptdata.pssh=g.initData?new Uint8Array(g.initData):null}catch(C){var m;if(this.warn(C.message),(m=this.hls)!==null&&m!==void 0&&m.config.debug)throw C}if(a===null)return this.log('Skipping key-session request for "'+s+'" (no initData)'),Promise.resolve(t);var T=this.getKeyIdString(t.decryptdata);this.log('Generating key-session request for "'+s+'": '+T+" (init data type: "+n+" length: "+(a?a.byteLength:null)+")");var L=new(hd());t.mediaKeysSession.onmessage=function(C){var G=t.mediaKeysSession;if(G){var j=C.messageType,Q=C.message;u.log('"'+j+'" message event for session "'+G.sessionId+'" message size: '+Q.byteLength),j==="license-request"||j==="license-renewal"?u.renewLicense(t,Q).catch(function(le){u.handleError(le),L.emit("error",le)}):j==="license-release"?t.keySystem===ee.FAIRPLAY&&(u.updateKeySession(t,I("acknowledged")),u.removeSession(t)):u.warn('unhandled media key message type "'+j+'"')}else L.emit("error",new Error("invalid state"))},t.mediaKeysSession.onkeystatuseschange=function(C){if(t.mediaKeysSession){u.onKeyStatusChange(t);var G=t.keyStatus;L.emit("keyStatus",G),G==="expired"&&(u.warn(t.keySystem+" expired for key "+T),u.renewKeySession(t))}else L.emit("error",new Error("invalid state"))};var D=new Promise(function(C,G){L.on("error",G),L.on("keyStatus",function(j){j.startsWith("usable")?C():j==="output-restricted"?G(new dr({type:w.ErrorTypes.KEY_SYSTEM_ERROR,details:w.ErrorDetails.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED,fatal:!1},"HDCP level output restricted")):j==="internal-error"?G(new dr({type:w.ErrorTypes.KEY_SYSTEM_ERROR,details:w.ErrorDetails.KEY_SYSTEM_STATUS_INTERNAL_ERROR,fatal:!0},'key status changed to "'+j+'"')):j==="expired"?G(new Error("key expired while generating request")):u.warn('unhandled key status change "'+j+'"')})});return t.mediaKeysSession.generateRequest(n,a).then(function(){var C;u.log('Request generated for key-session "'+((C=t.mediaKeysSession)===null||C===void 0?void 0:C.sessionId)+'" keyId: '+T)}).catch(function(C){throw new dr({type:w.ErrorTypes.KEY_SYSTEM_ERROR,details:w.ErrorDetails.KEY_SYSTEM_NO_SESSION,error:C,fatal:!1},"Error generating key-session request: "+C)}).then(function(){return D}).catch(function(C){throw L.removeAllListeners(),u.removeSession(t),C}).then(function(){return L.removeAllListeners(),t})},f.onKeyStatusChange=function(t){var n=this;t.mediaKeysSession.keyStatuses.forEach(function(a,s){n.log('key status change "'+a+'" for keyStatuses keyId: '+dn.default.hexDump("buffer"in s?new Uint8Array(s.buffer,s.byteOffset,s.byteLength):new Uint8Array(s))+" session keyId: "+dn.default.hexDump(new Uint8Array(t.decryptdata.keyId||[]))+" uri: "+t.decryptdata.uri),t.keyStatus=a})},f.fetchServerCertificate=function(t){var n=this;return new Promise(function(a,s){var l=n.getServerCertificateUrl(t);if(!l)return a();n.log('Fetching serverCertificate for "'+t+'"');var i=new XMLHttpRequest;i.open("GET",l,!0),i.responseType="arraybuffer",i.onreadystatechange=function(){i.readyState===XMLHttpRequest.DONE&&(i.status===200?a(i.response):s(new dr({type:w.ErrorTypes.KEY_SYSTEM_ERROR,details:w.ErrorDetails.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED,fatal:!0,networkDetails:i},'"'+t+'" certificate request XHR failed ('+l+"). Status: "+i.status+" ("+i.statusText+")")))},i.send()})},f.setMediaKeysServerCertificate=function(t,n,a){var s=this;return new Promise(function(l,i){t.setServerCertificate(a).then(function(u){s.log("setServerCertificate "+(u?"success":"not supported by CDM")+" ("+(a==null?void 0:a.byteLength)+') on "'+n+'"'),l(t)}).catch(function(u){i(new dr({type:w.ErrorTypes.KEY_SYSTEM_ERROR,details:w.ErrorDetails.KEY_SYSTEM_SERVER_CERTIFICATE_UPDATE_FAILED,error:u,fatal:!0},u.message))})})},f.renewLicense=function(t,n){var a=this;return this.requestLicense(t,new Uint8Array(n)).then(function(s){return a.updateKeySession(t,new Uint8Array(s)).catch(function(l){throw new dr({type:w.ErrorTypes.KEY_SYSTEM_ERROR,details:w.ErrorDetails.KEY_SYSTEM_SESSION_UPDATE_FAILED,error:l,fatal:!0},l.message)})})},f.setupLicenseXHR=function(t,n,a,s){var l=this,i=this.config.licenseXhrSetup;return i?Promise.resolve().then(function(){if(!a.decryptdata)throw new Error("Key removed");return i.call(l.hls,t,n,a,s)}).catch(function(u){if(!a.decryptdata)throw u;return t.open("POST",n,!0),i.call(l.hls,t,n,a,s)}).then(function(u){return t.readyState||t.open("POST",n,!0),{xhr:t,licenseChallenge:u||s}}):(t.open("POST",n,!0),Promise.resolve({xhr:t,licenseChallenge:s}))},f.requestLicense=function(t,n){var a=this;return new Promise(function(s,l){var i=a.getLicenseServerUrl(t.keySystem);a.log("Sending license request to URL: "+i);var u=new XMLHttpRequest;u.responseType="arraybuffer",u.onreadystatechange=function(){if(!a.hls||!t.mediaKeysSession)return l(new Error("invalid state"));if(u.readyState===4)if(u.status===200){a._requestLicenseFailureCount=0;var d=u.response;a.log("License received "+(d instanceof ArrayBuffer?d.byteLength:d));var g=a.config.licenseResponseCallback;if(g)try{d=g.call(a.hls,u,i,t)}catch(T){a.error(T)}s(d)}else if(a._requestLicenseFailureCount++,a._requestLicenseFailureCount>3||u.status>=400&&u.status<500)l(new dr({type:w.ErrorTypes.KEY_SYSTEM_ERROR,details:w.ErrorDetails.KEY_SYSTEM_LICENSE_REQUEST_FAILED,fatal:!0,networkDetails:u},"License Request XHR failed ("+i+"). Status: "+u.status+" ("+u.statusText+")"));else{var m=3-a._requestLicenseFailureCount+1;a.warn("Retrying license request, "+m+" attempts left"),a.requestLicense(t,n).then(s,l)}},t.licenseXhr&&t.licenseXhr.readyState!==XMLHttpRequest.DONE&&t.licenseXhr.abort(),t.licenseXhr=u,a.setupLicenseXHR(u,i,t,n).then(function(d){var g=d.xhr,m=d.licenseChallenge;g.send(m)})})},f.onMediaAttached=function(t,n){if(this.config.emeEnabled){var a=n.media;this.media=a,a.addEventListener("encrypted",this.onMediaEncrypted),a.addEventListener("waitingforkey",this.onWaitingForKey)}},f.onMediaDetached=function(){var t=this,n=this.media,a=this.mediaKeySessions;n&&(n.removeEventListener("encrypted",this.onMediaEncrypted),n.removeEventListener("waitingforkey",this.onWaitingForKey),this.media=null),this._requestLicenseFailureCount=0,this.setMediaKeysQueue=[],this.mediaKeySessions=[],this.keyIdToKeySessionPromise={},Ue.clearKeyUriToKeyIdMap();var s=a.length;v.CDMCleanupPromise=Promise.all(a.map(function(l){return t.removeSession(l)}).concat(n==null?void 0:n.setMediaKeys(null).catch(function(l){t.log("Could not clear media keys: "+l+". media.src: "+(n==null?void 0:n.src))}))).then(function(){s&&(t.log("finished closing key sessions and clearing media keys"),a.length=0)}).catch(function(l){t.log("Could not close sessions and clear media keys: "+l+". media.src: "+(n==null?void 0:n.src))})},f.onManifestLoaded=function(t,n){var a=n.sessionKeys;if(a&&this.config.emeEnabled&&!this.keyFormatPromise){var s=a.reduce(function(l,i){return l.indexOf(i.keyFormat)===-1&&l.push(i.keyFormat),l},[]);this.log("Selecting key-system from session-keys "+s.join(", ")),this.keyFormatPromise=this.getKeyFormatPromise(s)}},f.removeSession=function(t){var n=this,a=t.mediaKeysSession,s=t.licenseXhr;if(a){this.log("Remove licenses and keys and close session "+a.sessionId),a.onmessage=null,a.onkeystatuseschange=null,s&&s.readyState!==XMLHttpRequest.DONE&&s.abort(),t.mediaKeysSession=t.decryptdata=t.licenseXhr=void 0;var l=this.mediaKeySessions.indexOf(t);return l>-1&&this.mediaKeySessions.splice(l,1),a.remove().catch(function(i){n.log("Could not remove session: "+i)}).then(function(){return a.close()}).catch(function(i){n.log("Could not close session: "+i)})}},v}();Ol.CDMCleanupPromise=void 0;var dr=function(v){var f,t;function n(a,s){var l;return(l=v.call(this,s)||this).data=void 0,l.data=a,a.err=a.error,l}return t=v,(f=n).prototype=Object.create(t.prototype),f.prototype.constructor=f,ai(f,t),n}(Ss(Error));const Zd=Ol;var Xt,ks,Pl;function Fl(v,f){for(var t=0;t<f.length;t++){var n=f[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(v,typeof(a=function(s,l){if(typeof s!="object"||s===null)return s;var i=s[Symbol.toPrimitive];if(i!==void 0){var u=i.call(s,l);if(typeof u!="object")return u;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(s)}(n.key,"string"))=="symbol"?a:String(a),n)}var a}function Ml(v,f,t){return f&&Fl(v.prototype,f),t&&Fl(v,t),Object.defineProperty(v,"prototype",{writable:!1}),v}function Nl(v,f){var t=typeof Symbol<"u"&&v[Symbol.iterator]||v["@@iterator"];if(t)return(t=t.call(v)).next.bind(t);if(Array.isArray(v)||(t=function(a,s){if(a){if(typeof a=="string")return Ul(a,s);var l=Object.prototype.toString.call(a).slice(8,-1);return l==="Object"&&a.constructor&&(l=a.constructor.name),l==="Map"||l==="Set"?Array.from(a):l==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(l)?Ul(a,s):void 0}}(v))||f&&v&&typeof v.length=="number"){t&&(v=t);var n=0;return function(){return n>=v.length?{done:!0}:{done:!1,value:v[n++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ul(v,f){(f==null||f>v.length)&&(f=v.length);for(var t=0,n=new Array(f);t<f;t++)n[t]=v[t];return n}function Wi(){return Wi=Object.assign?Object.assign.bind():function(v){for(var f=1;f<arguments.length;f++){var t=arguments[f];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(v[n]=t[n])}return v},Wi.apply(this,arguments)}(function(v){v.MANIFEST="m",v.AUDIO="a",v.VIDEO="v",v.MUXED="av",v.INIT="i",v.CAPTION="c",v.TIMED_TEXT="tt",v.KEY="k",v.OTHER="o"})(Xt||(Xt={})),function(v){v.DASH="d",v.HLS="h",v.SMOOTH="s",v.OTHER="o"}(ks||(ks={})),function(v){v.VOD="v",v.LIVE="l"}(Pl||(Pl={}));var eh=function(){function v(t){var n=this;this.hls=void 0,this.config=void 0,this.media=void 0,this.sid=void 0,this.cid=void 0,this.useHeaders=!1,this.initialized=!1,this.starved=!1,this.buffering=!0,this.audioBuffer=void 0,this.videoBuffer=void 0,this.onWaiting=function(){n.initialized&&(n.starved=!0),n.buffering=!0},this.onPlaying=function(){n.initialized||(n.initialized=!0),n.buffering=!1},this.applyPlaylistData=function(l){try{n.apply(l,{ot:Xt.MANIFEST,su:!n.initialized})}catch(i){P.logger.warn("Could not generate manifest CMCD data.",i)}},this.applyFragmentData=function(l){try{var i=l.frag,u=n.hls.levels[i.level],d=n.getObjectType(i),g={d:1e3*i.duration,ot:d};d!==Xt.VIDEO&&d!==Xt.AUDIO&&d!=Xt.MUXED||(g.br=u.bitrate/1e3,g.tb=n.getTopBandwidth(d)/1e3,g.bl=n.getBufferLength(d)),n.apply(l,g)}catch(m){P.logger.warn("Could not generate segment CMCD data.",m)}},this.hls=t;var a=this.config=t.config,s=a.cmcd;s!=null&&(a.pLoader=this.createPlaylistLoader(),a.fLoader=this.createFragmentLoader(),this.sid=s.sessionId||v.uuid(),this.cid=s.contentId,this.useHeaders=s.useHeaders===!0,this.registerListeners())}var f=v.prototype;return f.registerListeners=function(){var t=this.hls;t.on(y.Events.MEDIA_ATTACHED,this.onMediaAttached,this),t.on(y.Events.MEDIA_DETACHED,this.onMediaDetached,this),t.on(y.Events.BUFFER_CREATED,this.onBufferCreated,this)},f.unregisterListeners=function(){var t=this.hls;t.off(y.Events.MEDIA_ATTACHED,this.onMediaAttached,this),t.off(y.Events.MEDIA_DETACHED,this.onMediaDetached,this),t.off(y.Events.BUFFER_CREATED,this.onBufferCreated,this),this.onMediaDetached()},f.destroy=function(){this.unregisterListeners(),this.hls=this.config=this.audioBuffer=this.videoBuffer=null},f.onMediaAttached=function(t,n){this.media=n.media,this.media.addEventListener("waiting",this.onWaiting),this.media.addEventListener("playing",this.onPlaying)},f.onMediaDetached=function(){this.media&&(this.media.removeEventListener("waiting",this.onWaiting),this.media.removeEventListener("playing",this.onPlaying),this.media=null)},f.onBufferCreated=function(t,n){var a,s;this.audioBuffer=(a=n.tracks.audio)===null||a===void 0?void 0:a.buffer,this.videoBuffer=(s=n.tracks.video)===null||s===void 0?void 0:s.buffer},f.createData=function(){var t;return{v:1,sf:ks.HLS,sid:this.sid,cid:this.cid,pr:(t=this.media)===null||t===void 0?void 0:t.playbackRate,mtp:this.hls.bandwidthEstimate/1e3}},f.apply=function(t,n){n===void 0&&(n={}),Wi(n,this.createData());var a=n.ot===Xt.INIT||n.ot===Xt.VIDEO||n.ot===Xt.MUXED;if(this.starved&&a&&(n.bs=!0,n.su=!0,this.starved=!1),n.su==null&&(n.su=this.buffering),this.useHeaders){var s=v.toHeaders(n);if(!Object.keys(s).length)return;t.headers||(t.headers={}),Wi(t.headers,s)}else{var l=v.toQuery(n);if(!l)return;t.url=v.appendQueryToUri(t.url,l)}},f.getObjectType=function(t){var n=t.type;return n==="subtitle"?Xt.TIMED_TEXT:t.sn==="initSegment"?Xt.INIT:n==="audio"?Xt.AUDIO:n==="main"?this.hls.audioTracks.length?Xt.VIDEO:Xt.MUXED:void 0},f.getTopBandwidth=function(t){var n,a=0,s=this.hls;if(t===Xt.AUDIO)n=s.audioTracks;else{var l=s.maxAutoLevel,i=l>-1?l+1:s.levels.length;n=s.levels.slice(0,i)}for(var u,d=Nl(n);!(u=d()).done;){var g=u.value;g.bitrate>a&&(a=g.bitrate)}return a>0?a:NaN},f.getBufferLength=function(t){var n=this.hls.media,a=t===Xt.AUDIO?this.audioBuffer:this.videoBuffer;return a&&n?1e3*Pt.bufferInfo(a,n.currentTime,this.config.maxBufferHole).len:NaN},f.createPlaylistLoader=function(){var t=this.config.pLoader,n=this.applyPlaylistData,a=t||this.config.loader;return function(){function s(i){this.loader=void 0,this.loader=new a(i)}var l=s.prototype;return l.destroy=function(){this.loader.destroy()},l.abort=function(){this.loader.abort()},l.load=function(i,u,d){n(i),this.loader.load(i,u,d)},Ml(s,[{key:"stats",get:function(){return this.loader.stats}},{key:"context",get:function(){return this.loader.context}}]),s}()},f.createFragmentLoader=function(){var t=this.config.fLoader,n=this.applyFragmentData,a=t||this.config.loader;return function(){function s(i){this.loader=void 0,this.loader=new a(i)}var l=s.prototype;return l.destroy=function(){this.loader.destroy()},l.abort=function(){this.loader.abort()},l.load=function(i,u,d){n(i),this.loader.load(i,u,d)},Ml(s,[{key:"stats",get:function(){return this.loader.stats}},{key:"context",get:function(){return this.loader.context}}]),s}()},v.uuid=function(){var t=URL.createObjectURL(new Blob),n=t.toString();return URL.revokeObjectURL(t),n.slice(n.lastIndexOf("/")+1)},v.serialize=function(t){for(var n,a=[],s=function(C){return!Number.isNaN(C)&&C!=null&&C!==""&&C!==!1},l=function(C){return Math.round(C)},i=function(C){return 100*l(C/100)},u={br:l,d:l,bl:i,dl:i,mtp:i,nor:function(C){return encodeURIComponent(C)},rtp:i,tb:l},d=Nl(Object.keys(t||{}).sort());!(n=d()).done;){var g=n.value,m=t[g];if(s(m)&&!(g==="v"&&m===1||g=="pr"&&m===1)){var T=u[g];T&&(m=T(m));var L,D=typeof m;L=g==="ot"||g==="sf"||g==="st"?g+"="+m:D==="boolean"?g:D==="number"?g+"="+m:g+"="+JSON.stringify(m),a.push(L)}}return a.join(",")},v.toHeaders=function(t){for(var n={},a=["Object","Request","Session","Status"],s=[{},{},{},{}],l={br:0,d:0,ot:0,tb:0,bl:1,dl:1,mtp:1,nor:1,nrr:1,su:1,cid:2,pr:2,sf:2,sid:2,st:2,v:2,bs:3,rtp:3},i=0,u=Object.keys(t);i<u.length;i++){var d=u[i];s[l[d]!=null?l[d]:1][d]=t[d]}for(var g=0;g<s.length;g++){var m=v.serialize(s[g]);m&&(n["CMCD-"+a[g]]=m)}return n},v.toQuery=function(t){return"CMCD="+encodeURIComponent(v.serialize(t))},v.appendQueryToUri=function(t,n){if(!n)return t;var a=t.includes("?")?"&":"?";return""+t+a+n},v}(),Bl=b(408),th=/^age:\s*[\d.]+\s*$/m;const Kl=function(){function v(t){this.xhrSetup=void 0,this.requestTimeout=void 0,this.retryTimeout=void 0,this.retryDelay=void 0,this.config=null,this.callbacks=null,this.context=void 0,this.loader=null,this.stats=void 0,this.xhrSetup=t?t.xhrSetup:null,this.stats=new Bl.LoadStats,this.retryDelay=0}var f=v.prototype;return f.destroy=function(){this.callbacks=null,this.abortInternal(),this.loader=null,this.config=null},f.abortInternal=function(){var t=this.loader;self.clearTimeout(this.requestTimeout),self.clearTimeout(this.retryTimeout),t&&(t.onreadystatechange=null,t.onprogress=null,t.readyState!==4&&(this.stats.aborted=!0,t.abort()))},f.abort=function(){var t;this.abortInternal(),(t=this.callbacks)!==null&&t!==void 0&&t.onAbort&&this.callbacks.onAbort(this.stats,this.context,this.loader)},f.load=function(t,n,a){if(this.stats.loading.start)throw new Error("Loader can only be used once.");this.stats.loading.start=self.performance.now(),this.context=t,this.config=n,this.callbacks=a,this.retryDelay=n.retryDelay,this.loadInternal()},f.loadInternal=function(){var t=this.config,n=this.context;if(t){var a=this.loader=new self.XMLHttpRequest,s=this.stats;s.loading.first=0,s.loaded=0;var l=this.xhrSetup;try{if(l)try{l(a,n.url)}catch{a.open("GET",n.url,!0),l(a,n.url)}a.readyState||a.open("GET",n.url,!0);var i=this.context.headers;if(i)for(var u in i)a.setRequestHeader(u,i[u])}catch(d){return void this.callbacks.onError({code:a.status,text:d.message},n,a)}n.rangeEnd&&a.setRequestHeader("Range","bytes="+n.rangeStart+"-"+(n.rangeEnd-1)),a.onreadystatechange=this.readystatechange.bind(this),a.onprogress=this.loadprogress.bind(this),a.responseType=n.responseType,self.clearTimeout(this.requestTimeout),this.requestTimeout=self.setTimeout(this.loadtimeout.bind(this),t.timeout),a.send()}},f.readystatechange=function(){var t=this.context,n=this.loader,a=this.stats;if(t&&n){var s=n.readyState,l=this.config;if(!a.aborted&&s>=2)if(self.clearTimeout(this.requestTimeout),a.loading.first===0&&(a.loading.first=Math.max(self.performance.now(),a.loading.start)),s===4){n.onreadystatechange=null,n.onprogress=null;var i=n.status,u=n.responseType==="arraybuffer";if(i>=200&&i<300&&(u&&n.response||n.responseText!==null)){var d,g;if(a.loading.end=Math.max(self.performance.now(),a.loading.first),g=u?(d=n.response).byteLength:(d=n.responseText).length,a.loaded=a.total=g,!this.callbacks)return;var m=this.callbacks.onProgress;if(m&&m(a,t,d,n),!this.callbacks)return;var T={url:n.responseURL,data:d};this.callbacks.onSuccess(T,a,t,n)}else a.retry>=l.maxRetry||i>=400&&i<499?(P.logger.error(i+" while loading "+t.url),this.callbacks.onError({code:i,text:n.statusText},t,n)):(P.logger.warn(i+" while loading "+t.url+", retrying in "+this.retryDelay+"..."),this.abortInternal(),this.loader=null,self.clearTimeout(this.retryTimeout),this.retryTimeout=self.setTimeout(this.loadInternal.bind(this),this.retryDelay),this.retryDelay=Math.min(2*this.retryDelay,l.maxRetryDelay),a.retry++)}else self.clearTimeout(this.requestTimeout),this.requestTimeout=self.setTimeout(this.loadtimeout.bind(this),l.timeout)}},f.loadtimeout=function(){P.logger.warn("timeout while loading "+this.context.url);var t=this.callbacks;t&&(this.abortInternal(),t.onTimeout(this.stats,this.context,this.loader))},f.loadprogress=function(t){var n=this.stats;n.loaded=t.loaded,t.lengthComputable&&(n.total=t.total)},f.getCacheAge=function(){var t=null;if(this.loader&&th.test(this.loader.getAllResponseHeaders())){var n=this.loader.getResponseHeader("age");t=n?parseFloat(n):null}return t},v}();function Ls(v){var f=typeof Map=="function"?new Map:void 0;return Ls=function(t){if(t===null||(n=t,Function.toString.call(n).indexOf("[native code]")===-1))return t;var n;if(typeof t!="function")throw new TypeError("Super expression must either be null or a function");if(f!==void 0){if(f.has(t))return f.get(t);f.set(t,a)}function a(){return ws(t,arguments,Rs(this).constructor)}return a.prototype=Object.create(t.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),si(a,t)},Ls(v)}function ws(v,f,t){return ws=rh()?Reflect.construct.bind():function(n,a,s){var l=[null];l.push.apply(l,a);var i=new(Function.bind.apply(n,l));return s&&si(i,s.prototype),i},ws.apply(null,arguments)}function rh(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function si(v,f){return si=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,n){return t.__proto__=n,t},si(v,f)}function Rs(v){return Rs=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(f){return f.__proto__||Object.getPrototypeOf(f)},Rs(v)}function xs(){return xs=Object.assign?Object.assign.bind():function(v){for(var f=1;f<arguments.length;f++){var t=arguments[f];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(v[n]=t[n])}return v},xs.apply(this,arguments)}var nh=function(){function v(t){this.fetchSetup=void 0,this.requestTimeout=void 0,this.request=void 0,this.response=void 0,this.controller=void 0,this.context=void 0,this.config=null,this.callbacks=null,this.stats=void 0,this.loader=null,this.fetchSetup=t.fetchSetup||ih,this.controller=new self.AbortController,this.stats=new Bl.LoadStats}var f=v.prototype;return f.destroy=function(){this.loader=this.callbacks=null,this.abortInternal()},f.abortInternal=function(){var t=this.response;t&&t.ok||(this.stats.aborted=!0,this.controller.abort())},f.abort=function(){var t;this.abortInternal(),(t=this.callbacks)!==null&&t!==void 0&&t.onAbort&&this.callbacks.onAbort(this.stats,this.context,this.response)},f.load=function(t,n,a){var s=this,l=this.stats;if(l.loading.start)throw new Error("Loader can only be used once.");l.loading.start=self.performance.now();var i=function(m,T){var L={method:"GET",mode:"cors",credentials:"same-origin",signal:T,headers:new self.Headers(xs({},m.headers))};return m.rangeEnd&&L.headers.set("Range","bytes="+m.rangeStart+"-"+String(m.rangeEnd-1)),L}(t,this.controller.signal),u=a.onProgress,d=t.responseType==="arraybuffer",g=d?"byteLength":"length";this.context=t,this.config=n,this.callbacks=a,this.request=this.fetchSetup(t,i),self.clearTimeout(this.requestTimeout),this.requestTimeout=self.setTimeout(function(){s.abortInternal(),a.onTimeout(l,t,s.response)},n.timeout),self.fetch(this.request).then(function(m){if(s.response=s.loader=m,!m.ok){var T=m.status,L=m.statusText;throw new ah(L||"fetch, bad network response",T,m)}return l.loading.first=Math.max(self.performance.now(),l.loading.start),l.total=parseInt(m.headers.get("Content-Length")||"0"),u&&(0,A.isFiniteNumber)(n.highWaterMark)?s.loadProgressively(m,l,t,n.highWaterMark,u):d?m.arrayBuffer():m.text()}).then(function(m){var T=s.response;self.clearTimeout(s.requestTimeout),l.loading.end=Math.max(self.performance.now(),l.loading.first);var L=m[g];L&&(l.loaded=l.total=L);var D={url:T.url,data:m};u&&!(0,A.isFiniteNumber)(n.highWaterMark)&&u(l,t,m,T),a.onSuccess(D,l,t,T)}).catch(function(m){if(self.clearTimeout(s.requestTimeout),!l.aborted){var T=m&&m.code||0,L=m?m.message:null;a.onError({code:T,text:L},t,m?m.details:null)}})},f.getCacheAge=function(){var t=null;if(this.response){var n=this.response.headers.get("age");t=n?parseFloat(n):null}return t},f.loadProgressively=function(t,n,a,s,l){s===void 0&&(s=0);var i=new gl,u=t.body.getReader();return function d(){return u.read().then(function(g){if(g.done)return i.dataLength&&l(n,a,i.flush(),t),Promise.resolve(new ArrayBuffer(0));var m=g.value,T=m.length;return n.loaded+=T,T<s||i.dataLength?(i.push(m),i.dataLength>=s&&l(n,a,i.flush(),t)):l(n,a,m,t),d()}).catch(function(){return Promise.reject()})}()},v}();function ih(v,f){return new self.Request(v.url,f)}var ah=function(v){var f,t;function n(a,s,l){var i;return(i=v.call(this,a)||this).code=void 0,i.details=void 0,i.code=s,i.details=l,i}return t=v,(f=n).prototype=Object.create(t.prototype),f.prototype.constructor=f,si(f,t),n}(Ls(Error));const jl=nh;var sh=/\s/;function Ds(){return Ds=Object.assign?Object.assign.bind():function(v){for(var f=1;f<arguments.length;f++){var t=arguments[f];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(v[n]=t[n])}return v},Ds.apply(this,arguments)}function Gl(v,f){var t=Object.keys(v);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(v);f&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(v,a).enumerable})),t.push.apply(t,n)}return t}function Hl(v){for(var f=1;f<arguments.length;f++){var t=arguments[f]!=null?arguments[f]:{};f%2?Gl(Object(t),!0).forEach(function(n){oh(v,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(v,Object.getOwnPropertyDescriptors(t)):Gl(Object(t)).forEach(function(n){Object.defineProperty(v,n,Object.getOwnPropertyDescriptor(t,n))})}return v}function oh(v,f,t){return(f=function(n){var a=function(s,l){if(typeof s!="object"||s===null)return s;var i=s[Symbol.toPrimitive];if(i!==void 0){var u=i.call(s,l);if(typeof u!="object")return u;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(s)}(n,"string");return typeof a=="symbol"?a:String(a)}(f))in v?Object.defineProperty(v,f,{value:t,enumerable:!0,configurable:!0,writable:!0}):v[f]=t,v}var lh=Hl(Hl({autoStartLoad:!0,startPosition:-1,defaultAudioCodec:void 0,debug:!1,capLevelOnFPSDrop:!1,capLevelToPlayerSize:!1,ignoreDevicePixelRatio:!1,initialLiveManifestSize:1,maxBufferLength:30,backBufferLength:1/0,maxBufferSize:6e7,maxBufferHole:.1,highBufferWatchdogPeriod:2,nudgeOffset:.1,nudgeMaxRetry:3,maxFragLookUpTolerance:.25,liveSyncDurationCount:3,liveMaxLatencyDurationCount:1/0,liveSyncDuration:void 0,liveMaxLatencyDuration:void 0,maxLiveSyncPlaybackRate:1,liveDurationInfinity:!1,liveBackBufferLength:null,maxMaxBufferLength:600,enableWorker:!0,enableSoftwareAES:!0,manifestLoadingTimeOut:1e4,manifestLoadingMaxRetry:1,manifestLoadingRetryDelay:1e3,manifestLoadingMaxRetryTimeout:64e3,startLevel:void 0,levelLoadingTimeOut:1e4,levelLoadingMaxRetry:4,levelLoadingRetryDelay:1e3,levelLoadingMaxRetryTimeout:64e3,fragLoadingTimeOut:2e4,fragLoadingMaxRetry:6,fragLoadingRetryDelay:1e3,fragLoadingMaxRetryTimeout:64e3,startFragPrefetch:!1,fpsDroppedMonitoringPeriod:5e3,fpsDroppedMonitoringThreshold:.2,appendErrorMaxRetry:3,loader:Kl,fLoader:void 0,pLoader:void 0,xhrSetup:void 0,licenseXhrSetup:void 0,licenseResponseCallback:void 0,abrController:Ed,bufferController:Dd,capLevelController:Xd,fpsController:Qd,stretchShortVideoTrack:!1,maxAudioFramesDrift:1,forceKeyFrameOnDiscontinuity:!0,abrEwmaFastLive:3,abrEwmaSlowLive:9,abrEwmaFastVoD:3,abrEwmaSlowVoD:9,abrEwmaDefaultEstimate:5e5,abrBandWidthFactor:.95,abrBandWidthUpFactor:.7,abrMaxWithRealBitrate:!1,maxStarvationDelay:4,maxLoadingDelay:4,minAutoBitrate:0,emeEnabled:!1,widevineLicenseUrl:void 0,drmSystems:{},drmSystemOptions:{},requestMediaKeySystemAccessFunc:Ee,testBandwidth:!0,progressive:!1,lowLatencyMode:!0,cmcd:void 0,enableDateRangeMetadataCues:!0,enableEmsgMetadataCues:!0,enableID3MetadataCues:!0},{cueHandler:{newCue:function(v,f,t,n){for(var a,s,l,i,u,d=[],g=self.VTTCue||self.TextTrackCue,m=0;m<n.rows.length;m++)if(l=!0,i=0,u="",!(a=n.rows[m]).isEmpty()){for(var T=0;T<a.chars.length;T++)sh.test(a.chars[T].uchar)&&l?i++:(u+=a.chars[T].uchar,l=!1);a.cueStartTime=f,f===t&&(t+=1e-4),i>=16?i--:i++;var L=kl(u.trim()),D=ms(f,t,L);v&&v.cues&&v.cues.getCueById(D)||((s=new g(f,t,L)).id=D,s.line=m+1,s.align="left",s.position=10+Math.min(80,10*Math.floor(8*i/32)),d.push(s))}return v&&d.length&&(d.sort(function(C,G){return C.line==="auto"||G.line==="auto"?0:C.line>8&&G.line>8?G.line-C.line:C.line-G.line}),d.forEach(function(C){return De(v,C)})),d}},enableWebVTT:!0,enableIMSC1:!0,enableCEA708Captions:!0,captionsTextTrack1Label:"English",captionsTextTrack1LanguageCode:"en",captionsTextTrack2Label:"Spanish",captionsTextTrack2LanguageCode:"es",captionsTextTrack3Label:"Unknown CC",captionsTextTrack3LanguageCode:"",captionsTextTrack4Label:"Unknown CC",captionsTextTrack4LanguageCode:"",renderTextTracksNatively:!0}),{},{subtitleStreamController:kd,subtitleTrackController:Rd,timelineController:$d,audioStreamController:Td,audioTrackController:_d,emeController:Zd,cmcdController:eh});function Vl(v,f){for(var t=0;t<f.length;t++){var n=f[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(v,typeof(a=function(s,l){if(typeof s!="object"||s===null)return s;var i=s[Symbol.toPrimitive];if(i!==void 0){var u=i.call(s,l);if(typeof u!="object")return u;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(s)}(n.key,"string"))=="symbol"?a:String(a),n)}var a}var Yl=function(){function v(s){s===void 0&&(s={}),this.config=void 0,this.userConfig=void 0,this.coreComponents=void 0,this.networkControllers=void 0,this._emitter=new ns.EventEmitter,this._autoLevelCapping=void 0,this._maxHdcpLevel=null,this.abrController=void 0,this.bufferController=void 0,this.capLevelController=void 0,this.latencyController=void 0,this.levelController=void 0,this.streamController=void 0,this.audioTrackController=void 0,this.subtitleTrackController=void 0,this.emeController=void 0,this.cmcdController=void 0,this._media=null,this.url=null;var l=this.config=function(xe,Ke){if((Ke.liveSyncDurationCount||Ke.liveMaxLatencyDurationCount)&&(Ke.liveSyncDuration||Ke.liveMaxLatencyDuration))throw new Error("Illegal hls.js config: don't mix up liveSyncDurationCount/liveMaxLatencyDurationCount and liveSyncDuration/liveMaxLatencyDuration");if(Ke.liveMaxLatencyDurationCount!==void 0&&(Ke.liveSyncDurationCount===void 0||Ke.liveMaxLatencyDurationCount<=Ke.liveSyncDurationCount))throw new Error('Illegal hls.js config: "liveMaxLatencyDurationCount" must be greater than "liveSyncDurationCount"');if(Ke.liveMaxLatencyDuration!==void 0&&(Ke.liveSyncDuration===void 0||Ke.liveMaxLatencyDuration<=Ke.liveSyncDuration))throw new Error('Illegal hls.js config: "liveMaxLatencyDuration" must be greater than "liveSyncDuration"');return Ds({},xe,Ke)}(v.DefaultConfig,s);this.userConfig=s,(0,P.enableLogs)(l.debug,"Hls instance"),this._autoLevelCapping=-1,l.progressive&&function(xe){var Ke=xe.loader;Ke!==jl&&Ke!==Kl?(P.logger.log("[config]: Custom loader detected, cannot enable progressive streaming"),xe.progressive=!1):function(){if(self.fetch&&self.AbortController&&self.ReadableStream&&self.Request)try{return new self.ReadableStream({}),!0}catch{}return!1}()&&(xe.loader=jl,xe.progressive=!0,xe.enableSoftwareAES=!0,P.logger.log("[config]: Progressive streaming enabled, using FetchLoader"))}(l);var i=l.abrController,u=l.bufferController,d=l.capLevelController,g=l.fpsController,m=this.abrController=new i(this),T=this.bufferController=new u(this),L=this.capLevelController=new d(this),D=new g(this),C=new ue(this),G=new ze(this),j=this.levelController=new ut(this),Q=new pt(this),le=new _r(this.config),me=this.streamController=new md(this,Q,le);L.setStreamController(me),D.setStreamController(me);var de=[C,j,me];this.networkControllers=de;var Se=[m,T,L,D,G,Q];this.audioTrackController=this.createController(l.audioTrackController,de);var Ge=l.audioStreamController;Ge&&de.push(new Ge(this,Q,le)),this.subtitleTrackController=this.createController(l.subtitleTrackController,de);var We=l.subtitleStreamController;We&&de.push(new We(this,Q,le)),this.createController(l.timelineController,Se),le.emeController=this.emeController=this.createController(l.emeController,Se),this.cmcdController=this.createController(l.cmcdController,Se),this.latencyController=this.createController(nt,Se),this.coreComponents=Se}v.isSupported=function(){return function(){var s=ts();if(!s)return!1;var l=ul(),i=s&&typeof s.isTypeSupported=="function"&&s.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"'),u=!l||l.prototype&&typeof l.prototype.appendBuffer=="function"&&typeof l.prototype.remove=="function";return!!i&&!!u}()};var f,t,n,a=v.prototype;return a.createController=function(s,l){if(s){var i=new s(this);return l&&l.push(i),i}return null},a.on=function(s,l,i){i===void 0&&(i=this),this._emitter.on(s,l,i)},a.once=function(s,l,i){i===void 0&&(i=this),this._emitter.once(s,l,i)},a.removeAllListeners=function(s){this._emitter.removeAllListeners(s)},a.off=function(s,l,i,u){i===void 0&&(i=this),this._emitter.off(s,l,i,u)},a.listeners=function(s){return this._emitter.listeners(s)},a.emit=function(s,l,i){return this._emitter.emit(s,l,i)},a.trigger=function(s,l){if(this.config.debug)return this.emit(s,s,l);try{return this.emit(s,s,l)}catch(i){P.logger.error("An internal error happened while handling event "+s+'. Error message: "'+i.message+'". Here is a stacktrace:',i),this.trigger(y.Events.ERROR,{type:w.ErrorTypes.OTHER_ERROR,details:w.ErrorDetails.INTERNAL_EXCEPTION,fatal:!1,event:s,error:i})}return!1},a.listenerCount=function(s){return this._emitter.listenerCount(s)},a.destroy=function(){P.logger.log("destroy"),this.trigger(y.Events.DESTROYING,void 0),this.detachMedia(),this.removeAllListeners(),this._autoLevelCapping=-1,this.url=null,this.networkControllers.forEach(function(s){return s.destroy()}),this.networkControllers.length=0,this.coreComponents.forEach(function(s){return s.destroy()}),this.coreComponents.length=0},a.attachMedia=function(s){P.logger.log("attachMedia"),this._media=s,this.trigger(y.Events.MEDIA_ATTACHING,{media:s})},a.detachMedia=function(){P.logger.log("detachMedia"),this.trigger(y.Events.MEDIA_DETACHING,void 0),this._media=null},a.loadSource=function(s){this.stopLoad();var l=this.media,i=this.url,u=this.url=_.buildAbsoluteURL(self.location.href,s,{alwaysNormalize:!0});P.logger.log("loadSource:"+u),l&&i&&i!==u&&this.bufferController.hasSourceTypes()&&(this.detachMedia(),this.attachMedia(l)),this.trigger(y.Events.MANIFEST_LOADING,{url:s})},a.startLoad=function(s){s===void 0&&(s=-1),P.logger.log("startLoad("+s+")"),this.networkControllers.forEach(function(l){l.startLoad(s)})},a.stopLoad=function(){P.logger.log("stopLoad"),this.networkControllers.forEach(function(s){s.stopLoad()})},a.swapAudioCodec=function(){P.logger.log("swapAudioCodec"),this.streamController.swapAudioCodec()},a.recoverMediaError=function(){P.logger.log("recoverMediaError");var s=this._media;this.detachMedia(),s&&this.attachMedia(s)},a.removeLevel=function(s,l){l===void 0&&(l=0),this.levelController.removeLevel(s,l)},f=v,n=[{key:"version",get:function(){return"1.3.4"}},{key:"Events",get:function(){return y.Events}},{key:"ErrorTypes",get:function(){return w.ErrorTypes}},{key:"ErrorDetails",get:function(){return w.ErrorDetails}},{key:"DefaultConfig",get:function(){return v.defaultConfig?v.defaultConfig:lh},set:function(s){v.defaultConfig=s}}],(t=[{key:"levels",get:function(){return this.levelController.levels||[]}},{key:"currentLevel",get:function(){return this.streamController.currentLevel},set:function(s){P.logger.log("set currentLevel:"+s),this.loadLevel=s,this.abrController.clearTimer(),this.streamController.immediateLevelSwitch()}},{key:"nextLevel",get:function(){return this.streamController.nextLevel},set:function(s){P.logger.log("set nextLevel:"+s),this.levelController.manualLevel=s,this.streamController.nextLevelSwitch()}},{key:"loadLevel",get:function(){return this.levelController.level},set:function(s){P.logger.log("set loadLevel:"+s),this.levelController.manualLevel=s}},{key:"nextLoadLevel",get:function(){return this.levelController.nextLoadLevel},set:function(s){this.levelController.nextLoadLevel=s}},{key:"firstLevel",get:function(){return Math.max(this.levelController.firstLevel,this.minAutoLevel)},set:function(s){P.logger.log("set firstLevel:"+s),this.levelController.firstLevel=s}},{key:"startLevel",get:function(){return this.levelController.startLevel},set:function(s){P.logger.log("set startLevel:"+s),s!==-1&&(s=Math.max(s,this.minAutoLevel)),this.levelController.startLevel=s}},{key:"capLevelToPlayerSize",get:function(){return this.config.capLevelToPlayerSize},set:function(s){var l=!!s;l!==this.config.capLevelToPlayerSize&&(l?this.capLevelController.startCapping():(this.capLevelController.stopCapping(),this.autoLevelCapping=-1,this.streamController.nextLevelSwitch()),this.config.capLevelToPlayerSize=l)}},{key:"autoLevelCapping",get:function(){return this._autoLevelCapping},set:function(s){this._autoLevelCapping!==s&&(P.logger.log("set autoLevelCapping:"+s),this._autoLevelCapping=s)}},{key:"bandwidthEstimate",get:function(){var s=this.abrController.bwEstimator;return s?s.getEstimate():NaN}},{key:"maxHdcpLevel",get:function(){return this._maxHdcpLevel},set:function(s){xt.indexOf(s)>-1&&(this._maxHdcpLevel=s)}},{key:"autoLevelEnabled",get:function(){return this.levelController.manualLevel===-1}},{key:"manualLevel",get:function(){return this.levelController.manualLevel}},{key:"minAutoLevel",get:function(){var s=this.levels,l=this.config.minAutoBitrate;if(!s)return 0;for(var i=s.length,u=0;u<i;u++)if(s[u].maxBitrate>=l)return u;return 0}},{key:"maxAutoLevel",get:function(){var s,l=this.levels,i=this.autoLevelCapping,u=this.maxHdcpLevel;if(s=i===-1&&l&&l.length?l.length-1:i,u)for(var d=s;d--;){var g=l[d].attrs["HDCP-LEVEL"];if(g&&g<=u)return d}return s}},{key:"nextAutoLevel",get:function(){return Math.min(Math.max(this.abrController.nextAutoLevel,this.minAutoLevel),this.maxAutoLevel)},set:function(s){this.abrController.nextAutoLevel=Math.max(this.minAutoLevel,s)}},{key:"playingDate",get:function(){return this.streamController.currentProgramDateTime}},{key:"mainForwardBufferInfo",get:function(){return this.streamController.getMainFwdBufferInfo()}},{key:"audioTracks",get:function(){var s=this.audioTrackController;return s?s.audioTracks:[]}},{key:"audioTrack",get:function(){var s=this.audioTrackController;return s?s.audioTrack:-1},set:function(s){var l=this.audioTrackController;l&&(l.audioTrack=s)}},{key:"subtitleTracks",get:function(){var s=this.subtitleTrackController;return s?s.subtitleTracks:[]}},{key:"subtitleTrack",get:function(){var s=this.subtitleTrackController;return s?s.subtitleTrack:-1},set:function(s){var l=this.subtitleTrackController;l&&(l.subtitleTrack=s)}},{key:"media",get:function(){return this._media}},{key:"subtitleDisplay",get:function(){var s=this.subtitleTrackController;return!!s&&s.subtitleDisplay},set:function(s){var l=this.subtitleTrackController;l&&(l.subtitleDisplay=s)}},{key:"lowLatencyMode",get:function(){return this.config.lowLatencyMode},set:function(s){this.config.lowLatencyMode=s}},{key:"liveSyncPosition",get:function(){return this.latencyController.liveSyncPosition}},{key:"latency",get:function(){return this.latencyController.latency}},{key:"maxLatency",get:function(){return this.latencyController.maxLatency}},{key:"targetLatency",get:function(){return this.latencyController.targetLatency}},{key:"drift",get:function(){return this.latencyController.drift}},{key:"forceStartLoad",get:function(){return this.streamController.forceStartLoad}}])&&Vl(f.prototype,t),n&&Vl(f,n),Object.defineProperty(f,"prototype",{writable:!1}),v}();Yl.defaultConfig=void 0},923:(E,S,b)=>{b.r(S),b.d(S,{BaseSegment:()=>Y,ElementaryStreamTypes:()=>k,Fragment:()=>$,Part:()=>H});var k,_=b(965),A=b(945),y=b(408);function w(ae,Z){ae.prototype=Object.create(Z.prototype),ae.prototype.constructor=ae,P(ae,Z)}function P(ae,Z){return P=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(re,ee){return re.__proto__=ee,re},P(ae,Z)}function oe(ae,Z){for(var re=0;re<Z.length;re++){var ee=Z[re];ee.enumerable=ee.enumerable||!1,ee.configurable=!0,"value"in ee&&(ee.writable=!0),Object.defineProperty(ae,typeof(ke=function(we,Ye){if(typeof we!="object"||we===null)return we;var se=we[Symbol.toPrimitive];if(se!==void 0){var I=se.call(we,Ye);if(typeof I!="object")return I;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(we)}(ee.key,"string"))=="symbol"?ke:String(ke),ee)}var ke}function J(ae,Z,re){return Z&&oe(ae.prototype,Z),re&&oe(ae,re),Object.defineProperty(ae,"prototype",{writable:!1}),ae}(function(ae){ae.AUDIO="audio",ae.VIDEO="video",ae.AUDIOVIDEO="audiovideo"})(k||(k={}));var Y=function(){function ae(Z){var re;this._byteRange=null,this._url=null,this.baseurl=void 0,this.relurl=void 0,this.elementaryStreams=((re={})[k.AUDIO]=null,re[k.VIDEO]=null,re[k.AUDIOVIDEO]=null,re),this.baseurl=Z}return ae.prototype.setByteRange=function(Z,re){var ee=Z.split("@",2),ke=[];ee.length===1?ke[0]=re?re.byteRangeEndOffset:0:ke[0]=parseInt(ee[1]),ke[1]=parseInt(ee[0])+ke[0],this._byteRange=ke},J(ae,[{key:"byteRange",get:function(){return this._byteRange?this._byteRange:[]}},{key:"byteRangeStartOffset",get:function(){return this.byteRange[0]}},{key:"byteRangeEndOffset",get:function(){return this.byteRange[1]}},{key:"url",get:function(){return!this._url&&this.baseurl&&this.relurl&&(this._url=(0,A.buildAbsoluteURL)(this.baseurl,this.relurl,{alwaysNormalize:!0})),this._url||""},set:function(Z){this._url=Z}}]),ae}(),$=function(ae){function Z(ee,ke){var we;return(we=ae.call(this,ke)||this)._decryptdata=null,we.rawProgramDateTime=null,we.programDateTime=null,we.tagList=[],we.duration=0,we.sn=0,we.levelkeys=void 0,we.type=void 0,we.loader=null,we.keyLoader=null,we.level=-1,we.cc=0,we.startPTS=void 0,we.endPTS=void 0,we.appendedPTS=void 0,we.startDTS=void 0,we.endDTS=void 0,we.start=0,we.deltaPTS=void 0,we.maxStartPTS=void 0,we.minEndPTS=void 0,we.stats=new y.LoadStats,we.urlId=0,we.data=void 0,we.bitrateTest=!1,we.title=null,we.initSegment=null,we.endList=void 0,we.type=ee,we}w(Z,ae);var re=Z.prototype;return re.setKeyFormat=function(ee){if(this.levelkeys){var ke=this.levelkeys[ee];ke&&!this._decryptdata&&(this._decryptdata=ke.getDecryptData(this.sn))}},re.abortRequests=function(){var ee,ke;(ee=this.loader)===null||ee===void 0||ee.abort(),(ke=this.keyLoader)===null||ke===void 0||ke.abort()},re.setElementaryStreamInfo=function(ee,ke,we,Ye,se,I){I===void 0&&(I=!1);var q=this.elementaryStreams,B=q[ee];B?(B.startPTS=Math.min(B.startPTS,ke),B.endPTS=Math.max(B.endPTS,we),B.startDTS=Math.min(B.startDTS,Ye),B.endDTS=Math.max(B.endDTS,se)):q[ee]={startPTS:ke,endPTS:we,startDTS:Ye,endDTS:se,partial:I}},re.clearElementaryStreamInfo=function(){var ee=this.elementaryStreams;ee[k.AUDIO]=null,ee[k.VIDEO]=null,ee[k.AUDIOVIDEO]=null},J(Z,[{key:"decryptdata",get:function(){if(!this.levelkeys&&!this._decryptdata)return null;if(!this._decryptdata&&this.levelkeys&&!this.levelkeys.NONE){var ee=this.levelkeys.identity;if(ee)this._decryptdata=ee.getDecryptData(this.sn);else{var ke=Object.keys(this.levelkeys);if(ke.length===1)return this._decryptdata=this.levelkeys[ke[0]].getDecryptData(this.sn)}}return this._decryptdata}},{key:"end",get:function(){return this.start+this.duration}},{key:"endProgramDateTime",get:function(){if(this.programDateTime===null||!(0,_.isFiniteNumber)(this.programDateTime))return null;var ee=(0,_.isFiniteNumber)(this.duration)?this.duration:0;return this.programDateTime+1e3*ee}},{key:"encrypted",get:function(){var ee;if((ee=this._decryptdata)!==null&&ee!==void 0&&ee.encrypted)return!0;if(this.levelkeys){var ke=Object.keys(this.levelkeys),we=ke.length;if(we>1||we===1&&this.levelkeys[ke[0]].encrypted)return!0}return!1}}]),Z}(Y),H=function(ae){function Z(re,ee,ke,we,Ye){var se;(se=ae.call(this,ke)||this).fragOffset=0,se.duration=0,se.gap=!1,se.independent=!1,se.relurl=void 0,se.fragment=void 0,se.index=void 0,se.stats=new y.LoadStats,se.duration=re.decimalFloatingPoint("DURATION"),se.gap=re.bool("GAP"),se.independent=re.bool("INDEPENDENT"),se.relurl=re.enumeratedString("URI"),se.fragment=ee,se.index=we;var I=re.enumeratedString("BYTERANGE");return I&&se.setByteRange(I,Ye),Ye&&(se.fragOffset=Ye.fragOffset+Ye.duration),se}return w(Z,ae),J(Z,[{key:"start",get:function(){return this.fragment.start+this.fragOffset}},{key:"end",get:function(){return this.start+this.duration}},{key:"loaded",get:function(){var re=this.elementaryStreams;return!!(re.audio||re.video||re.audiovideo)}}]),Z}(Y)},408:(E,S,b)=>{b.r(S),b.d(S,{LoadStats:()=>k});var k=function(){this.aborted=!1,this.loaded=0,this.retry=0,this.total=0,this.chunkCount=0,this.bwEstimate=0,this.loading={start:0,first:0,end:0},this.parsing={start:0,end:0},this.buffering={start:0,first:0,end:0}}},965:(E,S,b)=>{b.r(S),b.d(S,{MAX_SAFE_INTEGER:()=>_,isFiniteNumber:()=>k});var k=Number.isFinite||function(A){return typeof A=="number"&&isFinite(A)},_=Number.MAX_SAFE_INTEGER||9007199254740991},524:(E,S,b)=>{b.r(S),b.d(S,{default:()=>re,flushTextTrackMetadataCueSamples:()=>ke,flushTextTrackUserdataCueSamples:()=>we,normalizePts:()=>ee});var k=b(965);const _=function(){function I(){}return I.getSilentFrame=function(q,B){if(q==="mp4a.40.2"){if(B===1)return new Uint8Array([0,200,0,128,35,128]);if(B===2)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(B===3)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(B===4)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(B===5)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(B===6)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224])}else{if(B===1)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(B===2)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(B===3)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94])}},I}();var A=Math.pow(2,32)-1,y=function(){function I(){}return I.init=function(){var q;for(q in I.types={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],".mp3":[],mvex:[],mvhd:[],pasp:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[]},I.types)I.types.hasOwnProperty(q)&&(I.types[q]=[q.charCodeAt(0),q.charCodeAt(1),q.charCodeAt(2),q.charCodeAt(3)]);var B=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),he=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]);I.HDLR_TYPES={video:B,audio:he};var Ee=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),ge=new Uint8Array([0,0,0,0,0,0,0,0]);I.STTS=I.STSC=I.STCO=ge,I.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),I.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0]),I.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),I.STSD=new Uint8Array([0,0,0,0,0,0,0,1]);var fe=new Uint8Array([105,115,111,109]),Ue=new Uint8Array([97,118,99,49]),He=new Uint8Array([0,0,0,1]);I.FTYP=I.box(I.types.ftyp,fe,He,fe,Ue),I.DINF=I.box(I.types.dinf,I.box(I.types.dref,Ee))},I.box=function(q){for(var B=8,he=arguments.length,Ee=new Array(he>1?he-1:0),ge=1;ge<he;ge++)Ee[ge-1]=arguments[ge];for(var fe=Ee.length,Ue=fe;fe--;)B+=Ee[fe].byteLength;var He=new Uint8Array(B);for(He[0]=B>>24&255,He[1]=B>>16&255,He[2]=B>>8&255,He[3]=255&B,He.set(q,4),fe=0,B=8;fe<Ue;fe++)He.set(Ee[fe],B),B+=Ee[fe].byteLength;return He},I.hdlr=function(q){return I.box(I.types.hdlr,I.HDLR_TYPES[q])},I.mdat=function(q){return I.box(I.types.mdat,q)},I.mdhd=function(q,B){B*=q;var he=Math.floor(B/(A+1)),Ee=Math.floor(B%(A+1));return I.box(I.types.mdhd,new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,q>>24&255,q>>16&255,q>>8&255,255&q,he>>24,he>>16&255,he>>8&255,255&he,Ee>>24,Ee>>16&255,Ee>>8&255,255&Ee,85,196,0,0]))},I.mdia=function(q){return I.box(I.types.mdia,I.mdhd(q.timescale,q.duration),I.hdlr(q.type),I.minf(q))},I.mfhd=function(q){return I.box(I.types.mfhd,new Uint8Array([0,0,0,0,q>>24,q>>16&255,q>>8&255,255&q]))},I.minf=function(q){return q.type==="audio"?I.box(I.types.minf,I.box(I.types.smhd,I.SMHD),I.DINF,I.stbl(q)):I.box(I.types.minf,I.box(I.types.vmhd,I.VMHD),I.DINF,I.stbl(q))},I.moof=function(q,B,he){return I.box(I.types.moof,I.mfhd(q),I.traf(he,B))},I.moov=function(q){for(var B=q.length,he=[];B--;)he[B]=I.trak(q[B]);return I.box.apply(null,[I.types.moov,I.mvhd(q[0].timescale,q[0].duration)].concat(he).concat(I.mvex(q)))},I.mvex=function(q){for(var B=q.length,he=[];B--;)he[B]=I.trex(q[B]);return I.box.apply(null,[I.types.mvex].concat(he))},I.mvhd=function(q,B){B*=q;var he=Math.floor(B/(A+1)),Ee=Math.floor(B%(A+1)),ge=new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,q>>24&255,q>>16&255,q>>8&255,255&q,he>>24,he>>16&255,he>>8&255,255&he,Ee>>24,Ee>>16&255,Ee>>8&255,255&Ee,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return I.box(I.types.mvhd,ge)},I.sdtp=function(q){var B,he,Ee=q.samples||[],ge=new Uint8Array(4+Ee.length);for(B=0;B<Ee.length;B++)he=Ee[B].flags,ge[B+4]=he.dependsOn<<4|he.isDependedOn<<2|he.hasRedundancy;return I.box(I.types.sdtp,ge)},I.stbl=function(q){return I.box(I.types.stbl,I.stsd(q),I.box(I.types.stts,I.STTS),I.box(I.types.stsc,I.STSC),I.box(I.types.stsz,I.STSZ),I.box(I.types.stco,I.STCO))},I.avc1=function(q){var B,he,Ee,ge=[],fe=[];for(B=0;B<q.sps.length;B++)Ee=(he=q.sps[B]).byteLength,ge.push(Ee>>>8&255),ge.push(255&Ee),ge=ge.concat(Array.prototype.slice.call(he));for(B=0;B<q.pps.length;B++)Ee=(he=q.pps[B]).byteLength,fe.push(Ee>>>8&255),fe.push(255&Ee),fe=fe.concat(Array.prototype.slice.call(he));var Ue=I.box(I.types.avcC,new Uint8Array([1,ge[3],ge[4],ge[5],255,224|q.sps.length].concat(ge).concat([q.pps.length]).concat(fe))),He=q.width,je=q.height,Pe=q.pixelRatio[0],et=q.pixelRatio[1];return I.box(I.types.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,He>>8&255,255&He,je>>8&255,255&je,0,72,0,0,0,72,0,0,0,0,0,0,0,1,18,100,97,105,108,121,109,111,116,105,111,110,47,104,108,115,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),Ue,I.box(I.types.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])),I.box(I.types.pasp,new Uint8Array([Pe>>24,Pe>>16&255,Pe>>8&255,255&Pe,et>>24,et>>16&255,et>>8&255,255&et])))},I.esds=function(q){var B=q.config.length;return new Uint8Array([0,0,0,0,3,23+B,0,1,0,4,15+B,64,21,0,0,0,0,0,0,0,0,0,0,0,5].concat([B]).concat(q.config).concat([6,1,2]))},I.mp4a=function(q){var B=q.samplerate;return I.box(I.types.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,q.channelCount,0,16,0,0,0,0,B>>8&255,255&B,0,0]),I.box(I.types.esds,I.esds(q)))},I.mp3=function(q){var B=q.samplerate;return I.box(I.types[".mp3"],new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,q.channelCount,0,16,0,0,0,0,B>>8&255,255&B,0,0]))},I.stsd=function(q){return q.type==="audio"?q.segmentCodec==="mp3"&&q.codec==="mp3"?I.box(I.types.stsd,I.STSD,I.mp3(q)):I.box(I.types.stsd,I.STSD,I.mp4a(q)):I.box(I.types.stsd,I.STSD,I.avc1(q))},I.tkhd=function(q){var B=q.id,he=q.duration*q.timescale,Ee=q.width,ge=q.height,fe=Math.floor(he/(A+1)),Ue=Math.floor(he%(A+1));return I.box(I.types.tkhd,new Uint8Array([1,0,0,7,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,B>>24&255,B>>16&255,B>>8&255,255&B,0,0,0,0,fe>>24,fe>>16&255,fe>>8&255,255&fe,Ue>>24,Ue>>16&255,Ue>>8&255,255&Ue,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,Ee>>8&255,255&Ee,0,0,ge>>8&255,255&ge,0,0]))},I.traf=function(q,B){var he=I.sdtp(q),Ee=q.id,ge=Math.floor(B/(A+1)),fe=Math.floor(B%(A+1));return I.box(I.types.traf,I.box(I.types.tfhd,new Uint8Array([0,0,0,0,Ee>>24,Ee>>16&255,Ee>>8&255,255&Ee])),I.box(I.types.tfdt,new Uint8Array([1,0,0,0,ge>>24,ge>>16&255,ge>>8&255,255&ge,fe>>24,fe>>16&255,fe>>8&255,255&fe])),I.trun(q,he.length+16+20+8+16+8+8),he)},I.trak=function(q){return q.duration=q.duration||4294967295,I.box(I.types.trak,I.tkhd(q),I.mdia(q))},I.trex=function(q){var B=q.id;return I.box(I.types.trex,new Uint8Array([0,0,0,0,B>>24,B>>16&255,B>>8&255,255&B,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]))},I.trun=function(q,B){var he,Ee,ge,fe,Ue,He,je=q.samples||[],Pe=je.length,et=12+16*Pe,dt=new Uint8Array(et);for(B+=8+et,dt.set([q.type==="video"?1:0,0,15,1,Pe>>>24&255,Pe>>>16&255,Pe>>>8&255,255&Pe,B>>>24&255,B>>>16&255,B>>>8&255,255&B],0),he=0;he<Pe;he++)ge=(Ee=je[he]).duration,fe=Ee.size,Ue=Ee.flags,He=Ee.cts,dt.set([ge>>>24&255,ge>>>16&255,ge>>>8&255,255&ge,fe>>>24&255,fe>>>16&255,fe>>>8&255,255&fe,Ue.isLeading<<2|Ue.dependsOn,Ue.isDependedOn<<6|Ue.hasRedundancy<<4|Ue.paddingValue<<1|Ue.isNonSync,61440&Ue.degradPrio,15&Ue.degradPrio,He>>>24&255,He>>>16&255,He>>>8&255,255&He],12+16*he);return I.box(I.types.trun,dt)},I.initSegment=function(q){I.types||I.init();var B=I.moov(q),he=new Uint8Array(I.FTYP.byteLength+B.byteLength);return he.set(I.FTYP),he.set(B,I.FTYP.byteLength),he},I}();y.types=void 0,y.HDLR_TYPES=void 0,y.STTS=void 0,y.STSC=void 0,y.STCO=void 0,y.STSZ=void 0,y.VMHD=void 0,y.SMHD=void 0,y.STSD=void 0,y.FTYP=void 0,y.DINF=void 0;const w=y;var P=b(851),oe=b(973),J=b(93),Y=b(308),$=b(673);function H(){return H=Object.assign?Object.assign.bind():function(I){for(var q=1;q<arguments.length;q++){var B=arguments[q];for(var he in B)Object.prototype.hasOwnProperty.call(B,he)&&(I[he]=B[he])}return I},H.apply(this,arguments)}var ae=null,Z=null,re=function(){function I(B,he,Ee,ge){if(this.observer=void 0,this.config=void 0,this.typeSupported=void 0,this.ISGenerated=!1,this._initPTS=void 0,this._initDTS=void 0,this.nextAvcDts=null,this.nextAudioPts=null,this.videoSampleDuration=null,this.isAudioContiguous=!1,this.isVideoContiguous=!1,this.observer=B,this.config=he,this.typeSupported=Ee,this.ISGenerated=!1,ae===null){var fe=(navigator.userAgent||"").match(/Chrome\/(\d+)/i);ae=fe?parseInt(fe[1]):0}if(Z===null){var Ue=navigator.userAgent.match(/Safari\/(\d+)/i);Z=Ue?parseInt(Ue[1]):0}}var q=I.prototype;return q.destroy=function(){},q.resetTimeStamp=function(B){J.logger.log("[mp4-remuxer]: initPTS & initDTS reset"),this._initPTS=this._initDTS=B},q.resetNextTimestamp=function(){J.logger.log("[mp4-remuxer]: reset next timestamp"),this.isVideoContiguous=!1,this.isAudioContiguous=!1},q.resetInitSegment=function(){J.logger.log("[mp4-remuxer]: ISGenerated flag reset"),this.ISGenerated=!1},q.getVideoStartPts=function(B){var he=!1,Ee=B.reduce(function(ge,fe){var Ue=fe.pts-ge;return Ue<-4294967296?(he=!0,ee(ge,fe.pts)):Ue>0?ge:fe.pts},B[0].pts);return he&&J.logger.debug("PTS rollover detected"),Ee},q.remux=function(B,he,Ee,ge,fe,Ue,He,je){var Pe,et,dt,M,X,V,ce=fe,ve=fe,Le=B.pid>-1,pe=he.pid>-1,R=he.samples.length,F=B.samples.length>0,O=He&&R>0||R>1;if((!Le||F)&&(!pe||O)||this.ISGenerated||He){this.ISGenerated||(dt=this.generateIS(B,he,fe));var ne,ue=this.isVideoContiguous,Te=-1;if(O&&(Te=function(Me){for(var Ce=0;Ce<Me.length;Ce++)if(Me[Ce].key)return Ce;return-1}(he.samples),!ue&&this.config.forceKeyFrameOnDiscontinuity))if(V=!0,Te>0){J.logger.warn("[mp4-remuxer]: Dropped "+Te+" out of "+R+" video samples due to a missing keyframe");var De=this.getVideoStartPts(he.samples);he.samples=he.samples.slice(Te),he.dropped+=Te,ne=ve+=(he.samples[0].pts-De)/he.inputTimeScale}else Te===-1&&(J.logger.warn("[mp4-remuxer]: No keyframe found out of "+R+" video samples"),V=!1);if(this.ISGenerated){if(F&&O){var Ae=this.getVideoStartPts(he.samples),Ie=(ee(B.samples[0].pts,Ae)-Ae)/he.inputTimeScale;ce+=Math.max(0,Ie),ve+=Math.max(0,-Ie)}if(F){if(B.samplerate||(J.logger.warn("[mp4-remuxer]: regenerate InitSegment as audio detected"),dt=this.generateIS(B,he,fe)),et=this.remuxAudio(B,ce,this.isAudioContiguous,Ue,pe||O||je===Y.PlaylistLevelType.AUDIO?ve:void 0),O){var ye=et?et.endPTS-et.startPTS:0;he.inputTimeScale||(J.logger.warn("[mp4-remuxer]: regenerate InitSegment as video detected"),dt=this.generateIS(B,he,fe)),Pe=this.remuxVideo(he,ve,ue,ye)}}else O&&(Pe=this.remuxVideo(he,ve,ue,0));Pe&&(Pe.firstKeyFrame=Te,Pe.independent=Te!==-1,Pe.firstKeyFramePTS=ne)}}return this.ISGenerated&&(Ee.samples.length&&(X=ke(Ee,fe,this._initPTS,this._initDTS)),ge.samples.length&&(M=we(ge,fe,this._initPTS))),{audio:et,video:Pe,initSegment:dt,independent:V,text:M,id3:X}},q.generateIS=function(B,he,Ee){var ge,fe,Ue,He=B.samples,je=he.samples,Pe=this.typeSupported,et={},dt=!(0,k.isFiniteNumber)(this._initPTS),M="audio/mp4";if(dt&&(ge=fe=1/0),B.config&&He.length&&(B.timescale=B.samplerate,B.segmentCodec==="mp3"&&(Pe.mpeg?(M="audio/mpeg",B.codec=""):Pe.mp3&&(B.codec="mp3")),et.audio={id:"audio",container:M,codec:B.codec,initSegment:B.segmentCodec==="mp3"&&Pe.mpeg?new Uint8Array(0):w.initSegment([B]),metadata:{channelCount:B.channelCount}},dt&&(Ue=B.inputTimeScale,ge=fe=He[0].pts-Math.round(Ue*Ee))),he.sps&&he.pps&&je.length&&(he.timescale=he.inputTimeScale,et.video={id:"main",container:"video/mp4",codec:he.codec,initSegment:w.initSegment([he]),metadata:{width:he.width,height:he.height}},dt)){Ue=he.inputTimeScale;var X=this.getVideoStartPts(je),V=Math.round(Ue*Ee);fe=Math.min(fe,ee(je[0].dts,X)-V),ge=Math.min(ge,X-V)}if(Object.keys(et).length)return this.ISGenerated=!0,dt&&(this._initPTS=ge,this._initDTS=fe),{tracks:et,initPTS:ge,timescale:Ue}},q.remuxVideo=function(B,he,Ee,ge){var fe,Ue,He=B.inputTimeScale,je=B.samples,Pe=[],et=je.length,dt=this._initPTS,M=this.nextAvcDts,X=8,V=this.videoSampleDuration,ce=Number.POSITIVE_INFINITY,ve=Number.NEGATIVE_INFINITY,Le=!1;Ee&&M!==null||(M=he*He-(je[0].pts-ee(je[0].dts,je[0].pts)));for(var pe=0;pe<et;pe++){var R=je[pe];R.pts=ee(R.pts-dt,M),R.dts=ee(R.dts-dt,M),R.dts<je[pe>0?pe-1:pe].dts&&(Le=!0)}Le&&je.sort(function(Dt,$t){var _r=Dt.dts-$t.dts,ln=Dt.pts-$t.pts;return _r||ln}),fe=je[0].dts;var F=je[je.length-1].dts-fe,O=F?Math.round(F/(et-1)):V||B.inputTimeScale/30;if(Ee){var ne=fe-M,ue=ne>O,Te=ne<-1;if((ue||Te)&&(ue?J.logger.warn("AVC: "+(0,$.toMsFromMpegTsClock)(ne,!0)+" ms ("+ne+"dts) hole between fragments detected, filling it"):J.logger.warn("AVC: "+(0,$.toMsFromMpegTsClock)(-ne,!0)+" ms ("+ne+"dts) overlapping between fragments detected"),!Te||M>je[0].pts)){fe=M;var De=je[0].pts-ne;je[0].dts=fe,je[0].pts=De,J.logger.log("Video: First PTS/DTS adjusted: "+(0,$.toMsFromMpegTsClock)(De,!0)+"/"+(0,$.toMsFromMpegTsClock)(fe,!0)+", delta: "+(0,$.toMsFromMpegTsClock)(ne,!0)+" ms")}}fe=Math.max(0,fe);for(var Ae=0,Ie=0,ye=0;ye<et;ye++){for(var Me=je[ye],Ce=Me.units,Ne=Ce.length,Ve=0,ze=0;ze<Ne;ze++)Ve+=Ce[ze].data.length;Ie+=Ve,Ae+=Ne,Me.length=Ve,Me.dts=Math.max(Me.dts,fe),ce=Math.min(Me.pts,ce),ve=Math.max(Me.pts,ve)}Ue=je[et-1].dts;var it,nt=Ie+4*Ae+8;try{it=new Uint8Array(nt)}catch{return void this.observer.emit(P.Events.ERROR,P.Events.ERROR,{type:oe.ErrorTypes.MUX_ERROR,details:oe.ErrorDetails.REMUX_ALLOC_ERROR,fatal:!1,bytes:nt,reason:"fail allocating video mdat "+nt})}var mt=new DataView(it.buffer);mt.setUint32(0,nt),it.set(w.types.mdat,4);for(var wt=!1,xt=Number.POSITIVE_INFINITY,ie=Number.POSITIVE_INFINITY,K=Number.NEGATIVE_INFINITY,x=Number.NEGATIVE_INFINITY,N=0;N<et;N++){for(var U=je[N],W=U.units,z=0,te=0,be=W.length;te<be;te++){var _e=W[te],Re=_e.data,Fe=_e.data.byteLength;mt.setUint32(X,Fe),X+=4,it.set(Re,X),X+=Fe,z+=4+Fe}var $e=void 0;if(N<et-1)V=je[N+1].dts-U.dts,$e=je[N+1].pts-U.pts;else{var Be=this.config,Je=N>0?U.dts-je[N-1].dts:O;if($e=N>0?U.pts-je[N-1].pts:O,Be.stretchShortVideoTrack&&this.nextAudioPts!==null){var ut=Math.floor(Be.maxBufferHole*He),pt=(ge?ce+ge*He:this.nextAudioPts)-U.pts;pt>ut?((V=pt-Je)<0?V=Je:wt=!0,J.logger.log("[mp4-remuxer]: It is approximately "+pt/90+" ms to the next segment; using duration "+V/90+" ms for the last video frame.")):V=Je}else V=Je}var Xe=Math.round(U.pts-U.dts);xt=Math.min(xt,V),K=Math.max(K,V),ie=Math.min(ie,$e),x=Math.max(x,$e),Pe.push(new Ye(U.key,V,z,Xe))}if(Pe.length){if(ae){if(ae<70){var St=Pe[0].flags;St.dependsOn=2,St.isNonSync=0}}else if(Z&&x-ie<K-xt&&O/K<.025&&Pe[0].cts===0){J.logger.warn("Found irregular gaps in sample duration. Using PTS instead of DTS to determine MP4 sample duration.");for(var Yt=fe,_t=0,Wt=Pe.length;_t<Wt;_t++){var Ut=Yt+Pe[_t].duration,tt=Yt+Pe[_t].cts;if(_t<Wt-1){var Zt=Ut+Pe[_t+1].cts;Pe[_t].duration=Zt-tt}else Pe[_t].duration=_t?Pe[_t-1].duration:O;Pe[_t].cts=0,Yt=Ut}}}V=wt||!V?O:V,this.nextAvcDts=M=Ue+V,this.videoSampleDuration=V,this.isVideoContiguous=!0;var Sr={data1:w.moof(B.sequenceNumber++,fe,H({},B,{samples:Pe})),data2:it,startPTS:ce/He,endPTS:(ve+V)/He,startDTS:fe/He,endDTS:M/He,type:"video",hasAudio:!1,hasVideo:!0,nb:Pe.length,dropped:B.dropped};return B.samples=[],B.dropped=0,Sr},q.remuxAudio=function(B,he,Ee,ge,fe){var Ue=B.inputTimeScale,He=Ue/(B.samplerate?B.samplerate:Ue),je=B.segmentCodec==="aac"?1024:1152,Pe=je*He,et=this._initPTS,dt=B.segmentCodec==="mp3"&&this.typeSupported.mpeg,M=[],X=fe!==void 0,V=B.samples,ce=dt?0:8,ve=this.nextAudioPts||-1,Le=he*Ue;if(this.isAudioContiguous=Ee=Ee||V.length&&ve>0&&(ge&&Math.abs(Le-ve)<9e3||Math.abs(ee(V[0].pts-et,Le)-ve)<20*Pe),V.forEach(function(te){te.pts=ee(te.pts-et,Le)}),!Ee||ve<0){if(V=V.filter(function(te){return te.pts>=0}),!V.length)return;ve=fe===0?0:ge&&!X?Math.max(0,Le):V[0].pts}if(B.segmentCodec==="aac")for(var pe=this.config.maxAudioFramesDrift,R=0,F=ve;R<V.length;R++){var O=V[R],ne=O.pts,ue=ne-F,Te=Math.abs(1e3*ue/Ue);if(ue<=-pe*Pe&&X)R===0&&(J.logger.warn("Audio frame @ "+(ne/Ue).toFixed(3)+"s overlaps nextAudioPts by "+Math.round(1e3*ue/Ue)+" ms."),this.nextAudioPts=ve=F=ne);else if(ue>=pe*Pe&&Te<1e4&&X){var De=Math.round(ue/Pe);(F=ne-De*Pe)<0&&(De--,F+=Pe),R===0&&(this.nextAudioPts=ve=F),J.logger.warn("[mp4-remuxer]: Injecting "+De+" audio frame @ "+(F/Ue).toFixed(3)+"s due to "+Math.round(1e3*ue/Ue)+" ms gap.");for(var Ae=0;Ae<De;Ae++){var Ie=Math.max(F,0),ye=_.getSilentFrame(B.manifestCodec||B.codec,B.channelCount);ye||(J.logger.log("[mp4-remuxer]: Unable to get silent frame for given audio codec; duplicating last frame instead."),ye=O.unit.subarray()),V.splice(R,0,{unit:ye,pts:Ie}),F+=Pe,R++}}O.pts=F,F+=Pe}for(var Me,Ce=null,Ne=null,Ve=0,ze=V.length;ze--;)Ve+=V[ze].unit.byteLength;for(var it=0,nt=V.length;it<nt;it++){var mt=V[it],wt=mt.unit,xt=mt.pts;if(Ne!==null)M[it-1].duration=Math.round((xt-Ne)/He);else{if(Ee&&B.segmentCodec==="aac"&&(xt=ve),Ce=xt,!(Ve>0))return;Ve+=ce;try{Me=new Uint8Array(Ve)}catch{return void this.observer.emit(P.Events.ERROR,P.Events.ERROR,{type:oe.ErrorTypes.MUX_ERROR,details:oe.ErrorDetails.REMUX_ALLOC_ERROR,fatal:!1,bytes:Ve,reason:"fail allocating audio mdat "+Ve})}dt||(new DataView(Me.buffer).setUint32(0,Ve),Me.set(w.types.mdat,4))}Me.set(wt,ce);var ie=wt.byteLength;ce+=ie,M.push(new Ye(!0,je,ie,0)),Ne=xt}var K=M.length;if(K){var x=M[M.length-1];this.nextAudioPts=ve=Ne+He*x.duration;var N=dt?new Uint8Array(0):w.moof(B.sequenceNumber++,Ce/He,H({},B,{samples:M}));B.samples=[];var U=Ce/Ue,W=ve/Ue,z={data1:N,data2:Me,startPTS:U,endPTS:W,startDTS:U,endDTS:W,type:"audio",hasAudio:!0,hasVideo:!1,nb:K};return this.isAudioContiguous=!0,z}},q.remuxEmptyAudio=function(B,he,Ee,ge){var fe=B.inputTimeScale,Ue=fe/(B.samplerate?B.samplerate:fe),He=this.nextAudioPts,je=(He!==null?He:ge.startDTS*fe)+this._initDTS,Pe=ge.endDTS*fe+this._initDTS,et=1024*Ue,dt=Math.ceil((Pe-je)/et),M=_.getSilentFrame(B.manifestCodec||B.codec,B.channelCount);if(J.logger.warn("[mp4-remuxer]: remux empty Audio"),M){for(var X=[],V=0;V<dt;V++){var ce=je+V*et;X.push({unit:M,pts:ce,dts:ce})}return B.samples=X,this.remuxAudio(B,he,Ee,!1)}J.logger.trace("[mp4-remuxer]: Unable to remuxEmptyAudio since we were unable to get a silent frame for given audio codec")},I}();function ee(I,q){var B;if(q===null)return I;for(B=q<I?-8589934592:8589934592;Math.abs(I-q)>4294967296;)I+=B;return I}function ke(I,q,B,he){var Ee=I.samples.length;if(Ee){for(var ge=I.inputTimeScale,fe=0;fe<Ee;fe++){var Ue=I.samples[fe];Ue.pts=ee(Ue.pts-B,q*ge)/ge,Ue.dts=ee(Ue.dts-he,q*ge)/ge}var He=I.samples;return I.samples=[],{samples:He}}}function we(I,q,B){var he=I.samples.length;if(he){for(var Ee=I.inputTimeScale,ge=0;ge<he;ge++){var fe=I.samples[ge];fe.pts=ee(fe.pts-B,q*Ee)/Ee}I.samples.sort(function(He,je){return He.pts-je.pts});var Ue=I.samples;return I.samples=[],{samples:Ue}}}var Ye=function(I,q,B,he){this.size=void 0,this.duration=void 0,this.cts=void 0,this.flags=void 0,this.duration=q,this.size=B,this.cts=he,this.flags=new se(I)},se=function(I){this.isLeading=0,this.isDependedOn=0,this.hasRedundancy=0,this.degradPrio=0,this.dependsOn=1,this.isNonSync=1,this.dependsOn=I?2:1,this.isNonSync=I?0:1}},856:(E,S,b)=>{var k;b.r(S),b.d(S,{MetadataSchema:()=>k}),function(_){_.audioId3="org.id3",_.dateRange="com.apple.quicktime.HLS",_.emsg="https://aomedia.org/emsg/ID3"}(k||(k={}))},308:(E,S,b)=>{var k,_;b.r(S),b.d(S,{PlaylistContextType:()=>k,PlaylistLevelType:()=>_}),function(A){A.MANIFEST="manifest",A.LEVEL="level",A.AUDIO_TRACK="audioTrack",A.SUBTITLE_TRACK="subtitleTrack"}(k||(k={})),function(A){A.MAIN="main",A.AUDIO="audio",A.SUBTITLE="subtitle"}(_||(_={}))},300:(E,S,b)=>{b.r(S),b.d(S,{default:()=>k});const k={hexDump:function(_){for(var A="",y=0;y<_.length;y++){var w=_[y].toString(16);w.length<2&&(w="0"+w),A+=w}return A}}},93:(E,S,b)=>{b.r(S),b.d(S,{enableLogs:()=>w,logger:()=>P});var k=function(){},_={trace:k,debug:k,log:k,warn:k,info:k,error:k},A=_;function y(oe){var J=self.console[oe];return J?J.bind(self.console,"["+oe+"] >"):k}function w(oe,J){if(self.console&&oe===!0||typeof oe=="object"){(function(Y){for(var $=arguments.length,H=new Array($>1?$-1:0),ae=1;ae<$;ae++)H[ae-1]=arguments[ae];H.forEach(function(Z){A[Z]=Y[Z]?Y[Z].bind(Y):y(Z)})})(oe,"debug","log","info","warn","error");try{A.log('Debug logs enabled for "'+J+'"')}catch{A=_}}else A=_}var P=_},63:(E,S,b)=>{b.r(S),b.d(S,{RemuxerTrackIdConfig:()=>J,appendUint8Array:()=>Ee,bin2str:()=>Y,computeRawDurationFromSamples:()=>q,discardEPB:()=>He,findBox:()=>re,getDuration:()=>I,getStartDTS:()=>se,mp4Box:()=>Pe,mp4pssh:()=>et,offsetStartDTS:()=>B,parseEmsg:()=>je,parseInitSegment:()=>ke,parsePssh:()=>dt,parseSEIMessageFromNALu:()=>Ue,parseSamples:()=>ge,parseSegmentIndex:()=>ee,parseSinf:()=>Ye,patchEncyptionData:()=>we,readSint32:()=>ae,readUint16:()=>$,readUint32:()=>H,segmentValidRange:()=>he,writeUint32:()=>Z});var k=b(923),_=b(145),A=b(181),y=b(93),w=b(300),P=Math.pow(2,32)-1,oe=[].push,J={video:1,audio:2,id3:3,text:4};function Y(M){return String.fromCharCode.apply(null,M)}function $(M,X){var V=M[X]<<8|M[X+1];return V<0?65536+V:V}function H(M,X){var V=ae(M,X);return V<0?4294967296+V:V}function ae(M,X){return M[X]<<24|M[X+1]<<16|M[X+2]<<8|M[X+3]}function Z(M,X,V){M[X]=V>>24,M[X+1]=V>>16&255,M[X+2]=V>>8&255,M[X+3]=255&V}function re(M,X){var V=[];if(!X.length)return V;for(var ce=M.byteLength,ve=0;ve<ce;){var Le=H(M,ve),pe=Le>1?ve+Le:ce;if(Y(M.subarray(ve+4,ve+8))===X[0])if(X.length===1)V.push(M.subarray(ve+8,pe));else{var R=re(M.subarray(ve+8,pe),X.slice(1));R.length&&oe.apply(V,R)}ve=pe}return V}function ee(M){var X=[],V=M[0],ce=8,ve=H(M,ce);ce+=4,ce+=V===0?8:16,ce+=2;var Le=M.length+0,pe=$(M,ce);ce+=2;for(var R=0;R<pe;R++){var F=ce,O=H(M,F);F+=4;var ne=2147483647&O;if((2147483648&O)>>>31==1)return console.warn("SIDX has hierarchical references (not supported)"),null;var ue=H(M,F);F+=4,X.push({referenceSize:ne,subsegmentDuration:ue,info:{duration:ue/ve,start:Le,end:Le+ne-1}}),Le+=ne,ce=F+=4}return{earliestPresentationTime:0,timescale:ve,version:V,referencesCount:pe,references:X}}function ke(M){for(var X=[],V=re(M,["moov","trak"]),ce=0;ce<V.length;ce++){var ve=V[ce],Le=re(ve,["tkhd"])[0];if(Le){var pe=Le[0],R=pe===0?12:20,F=H(Le,R),O=re(ve,["mdia","mdhd"])[0];if(O){var ne=H(O,R=(pe=O[0])===0?12:20),ue=re(ve,["mdia","hdlr"])[0];if(ue){var Te=Y(ue.subarray(8,12)),De={soun:k.ElementaryStreamTypes.AUDIO,vide:k.ElementaryStreamTypes.VIDEO}[Te];if(De){var Ae=re(ve,["mdia","minf","stbl","stsd"])[0],Ie=void 0;Ae&&(Ie=Y(Ae.subarray(12,16))),X[F]={timescale:ne,type:De},X[De]={timescale:ne,id:F,codec:Ie}}}}}}return re(M,["moov","mvex","trex"]).forEach(function(ye){var Me=H(ye,4),Ce=X[Me];Ce&&(Ce.default={duration:H(ye,12),flags:H(ye,20)})}),X}function we(M,X){if(!M||!X)return M;var V=X.keyId;return V&&X.isCommonEncryption&&re(M,["moov","trak"]).forEach(function(ce){var ve=re(ce,["mdia","minf","stbl","stsd"])[0].subarray(8),Le=re(ve,["enca"]),pe=Le.length>0;pe||(Le=re(ve,["encv"])),Le.forEach(function(R){re(pe?R.subarray(28):R.subarray(78),["sinf"]).forEach(function(F){var O=Ye(F);if(O){var ne=O.subarray(8,24);ne.some(function(ue){return ue!==0})||(y.logger.log("[eme] Patching keyId in 'enc"+(pe?"a":"v")+">sinf>>tenc' box: "+w.default.hexDump(ne)+" -> "+w.default.hexDump(V)),O.set(V,8))}})})}),M}function Ye(M){var X=re(M,["schm"])[0];if(X){var V=Y(X.subarray(4,8));if(V==="cbcs"||V==="cenc")return re(M,["schi","tenc"])[0]}return y.logger.error("[eme] missing 'schm' box"),null}function se(M,X){return re(X,["moof","traf"]).reduce(function(V,ce){var ve=re(ce,["tfdt"])[0],Le=ve[0],pe=re(ce,["tfhd"]).reduce(function(R,F){var O=H(F,4),ne=M[O];if(ne){var ue=H(ve,4);Le===1&&(ue*=Math.pow(2,32),ue+=H(ve,8));var Te=ue/(ne.timescale||9e4);if(isFinite(Te)&&(R===null||Te<R))return Te}return R},null);return pe!==null&&isFinite(pe)&&(V===null||pe<V)?pe:V},null)||0}function I(M,X){for(var V=0,ce=0,ve=0,Le=re(M,["moof","traf"]),pe=0;pe<Le.length;pe++){var R=Le[pe],F=re(R,["tfhd"])[0],O=X[H(F,4)];if(O){var ne=O.default,ue=H(F,0)|(ne==null?void 0:ne.flags),Te=ne==null?void 0:ne.duration;8&ue&&(Te=H(F,2&ue?12:8));for(var De=O.timescale||9e4,Ae=re(R,["trun"]),Ie=0;Ie<Ae.length;Ie++)!(V=q(Ae[Ie]))&&Te&&(V=Te*H(Ae[Ie],4)),O.type===k.ElementaryStreamTypes.VIDEO?ce+=V/De:O.type===k.ElementaryStreamTypes.AUDIO&&(ve+=V/De)}}if(ce===0&&ve===0){for(var ye=0,Me=re(M,["sidx"]),Ce=0;Ce<Me.length;Ce++){var Ne=ee(Me[Ce]);Ne!=null&&Ne.references&&(ye+=Ne.references.reduce(function(Ve,ze){return Ve+ze.info.duration||0},0))}return ye}return ce||ve}function q(M){var X=H(M,0),V=8;1&X&&(V+=4),4&X&&(V+=4);for(var ce=0,ve=H(M,4),Le=0;Le<ve;Le++)256&X&&(ce+=H(M,V),V+=4),512&X&&(V+=4),1024&X&&(V+=4),2048&X&&(V+=4);return ce}function B(M,X,V){re(X,["moof","traf"]).forEach(function(ce){re(ce,["tfhd"]).forEach(function(ve){var Le=H(ve,4),pe=M[Le];if(pe){var R=pe.timescale||9e4;re(ce,["tfdt"]).forEach(function(F){var O=F[0],ne=H(F,4);if(O===0)ne-=V*R,Z(F,4,ne=Math.max(ne,0));else{ne*=Math.pow(2,32),ne+=H(F,8),ne-=V*R,ne=Math.max(ne,0);var ue=Math.floor(ne/(P+1)),Te=Math.floor(ne%(P+1));Z(F,4,ue),Z(F,8,Te)}})}})})}function he(M){var X={valid:null,remainder:null},V=re(M,["moof"]);if(!V)return X;if(V.length<2)return X.remainder=M,X;var ce=V[V.length-1];return X.valid=(0,_.sliceUint8)(M,0,ce.byteOffset-8),X.remainder=(0,_.sliceUint8)(M,ce.byteOffset-8),X}function Ee(M,X){var V=new Uint8Array(M.length+X.length);return V.set(M),V.set(X,M.length),V}function ge(M,X){var V=[],ce=X.samples,ve=X.timescale,Le=X.id,pe=!1;return re(ce,["moof"]).map(function(R){var F=R.byteOffset-8;re(R,["traf"]).map(function(O){var ne=re(O,["tfdt"]).map(function(ue){var Te=ue[0],De=H(ue,4);return Te===1&&(De*=Math.pow(2,32),De+=H(ue,8)),De/ve})[0];return ne!==void 0&&(M=ne),re(O,["tfhd"]).map(function(ue){var Te=H(ue,4),De=16777215&H(ue,0),Ae=0,Ie=(16&De)!=0,ye=0,Me=(32&De)!=0,Ce=8;Te===Le&&(1&De&&(Ce+=8),2&De&&(Ce+=4),8&De&&(Ae=H(ue,Ce),Ce+=4),Ie&&(ye=H(ue,Ce),Ce+=4),Me&&(Ce+=4),X.type==="video"&&(pe=function(Ne){if(!Ne)return!1;var Ve=Ne.indexOf("."),ze=Ve<0?Ne:Ne.substring(0,Ve);return ze==="hvc1"||ze==="hev1"||ze==="dvh1"||ze==="dvhe"}(X.codec)),re(O,["trun"]).map(function(Ne){var Ve=Ne[0],ze=16777215&H(Ne,0),it=(1&ze)!=0,nt=0,mt=(4&ze)!=0,wt=(256&ze)!=0,xt=0,ie=(512&ze)!=0,K=0,x=(1024&ze)!=0,N=(2048&ze)!=0,U=0,W=H(Ne,4),z=8;it&&(nt=H(Ne,z),z+=4),mt&&(z+=4);for(var te=nt+F,be=0;be<W;be++){if(wt?(xt=H(Ne,z),z+=4):xt=Ae,ie?(K=H(Ne,z),z+=4):K=ye,x&&(z+=4),N&&(U=Ve===0?H(Ne,z):ae(Ne,z),z+=4),X.type===k.ElementaryStreamTypes.VIDEO)for(var _e=0;_e<K;){var Re=H(ce,te);fe(pe,ce[te+=4])&&Ue(ce.subarray(te,te+Re),pe?2:1,M+U/ve,V),te+=Re,_e+=Re+4}M+=xt/ve}}))})})}),V}function fe(M,X){if(M){var V=X>>1&63;return V===39||V===40}return(31&X)==6}function Ue(M,X,V,ce){var ve=He(M),Le=0;Le+=X;for(var pe=0,R=0,F=!1,O=0;Le<ve.length;){pe=0;do{if(Le>=ve.length)break;pe+=O=ve[Le++]}while(O===255);R=0;do{if(Le>=ve.length)break;R+=O=ve[Le++]}while(O===255);var ne=ve.length-Le;if(!F&&pe===4&&Le<ve.length){if(F=!0,ve[Le++]===181){var ue=$(ve,Le);if(Le+=2,ue===49){var Te=H(ve,Le);if(Le+=4,Te===1195456820){var De=ve[Le++];if(De===3){var Ae=ve[Le++],Ie=64&Ae,ye=Ie?2+3*(31&Ae):0,Me=new Uint8Array(ye);if(Ie){Me[0]=Ae;for(var Ce=1;Ce<ye;Ce++)Me[Ce]=ve[Le++]}ce.push({type:De,payloadType:pe,pts:V,bytes:Me})}}}}}else if(pe===5&&R<ne){if(F=!0,R>16){for(var Ne=[],Ve=0;Ve<16;Ve++){var ze=ve[Le++].toString(16);Ne.push(ze.length==1?"0"+ze:ze),Ve!==3&&Ve!==5&&Ve!==7&&Ve!==9||Ne.push("-")}for(var it=R-16,nt=new Uint8Array(it),mt=0;mt<it;mt++)nt[mt]=ve[Le++];ce.push({payloadType:pe,pts:V,uuid:Ne.join(""),userData:(0,A.utf8ArrayToStr)(nt),userDataBytes:nt})}}else if(R<ne)Le+=R;else if(R>ne)break}}function He(M){for(var X=M.byteLength,V=[],ce=1;ce<X-2;)M[ce]===0&&M[ce+1]===0&&M[ce+2]===3?(V.push(ce+2),ce+=2):ce++;if(V.length===0)return M;var ve=X-V.length,Le=new Uint8Array(ve),pe=0;for(ce=0;ce<ve;pe++,ce++)pe===V[0]&&(pe++,V.shift()),Le[ce]=M[pe];return Le}function je(M){var X=M[0],V="",ce="",ve=0,Le=0,pe=0,R=0,F=0,O=0;if(X===0){for(;Y(M.subarray(O,O+1))!=="\0";)V+=Y(M.subarray(O,O+1)),O+=1;for(V+=Y(M.subarray(O,O+1)),O+=1;Y(M.subarray(O,O+1))!=="\0";)ce+=Y(M.subarray(O,O+1)),O+=1;ce+=Y(M.subarray(O,O+1)),O+=1,ve=H(M,12),Le=H(M,16),R=H(M,20),F=H(M,24),O=28}else if(X===1){ve=H(M,O+=4);var ne=H(M,O+=4),ue=H(M,O+=4);for(O+=4,pe=Math.pow(2,32)*ne+ue,Number.isSafeInteger(pe)||(pe=Number.MAX_SAFE_INTEGER,console.warn("Presentation time exceeds safe integer limit and wrapped to max safe integer in parsing emsg box")),R=H(M,O),F=H(M,O+=4),O+=4;Y(M.subarray(O,O+1))!=="\0";)V+=Y(M.subarray(O,O+1)),O+=1;for(V+=Y(M.subarray(O,O+1)),O+=1;Y(M.subarray(O,O+1))!=="\0";)ce+=Y(M.subarray(O,O+1)),O+=1;ce+=Y(M.subarray(O,O+1)),O+=1}return{schemeIdUri:V,value:ce,timeScale:ve,presentationTime:pe,presentationTimeDelta:Le,eventDuration:R,id:F,payload:M.subarray(O,M.byteLength)}}function Pe(M){for(var X=arguments.length,V=new Array(X>1?X-1:0),ce=1;ce<X;ce++)V[ce-1]=arguments[ce];for(var ve=V.length,Le=8,pe=ve;pe--;)Le+=V[pe].byteLength;var R=new Uint8Array(Le);for(R[0]=Le>>24&255,R[1]=Le>>16&255,R[2]=Le>>8&255,R[3]=255&Le,R.set(M,4),pe=0,Le=8;pe<ve;pe++)R.set(V[pe],Le),Le+=V[pe].byteLength;return R}function et(M,X,V){if(M.byteLength!==16)throw new RangeError("Invalid system id");var ce,ve,Le;if(X){ce=1,ve=new Uint8Array(16*X.length);for(var pe=0;pe<X.length;pe++){var R=X[pe];if(R.byteLength!==16)throw new RangeError("Invalid key");ve.set(R,16*pe)}}else ce=0,ve=new Uint8Array;ce>0?(Le=new Uint8Array(4),X.length>0&&new DataView(Le.buffer).setUint32(0,X.length,!1)):Le=new Uint8Array;var F=new Uint8Array(4);return V&&V.byteLength>0&&new DataView(F.buffer).setUint32(0,V.byteLength,!1),Pe([112,115,115,104],new Uint8Array([ce,0,0,0]),M,Le,ve,F,V||new Uint8Array)}function dt(M){if(!(M instanceof ArrayBuffer)||M.byteLength<32)return null;var X={version:0,systemId:"",kids:null,data:null},V=new DataView(M),ce=V.getUint32(0);if(M.byteLength!==ce&&ce>44||V.getUint32(4)!==1886614376||(X.version=V.getUint32(8)>>>24,X.version>1))return null;X.systemId=w.default.hexDump(new Uint8Array(M,12,16));var ve=V.getUint32(28);if(X.version===0){if(ce-32<ve)return null;X.data=new Uint8Array(M,32,ve)}else if(X.version===1){X.kids=[];for(var Le=0;Le<ve;Le++)X.kids.push(new Uint8Array(M,32+16*Le,16))}return X}},673:(E,S,b)=>{function k(w,P,oe,J){oe===void 0&&(oe=1),J===void 0&&(J=!1);var Y=w*P*oe;return J?Math.round(Y):Y}function _(w,P,oe,J){return oe===void 0&&(oe=1),J===void 0&&(J=!1),k(w,P,1/oe,J)}function A(w,P){return P===void 0&&(P=!1),k(w,1e3,11111111111111112e-21,P)}function y(w,P){return P===void 0&&(P=1),k(w,9e4,1/P)}b.r(S),b.d(S,{toMpegTsClockFromTimescale:()=>y,toMsFromMpegTsClock:()=>A,toTimescaleFromBase:()=>k,toTimescaleFromScale:()=>_})},145:(E,S,b)=>{function k(_,A,y){return Uint8Array.prototype.slice?_.slice(A,y):new Uint8Array(Array.prototype.slice.call(_,A,y))}b.r(S),b.d(S,{sliceUint8:()=>k})},729:E=>{var S=Object.prototype.hasOwnProperty,b="~";function k(){}function _(P,oe,J){this.fn=P,this.context=oe,this.once=J||!1}function A(P,oe,J,Y,$){if(typeof J!="function")throw new TypeError("The listener must be a function");var H=new _(J,Y||P,$),ae=b?b+oe:oe;return P._events[ae]?P._events[ae].fn?P._events[ae]=[P._events[ae],H]:P._events[ae].push(H):(P._events[ae]=H,P._eventsCount++),P}function y(P,oe){--P._eventsCount==0?P._events=new k:delete P._events[oe]}function w(){this._events=new k,this._eventsCount=0}Object.create&&(k.prototype=Object.create(null),new k().__proto__||(b=!1)),w.prototype.eventNames=function(){var P,oe,J=[];if(this._eventsCount===0)return J;for(oe in P=this._events)S.call(P,oe)&&J.push(b?oe.slice(1):oe);return Object.getOwnPropertySymbols?J.concat(Object.getOwnPropertySymbols(P)):J},w.prototype.listeners=function(P){var oe=b?b+P:P,J=this._events[oe];if(!J)return[];if(J.fn)return[J.fn];for(var Y=0,$=J.length,H=new Array($);Y<$;Y++)H[Y]=J[Y].fn;return H},w.prototype.listenerCount=function(P){var oe=b?b+P:P,J=this._events[oe];return J?J.fn?1:J.length:0},w.prototype.emit=function(P,oe,J,Y,$,H){var ae=b?b+P:P;if(!this._events[ae])return!1;var Z,re,ee=this._events[ae],ke=arguments.length;if(ee.fn){switch(ee.once&&this.removeListener(P,ee.fn,void 0,!0),ke){case 1:return ee.fn.call(ee.context),!0;case 2:return ee.fn.call(ee.context,oe),!0;case 3:return ee.fn.call(ee.context,oe,J),!0;case 4:return ee.fn.call(ee.context,oe,J,Y),!0;case 5:return ee.fn.call(ee.context,oe,J,Y,$),!0;case 6:return ee.fn.call(ee.context,oe,J,Y,$,H),!0}for(re=1,Z=new Array(ke-1);re<ke;re++)Z[re-1]=arguments[re];ee.fn.apply(ee.context,Z)}else{var we,Ye=ee.length;for(re=0;re<Ye;re++)switch(ee[re].once&&this.removeListener(P,ee[re].fn,void 0,!0),ke){case 1:ee[re].fn.call(ee[re].context);break;case 2:ee[re].fn.call(ee[re].context,oe);break;case 3:ee[re].fn.call(ee[re].context,oe,J);break;case 4:ee[re].fn.call(ee[re].context,oe,J,Y);break;default:if(!Z)for(we=1,Z=new Array(ke-1);we<ke;we++)Z[we-1]=arguments[we];ee[re].fn.apply(ee[re].context,Z)}}return!0},w.prototype.on=function(P,oe,J){return A(this,P,oe,J,!1)},w.prototype.once=function(P,oe,J){return A(this,P,oe,J,!0)},w.prototype.removeListener=function(P,oe,J,Y){var $=b?b+P:P;if(!this._events[$])return this;if(!oe)return y(this,$),this;var H=this._events[$];if(H.fn)H.fn!==oe||Y&&!H.once||J&&H.context!==J||y(this,$);else{for(var ae=0,Z=[],re=H.length;ae<re;ae++)(H[ae].fn!==oe||Y&&!H[ae].once||J&&H[ae].context!==J)&&Z.push(H[ae]);Z.length?this._events[$]=Z.length===1?Z[0]:Z:y(this,$)}return this},w.prototype.removeAllListeners=function(P){var oe;return P?(oe=b?b+P:P,this._events[oe]&&y(this,oe)):(this._events=new k,this._eventsCount=0),this},w.prototype.off=w.prototype.removeListener,w.prototype.addListener=w.prototype.on,w.prefixed=b,w.EventEmitter=w,E.exports=w},945:function(E){var S,b,k,_,A;S=/^(?=((?:[a-zA-Z0-9+\-.]+:)?))\1(?=((?:\/\/[^\/?#]*)?))\2(?=((?:(?:[^?#\/]*\/)*[^;?#\/]*)?))\3((?:;[^?#]*)?)(\?[^#]*)?(#[^]*)?$/,b=/^(?=([^\/?#]*))\1([^]*)$/,k=/(?:\/|^)\.(?=\/)/g,_=/(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g,A={buildAbsoluteURL:function(y,w,P){if(P=P||{},y=y.trim(),!(w=w.trim())){if(!P.alwaysNormalize)return y;var oe=A.parseURL(y);if(!oe)throw new Error("Error trying to parse base URL.");return oe.path=A.normalizePath(oe.path),A.buildURLFromParts(oe)}var J=A.parseURL(w);if(!J)throw new Error("Error trying to parse relative URL.");if(J.scheme)return P.alwaysNormalize?(J.path=A.normalizePath(J.path),A.buildURLFromParts(J)):w;var Y=A.parseURL(y);if(!Y)throw new Error("Error trying to parse base URL.");if(!Y.netLoc&&Y.path&&Y.path[0]!=="/"){var $=b.exec(Y.path);Y.netLoc=$[1],Y.path=$[2]}Y.netLoc&&!Y.path&&(Y.path="/");var H={scheme:Y.scheme,netLoc:J.netLoc,path:null,params:J.params,query:J.query,fragment:J.fragment};if(!J.netLoc&&(H.netLoc=Y.netLoc,J.path[0]!=="/"))if(J.path){var ae=Y.path,Z=ae.substring(0,ae.lastIndexOf("/")+1)+J.path;H.path=A.normalizePath(Z)}else H.path=Y.path,J.params||(H.params=Y.params,J.query||(H.query=Y.query));return H.path===null&&(H.path=P.alwaysNormalize?A.normalizePath(J.path):J.path),A.buildURLFromParts(H)},parseURL:function(y){var w=S.exec(y);return w?{scheme:w[1]||"",netLoc:w[2]||"",path:w[3]||"",params:w[4]||"",query:w[5]||"",fragment:w[6]||""}:null},normalizePath:function(y){for(y=y.split("").reverse().join("").replace(k,"");y.length!==(y=y.replace(_,"")).length;);return y.split("").reverse().join("")},buildURLFromParts:function(y){return y.scheme+y.netLoc+y.path+y.params+y.query+y.fragment}},E.exports=A}},c={};function h(E){var S=c[E];if(S!==void 0)return S.exports;var b=c[E]={exports:{}};return o[E].call(b.exports,b,b.exports,h),b.exports}h.m=o,h.n=E=>{var S=E&&E.__esModule?()=>E.default:()=>E;return h.d(S,{a:S}),S},h.d=(E,S)=>{for(var b in S)h.o(S,b)&&!h.o(E,b)&&Object.defineProperty(E,b,{enumerable:!0,get:S[b]})},h.o=(E,S)=>Object.prototype.hasOwnProperty.call(E,S),h.r=E=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(E,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(E,"__esModule",{value:!0})};var p=h(76);return p.default})())})(i0);const Ws=n0(So);async function a0(e,r){try{let o=new Ws;o.on(Ws.Events.MEDIA_ATTACHED,function(){console.log("video and hls.js are now bound together !")}),o.on(Ws.Events.MANIFEST_PARSED,function(c,h){console.log("manifest loaded, found "+h.levels.length+" quality level")}),o.loadSource(r),o.attachMedia(e)}catch(o){console.log(o)}}const s0={id:"hover-video",class:"rounded-xl",controls:""},o0={__name:"VideoComponent",props:["id","video","poster"],setup(e){const r=e,o=async()=>{const p=tr(document.querySelector("#hover-video"));await a0(p.value,r.video)},c=p=>{const E=tr(document.querySelector("#hover-video"));p.key==="ArrowUp"&&p.ctrlKey&&(E.value.playbackRate=E.value.playbackRate+.25,console.log("increase",E.value.playbackRate))},h=p=>{const E=tr(document.querySelector("#hover-video"));p.key==="ArrowDown"&&p.ctrlKey&&E.value.playbackRate>.5&&(E.value.playbackRate=E.value.playbackRate-.25,console.log("decrease",E.value.playbackRate))};return Na(()=>{o(),document.addEventListener("keydown",c),document.addEventListener("keydown",h)}),Yc(()=>{o()}),Wc(()=>{document.removeEventListener("keydown",c),document.removeEventListener("keydown",h)}),(p,E)=>(at(),yt("video",s0))}},Jf=Cr(o0,[["__scopeId","data-v-64e26c4d"]]),l0={class:"skills-list flex flex-wrap content-around"},Zf={__name:"SkillsListComponent",props:["skills"],setup(e){return(r,o)=>(at(),yt("ul",l0,[(at(!0),yt(Gt,null,Mi(e.skills,(c,h)=>(at(),yt("li",{class:"m-2 py-1 px-3 bg-teal-300 border border-solid border-teal-400 rounded-xl",key:h},zt(c),1))),128))]))}},u0={class:"flex mt-6"},ed={__name:"RatingCourseComponent",props:["rating"],setup(e){const r=e,o=Lt(()=>{const h=[],p="fa-solid fa-star",E="fa-solid fa-star-half-stroke",S="fa-regular fa-star",b=Math.floor(r.rating),k=5-r.rating,_=r.rating-b>=.5?1:0,A=k-_;for(let y=0;y<b;y++)h.push(p);_&&h.push(E);for(let y=0;y<A;y++)h.push(S);return h});return(c,h)=>{const p=Vn("font-awesome-icon");return at(),yt("div",u0,[(at(!0),yt(Gt,null,Mi(or(o),(E,S)=>(at(),yt("div",{key:S},[Tt(p,{icon:E,class:"text-orange-400 h-6 w-6 flex-shrink-0"},null,8,["icon"])]))),128)),Qe("p",null,zt(r.rating),1)])}}};const c0=e=>(Zn("data-v-733bcbac"),e=e(),ei(),e),f0={class:"mb-6 md:text-2xl text-xl uppercase font-bold text-teal-500"},d0={class:"description-course grid gap-6"},h0=["src","alt"],g0={class:"detail"},v0={class:"font-bold"},m0={class:"inline-block ml-3 py-1 px-3 bg-orange-300 border border-solid border-orange-400 rounded-sm"},p0={class:"ml-20"},y0={class:"text-orange-500 text-lg"},E0=c0(()=>Qe("span",{class:"text-black ml-3"},"Duration:",-1)),b0={class:"inline-block ml-3 py-1 px-3 bg-orange-300 border border-solid border-orange-400 rounded-sm text-black"},T0={__name:"CoursesItemComponent",props:["course","idx"],setup(e){const r=tr(!1);return(o,c)=>{const h=Vn("font-awesome-icon"),p=Vn("router-link");return at(),yt("article",{onMouseover:c[0]||(c[0]=E=>r.value=!0),onMouseleave:c[1]||(c[1]=E=>r.value=!1),class:"m-4 md:my-6 md:p-6 p-3 bg-slate-200 rounded-2xl border border-solid border-gray-300 cursor-pointer hover:bg-slate-300 hover:border-gray-400 transition-all"},[Tt(p,{to:`courses/${e.course.id}`},{default:Bc(()=>{var E;return[Qe("h2",f0,zt(e.course.title),1),Qe("div",d0,[!r.value||e.course.meta.courseVideoPreview===void 0?(at(),yt("img",{key:0,class:"rounded-xl mb-12",src:e.course.previewImageLink+"/cover.webp",alt:e.course.title},null,8,h0)):lr("",!0),r.value&&e.course.meta.courseVideoPreview?(at(),Hr(Jf,{key:1,id:e.course.id,video:(E=e.course.meta.courseVideoPreview)==null?void 0:E.link,poster:e.course.previewImageLink+"/cover.webp",autoplay:"",muted:""},null,8,["id","video","poster"])):lr("",!0),Qe("div",g0,[Qe("p",v0,[pr("Count of lessons: "),Qe("span",m0,zt(e.course.lessonsCount),1),Qe("span",p0,[Qe("span",y0,[Tt(h,{icon:"fa-regular fa-hourglass"})]),E0,Qe("span",b0,zt(e.course.duration),1)])]),Tt(Zf,{skills:e.course.meta.skills},null,8,["skills"]),Tt(ed,{rating:e.course.rating},null,8,["rating"])])])]}),_:1},8,["to"])],32)}}},S0=Cr(T0,[["__scopeId","data-v-733bcbac"]]),td=new Headers;td.append("Authorization","Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiI3MWE2ODllNy01MmJlLTQyMTgtOGRlZS1kNGNhN2NlNjQ2OGIiLCJwbGF0Zm9ybSI6InN1YnNjcmlwdGlvbnMiLCJpYXQiOjE2Nzg3NTU5MjgsImV4cCI6MTY3OTY1NTkyOH0.lzriIjuWW7MpK9QFWWSJdPm_wZZqPPccvVYL_wWgHXc");const lc={method:"GET",headers:td,redirect:"follow"};class rd{constructor(){Cs(this,"getCourses",async()=>await fetch("https://api.wisey.app/api/v1/core/preview-courses",lc).then(r=>r.json()).then(r=>r.courses).catch(r=>console.log("error",r)));Cs(this,"getDetailCourse",async r=>await fetch(`https://api.wisey.app/api/v1/core/preview-courses/${r}`,lc).then(o=>o.json()).catch(o=>console.log("error",o)))}}const _0=e=>(Zn("data-v-fe54099d"),e=e(),ei(),e),A0={class:"bg-slate-100 box-content py-1"},k0={class:"container my-0 mx-auto py-4"},L0=_0(()=>Qe("h1",{class:"text-5xl font-bold text-teal-700 my-4 ml-4"},"List of Courses",-1)),w0={class:"my-6"},R0={__name:"CoursesListComponent",emits:["nextPage","previousPage","changePage"],setup(e){const r=new rd,o=tr([]),c=tr(1),h=async()=>{const b=await r.getCourses();o.value=b};Na(()=>{h()});const p=Lt(()=>{const b=(c.value-1)*10,k=c.value*10;return[...o.value].slice(b,k)}),E=Lt(()=>(c.value-1)*10+1),S=Lt(()=>c.value*10);return(b,k)=>(at(),yt("main",A0,[Qe("div",k0,[L0,Tt(t0,{page:c.value,start:or(E),end:or(S),onNextPage:k[0]||(k[0]=_=>c.value=c.value+1),onPreviousPage:k[1]||(k[1]=_=>c.value=c.value-1),onChangePage:k[2]||(k[2]=_=>c.value=_),maxCountOnPage:10,allCount:o.value.length},null,8,["page","start","end","allCount"]),Qe("section",w0,[(at(!0),yt(Gt,null,Mi(or(p),(_,A)=>(at(),Hr(S0,{key:_.id,course:_,idx:A},null,8,["course","idx"]))),128))])])]))}},x0=Cr(R0,[["__scopeId","data-v-fe54099d"]]),D0="/tech-task-genesis-frontend-school/images/logo.webp";const I0={},C0={class:"py-4 bg-gradient-to-b from-teal-900 to-teal-700 text-white"},O0=qg('<div class="container my-0 mx-auto py-8 text-center" data-v-b74855fb><div class="contacts" data-v-b74855fb><p class="font-semibold text-lg" data-v-b74855fb>Developed by <span class="text-teal-100 text-xl" data-v-b74855fb>Olena Surilova</span></p><div class="mx-auto my-6 links flex sm:w-96 w-48 justify-evenly" data-v-b74855fb><a class="my-cv inline-block py-2 px-6 border-2 font-medium border-solid border-teal-300 rounded-xl hover:bg-teal-900 hover:text-teal-100 transition-all" href="https://drive.google.com/file/d/1AM3N2spNyihfwj5wmAjZ2MhAiO1eoV9k/view?usp=sharing" target="_blank" data-v-b74855fb>My CV</a><a class="inline-block py-2 px-6 border-2 font-medium border-solid border-teal-300 rounded-xl hover:bg-teal-900 hover:text-teal-100 transition-all" href="https://www.linkedin.com/in/olena-surilova-8aa66b122/" target="_blank" data-v-b74855fb>LinkedIn</a><a class="inline-block py-2 px-6 border-2 font-medium border-solid border-teal-300 rounded-xl hover:bg-teal-900 hover:text-teal-100 transition-all" href="https://github.com/helen25sur" target="_blank" data-v-b74855fb>GitHub</a></div></div><div class="logo-block" data-v-b74855fb><img class="block my-4 mx-auto" src="'+D0+'" alt="School logo" data-v-b74855fb></div></div>',1),P0=[O0];function F0(e,r){return at(),yt("footer",C0,P0)}const nd=Cr(I0,[["render",F0],["__scopeId","data-v-b74855fb"]]),M0={__name:"CoursesListView",setup(e){const r=tr(!1);return(o,c)=>(at(),yt(Gt,null,[r.value?lr("",!0):(at(),Hr(rl,{key:0})),zc(Tt(x0,{onVnodeBeforeUpdate:c[0]||(c[0]=h=>r.value=!0)},null,512),[[uf,r.value]]),r.value?(at(),Hr(nd,{key:1})):lr("",!0)],64))}};const id=e=>(Zn("data-v-af7b9a0b"),e=e(),ei(),e),N0={class:"flex items-center justify-center bg-teal-600 text-white font-bold rounded-full w-10 h-10 absolute"},U0={class:"pl-6 text-teal-700 font-semibold text-2xl text-center"},B0={key:0,class:"locked absolute w-60 h-30 text-lg p-6 text-center font-bold bg-gray-200 rounded-2xl z-10"},K0={key:1},j0=id(()=>Qe("p",{class:"mt-2"},[pr("If you want to increase speed of video - press "),Qe("span",{style:{"font-family":"'Courier New', Courier, monospace"},class:"text-orange-700 text-lg"},"Ctrl + ArrowUp")],-1)),G0=id(()=>Qe("p",null,[pr("If you want to decrease speed of video - press "),Qe("span",{style:{"font-family":"'Courier New', Courier, monospace"},class:"text-orange-700 text-lg"},"Ctrl + ArrowDown")],-1)),H0={key:2},V0=["src","alt"],Y0=["alt"],W0={key:3},$0=["src"],z0={__name:"LessonComponent",props:["lesson"],setup(e){return(r,o)=>(at(),yt(Gt,null,[Qe("span",N0,zt(e.lesson.order),1),Qe("h4",U0,zt(e.lesson.title),1),e.lesson.status==="locked"?(at(),yt("span",B0,zt(e.lesson.status),1)):lr("",!0),e.lesson.type==="video"?(at(),yt("div",K0,[j0,G0,Tt(Jf,{class:"mt-6",id:e.lesson.id,video:e.lesson.link},null,8,["id","video"])])):e.lesson.type==="quiz_simulator"?(at(),yt("div",H0,[e.lesson.previewImageLink!=="https://wisey.app/assets/images/web/no-cover.webp"?(at(),yt("img",{key:0,class:"mt-6 rounded-xl",src:e.lesson.previewImageLink+"/lesson-"+e.lesson.order+".webp",alt:e.lesson.title},null,8,V0)):(at(),yt("img",{key:1,src:"https://wisey.app/assets/images/web/no-cover.webp",alt:e.lesson.title+" no image cover"},null,8,Y0))])):e.lesson.type==="article"?(at(),yt("div",W0,[Qe("iframe",{src:e.lesson.link,frameborder:"0",style:{width:"100%","min-height":"600px"}},null,8,$0)])):lr("",!0)],64))}},q0=Cr(z0,[["__scopeId","data-v-af7b9a0b"]]);const nl=e=>(Zn("data-v-dcc2898d"),e=e(),ei(),e),X0={class:"flex md:h-80"},Q0=["src","alt"],J0={class:"bg-slate-100 box-content py-1"},Z0={class:"course-content"},eE={class:"title-block py-12 bg-teal-600 text-white text-center"},tE={class:"sm:text-3xl text-2xl font-extrabold"},rE={class:"container mt-0 mb-10 mx-auto pb-10"},nE={class:"py-6 sm:text-3xl text-2xl text-teal-500 text-center font-bold"},iE={class:"lessons-skills"},aE={class:"text-right mt-2"},sE={class:"text-orange-500 text-lg"},oE=nl(()=>Qe("span",{class:"text-black ml-3"},"Duration:",-1)),lE={class:"inline-block ml-3 py-1 px-3 bg-orange-300 border border-solid border-orange-400 rounded-sm text-black"},uE={class:"lessons-section grid"},cE=nl(()=>Qe("h2",{class:"lessons-title sm:text-2xl text-xl font-semibold text-teal-600"},"Lessons:",-1)),fE={class:"lessons-list"},dE=["onClick"],hE={class:"absolute right-0 top-0 p-2 text-sm bg-gray-200 rounded-2xl"},gE=nl(()=>Qe("hr",null,null,-1)),vE={class:"lessons-preview relative"},mE={__name:"CourseDetailComponent",props:["id"],setup(e){const r=e,o=new rd,c=tr({}),h=tr(!1),p=tr([]),E=tr({}),S=async()=>{const k=await o.getDetailCourse(r.id);c.value=k,console.log(k),h.value=!0,p.value=c.value.lessons,E.value=b.value[0]},b=Lt(()=>[...p.value].sort((k,_)=>k.order-_.order));return Vc(()=>{S()}),(k,_)=>{var y;const A=Vn("font-awesome-icon");return at(),yt(Gt,null,[Qe("header",X0,[Qe("img",{class:"my-0 mx-auto poster",src:c.value.previewImageLink+"/cover.webp",alt:c.value.title},null,8,Q0)]),Qe("main",J0,[Qe("article",Z0,[Qe("div",eE,[Qe("h1",tE,zt(c.value.title),1),Tt(ed,{class:"justify-center",rating:c.value.rating},null,8,["rating"])]),Qe("div",rE,[Qe("p",nE,zt(c.value.description),1),Qe("div",iE,[Tt(Zf,{skills:(y=c.value.meta)==null?void 0:y.skills},null,8,["skills"]),Qe("p",aE,[Qe("span",sE,[Tt(A,{icon:"fa-regular fa-hourglass"})]),oE,Qe("span",lE,zt(c.value.duration),1)]),Qe("section",uE,[cE,Qe("ul",fE,[(at(!0),yt(Gt,null,Mi(or(b),w=>(at(),yt("li",{key:w.id,class:"list-item py-4 cursor-pointer"},[Qe("h3",{onClick:P=>{E.value=w},class:"text-xl font-semibold hover:text-teal-700 relative"},[pr(zt(w.title)+" ",1),Qe("span",hE,zt(w.status),1)],8,dE),gE]))),128))]),Qe("div",vE,[Tt(q0,{lesson:E.value},null,8,["lesson"])])])])])])])],64)}}},pE=Cr(mE,[["__scopeId","data-v-dcc2898d"]]),ad={__name:"ButtonToMainComponent",props:["title"],setup(e){const r=Qf(),o=()=>{r.push("/courses")};return(c,h)=>(at(),yt("button",{onClick:o,class:"px-6 py-3 bg-gradient-to-r from-teal-500 to-green-600 hover:from-orange-500 hover:to-teal-500 text-white font-semibold border border-solid border-teal-700 rounded-2xl uppercase cursor-pointer transition-colors"},zt(e.title),1))}};const yE={key:1},EE={__name:"CourseDetailView",setup(e){const r=Qf(),o=tr(r.currentRoute.value.path.slice(9)),c=tr(!1);return(h,p)=>(at(),yt(Gt,null,[c.value?lr("",!0):(at(),Hr(rl,{key:0})),c.value?(at(),yt("div",yE,[Tt(ad,{class:"absolute lg:top-10 xl:left-40 top-5 left-10",title:"All Courses"})])):lr("",!0),zc(Tt(pE,{id:o.value,onVnodeBeforeUpdate:p[0]||(p[0]=E=>c.value=!0)},null,8,["id"]),[[uf,c.value]]),c.value?(at(),Hr(nd,{key:2})):lr("",!0)],64))}},bE=Cr(EE,[["__scopeId","data-v-cbb232b3"]]);const sd=e=>(Zn("data-v-a514e287"),e=e(),ei(),e),TE={key:1},SE={key:2},_E={class:"bg-gradient-to-r from-teal-800 to-green-900"},AE={class:"w-7/12 m-auto py-16 min-h-screen flex items-center justify-center"},kE={class:"bg-teal-50 shadow overflow-hidden sm:rounded-lg pb-8"},LE={class:"border-t border-gray-200 text-center pt-8"},wE=sd(()=>Qe("h1",{class:"text-6xl font-medium py-8"},[Qe("span",{class:"text-9xl font-bold text-green-700"},"404"),pr(),Qe("br"),Qe("br"),pr(" oops! Page not found")],-1)),RE=sd(()=>Qe("p",{class:"text-2xl pb-8 px-12 font-medium"},"Oops! The page you are looking for does not exist. It might have been moved or deleted.",-1)),xE={__name:"NotFoundView",setup(e){const r=tr(!1);return Na(()=>{r.value=!0}),(o,c)=>(at(),yt(Gt,null,[r.value?lr("",!0):(at(),Hr(rl,{key:0})),r.value?(at(),yt("header",TE)):lr("",!0),r.value?(at(),yt("main",SE,[Qe("div",_E,[Qe("div",AE,[Qe("div",kE,[Qe("div",LE,[wE,RE,Tt(ad,{title:"All Courses Page"})])])])])])):lr("",!0)],64))}},DE=Cr(xE,[["__scopeId","data-v-a514e287"]]),IE=[{path:"/:pathMatch(.*)*",name:"NotFound",component:DE},{path:"/",redirect:"/courses"},{path:"/courses",name:"coursesPreview",component:M0},{path:"/courses/:courseId",name:"courseDetail",component:bE}],CE=Fy({history:Qp("/tech-task-genesis-frontend-school/"),routes:IE});lp.add(Lp,kp,xp,wp,Rp,Dp);const il=Rv(Op);il.use(CE);il.mount("#app");il.component("font-awesome-icon",Ap);
